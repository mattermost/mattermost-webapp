!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=86)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return _})),n.d(t,"__generator",(function(){return l})),n.d(t,"__exportStar",(function(){return E})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return h})),n.d(t,"__await",(function(){return p})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return C})),n.d(t,"__asyncValues",(function(){return m})),n.d(t,"__makeTemplateObject",(function(){return T})),n.d(t,"__importStar",(function(){return S})),n.d(t,"__importDefault",(function(){return v}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function _(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function E(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function p(e){return this instanceof p?(this.v=e,this):new p(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof p?Promise.resolve(n.value.v).then(u,c):_(o[0][2],n)}catch(e){_(o[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function _(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function C(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:p(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function T(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importDefault(n(87));t.General=i.default;var o=r.__importDefault(n(88));t.RequestStatus=o.default;var s=r.__importDefault(n(89));t.WebsocketEvents=s.default;var a=r.__importDefault(n(90));t.Preferences=a.default;var u=r.__importDefault(n(91));t.Posts=u.default;var c=r.__importDefault(n(92));t.Files=c.default;var _=r.__importDefault(n(93));t.Alerts=_.default;var l=r.__importDefault(n(94));t.Teams=l.default;var E=r.__importDefault(n(95));t.Stats=E.default;var d=r.__importDefault(n(96));t.Permissions=d.default;var f=r.__importDefault(n(97));t.Emoji=f.default;var h=r.__importDefault(n(98));t.Plugins=h.default;var p=r.__importDefault(n(99));t.Groups=p.default;var g=r.__importDefault(n(100));t.Users=g.default},function(e,t){e.exports=PropTypes},function(e,t,n){(function(t){var n="object",r=function(e){return e&&e.Math==Math&&e};e.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof t==n&&t)||Function("return this")()}).call(this,n(61))},function(e,t,n){var r=n(5),i=n(37),o=n(65),s=n(116),a=r.Symbol,u=i("wks");e.exports=function(e){return u[e]||(u[e]=s&&a[e]||(s?a:o)("Symbol."+e))}},function(e,t,n){"use strict";function r(e,t){return e===t}function i(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return i(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,a=r.pop(),u=s(r),c=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(n)),_=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return c.apply(null,e)}));return _.resultFunc=a,_.dependencies=u,_.recomputations=function(){return o},_.resetRecomputations=function(){return o=0},_}}n.r(t),n.d(t,"defaultMemoize",(function(){return o})),n.d(t,"createSelectorCreator",(function(){return a})),n.d(t,"createSelector",(function(){return u})),n.d(t,"createStructuredSelector",(function(){return c}));var u=a(o);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importStar(n(132));t.DEFAULT_LIMIT_AFTER=r.DEFAULT_LIMIT_AFTER,t.DEFAULT_LIMIT_BEFORE=r.DEFAULT_LIMIT_BEFORE,t.HEADER_X_VERSION_ID=r.HEADER_X_VERSION_ID;var i=new r.default;t.Client4=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),o=n(13),s=n(3);function a(e){return e.entities.general.config}function u(e){return e.entities.general.license}t.getConfig=a,t.getLicense=u,t.getSupportedTimezones=function(e){return e.entities.general.timezones},t.getCurrentUrl=function(e){return e.entities.general.credentials.url},t.isCompatibleWithJoinViewTeamPermissions=function(e){var t=e.entities.general.serverVersion;return o.isMinimumServerVersion(t,5,10,0)||-1!==t.indexOf("dev")&&o.isMinimumServerVersion(t,5,8,0)||null!==t.match(/^5.8.\d.\d\d\d\d.*$/)&&o.isMinimumServerVersion(t,5,8,0)},t.hasNewPermissions=function(e){var t=e.entities.general.serverVersion;return o.isMinimumServerVersion(t,4,9,0)||-1!==t.indexOf("dev")&&o.isMinimumServerVersion(t,4,8,0)||null!==t.match(/^4.8.\d.\d\d\d\d.*$/)&&o.isMinimumServerVersion(t,4,8,0)},t.canUploadFilesOnMobile=i.createSelector(a,u,(function(e,t){return"false"!==e.EnableFileAttachments&&("false"===t.IsLicensed||"false"===t.Compliance||"false"!==e.EnableMobileFileUpload)})),t.canDownloadFilesOnMobile=i.createSelector(a,u,(function(e,t){return"false"===t.IsLicensed||"false"===t.Compliance||"false"!==e.EnableMobileFileDownload})),t.getAutolinkedUrlSchemes=i.createSelector(a,(function(e){return e.CustomUrlSchemes?r.__spread(s.General.DEFAULT_AUTOLINKED_URL_SCHEMES,e.CustomUrlSchemes.split(",")):s.General.DEFAULT_AUTOLINKED_URL_SCHEMES})),t.getServerVersion=function(e){return e.entities.general.serverVersion}},function(e,t,n){var r=n(16);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),o=n(29);t.getCurrentUser=o.getCurrentUser,t.getCurrentUserId=o.getCurrentUserId,t.getUsers=o.getUsers;var s=n(9),a=n(26),u=n(30);function c(e){return e.entities.users.profilesInChannel}function _(e){return e.entities.users.profilesNotInChannel}function l(e){return e.entities.users.profilesInTeam}function E(e){return e.entities.users.profilesNotInTeam}function d(e){return e.entities.users.profilesWithoutTeam}function f(e){return e.entities.users.statuses}function h(e,t){return e.entities.users.profiles[t]}t.getUserIdsInChannels=c,t.getUserIdsNotInChannels=_,t.getUserIdsInTeams=l,t.getUserIdsNotInTeams=E,t.getUserIdsWithoutTeam=d,t.getUserStatuses=f,t.getUserSessions=function(e){return e.entities.users.mySessions},t.getUserAudits=function(e){return e.entities.users.myAudits},t.getUser=h,t.getUsersByUsername=i.createSelector(o.getUsers,(function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[r.username]=r}return t})),t.getUserByUsername=function(e,n){return t.getUsersByUsername(e)[n]},t.getUsersByEmail=i.createSelector(o.getUsers,(function(e){var t,n,i={};try{for(var o=r.__values(Object.keys(e).map((function(t){return e[t]}))),s=o.next();!s.done;s=o.next()){var a=s.value;i[a.email]=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i})),t.getUserByEmail=function(e,n){return t.getUsersByEmail(e)[n]},t.isCurrentUserSystemAdmin=i.createSelector(o.getCurrentUser,(function(e){var t=e.roles||"";return u.isSystemAdmin(t)})),t.getCurrentUserRoles=i.createSelector(o.getMyCurrentChannelMembership,(function(e){return e.entities.teams.myMembers[e.entities.teams.currentTeamId]}),o.getCurrentUser,(function(e,t,n){var r="";return t&&(r+=t.roles+" "),e&&(r+=e.roles+" "),n&&(r+=n.roles),r.trim()})),t.getCurrentUserMentionKeys=i.createSelector(o.getCurrentUser,(function(e){var t=[];if(!e||!e.notify_props)return t;e.notify_props.mention_keys&&(t=t.concat(e.notify_props.mention_keys.split(",").map((function(e){return{key:e}})))),"true"===e.notify_props.first_name&&e.first_name&&t.push({key:e.first_name,caseSensitive:!0}),"true"===e.notify_props.channel&&(t.push({key:"@channel"}),t.push({key:"@all"}),t.push({key:"@here"}));var n="@"+e.username;return-1===t.findIndex((function(e){return e.key===n}))&&t.push({key:n}),t})),t.getProfileSetInCurrentChannel=i.createSelector(o.getCurrentChannelId,c,(function(e,t){return t[e]})),t.getProfileSetNotInCurrentChannel=i.createSelector(o.getCurrentChannelId,_,(function(e,t){return t[e]})),t.getProfileSetInCurrentTeam=i.createSelector((function(e){return e.entities.teams.currentTeamId}),l,(function(e,t){return t[e]})),t.getProfileSetNotInCurrentTeam=i.createSelector((function(e){return e.entities.teams.currentTeamId}),E,(function(e,t){return t[e]}));function p(e,t,n){void 0===n&&(n=!1);var r=[];return void 0===t?r:(r=(r="all"===t?Object.keys(e).map((function(t){return e[t]})):Array.from(t).map((function(t){return e[t]}))).filter((function(e){return Boolean(e)})),n&&(r=r.filter((function(e){return!(e.delete_at&&0!==e.delete_at)}))),r.sort(u.sortByUsername))}function g(e,t){if(!t)return e;var n=Object.keys(e).map((function(t){return e[t]}));return t.role&&""!==t.role&&(n=n.filter((function(e){return e.roles&&e.roles.includes(t&&t.role||"")}))),t.inactive&&(n=n.filter((function(e){return 0!==e.delete_at}))),n.reduce((function(e,t){return e[t.id]=t,e}),{})}function C(e,t){var n=e.findIndex((function(e){return e.id===t}));n>=0&&e.splice(n,1)}t.getProfiles=i.createSelector(o.getUsers,(function(e,t){return t}),(function(e,t){return p(g(e,t),"all")})),t.getProfilesInCurrentChannel=i.createSelector(o.getUsers,t.getProfileSetInCurrentChannel,(function(e,t){return p(e,t)})),t.getProfilesNotInCurrentChannel=i.createSelector(o.getUsers,t.getProfileSetNotInCurrentChannel,(function(e,t){return p(e,t)})),t.getProfilesInCurrentTeam=i.createSelector(o.getUsers,t.getProfileSetInCurrentTeam,(function(e,t){return p(e,t)})),t.getProfilesInTeam=i.createSelector(o.getUsers,l,(function(e,t){return t}),(function(e,t,n){return n}),(function(e,t,n,r){return p(g(e,r),t[n]||new Set)})),t.getProfilesNotInCurrentTeam=i.createSelector(o.getUsers,t.getProfileSetNotInCurrentTeam,(function(e,t){return p(e,t)})),t.getProfilesWithoutTeam=i.createSelector(o.getUsers,d,(function(e,t){return t}),(function(e,t,n){return p(g(e,n),t)})),t.getStatusForUserId=function(e,t){return f(e)[t]},t.getTotalUsersStats=function(e){return e.entities.users.stats},t.searchProfiles=function(e,t,n,r){void 0===n&&(n=!1);var i=o.getUsers(e),s=u.filterProfilesMatchingTerm(Object.keys(i).map((function(e){return i[e]})),t),a=g(u.profileListToMap(s),r),c=Object.keys(a).map((function(e){return a[e]}));return n&&C(c,o.getCurrentUserId(e)),c},t.searchProfilesInCurrentChannel=function(e,n,r){void 0===r&&(r=!1);var i=u.filterProfilesMatchingTerm(t.getProfilesInCurrentChannel(e),n);return r&&C(i,o.getCurrentUserId(e)),i},t.searchProfilesNotInCurrentChannel=function(e,n,r){void 0===r&&(r=!1);var i=u.filterProfilesMatchingTerm(t.getProfilesNotInCurrentChannel(e),n);return r&&C(i,o.getCurrentUserId(e)),i},t.searchProfilesInCurrentTeam=function(e,n,r){void 0===r&&(r=!1);var i=u.filterProfilesMatchingTerm(t.getProfilesInCurrentTeam(e),n);return r&&C(i,o.getCurrentUserId(e)),i},t.searchProfilesInTeam=function(e,n,r,i,s){void 0===i&&(i=!1);var a=u.filterProfilesMatchingTerm(t.getProfilesInTeam(e,n),r),c=g(u.profileListToMap(a),s),_=Object.keys(c).map((function(e){return c[e]}));return i&&C(_,o.getCurrentUserId(e)),_},t.searchProfilesNotInCurrentTeam=function(e,n,r){void 0===r&&(r=!1);var i=u.filterProfilesMatchingTerm(t.getProfilesNotInCurrentTeam(e),n);return r&&C(i,o.getCurrentUserId(e)),i},t.searchProfilesWithoutTeam=function(e,n,r,i){void 0===r&&(r=!1);var s=u.filterProfilesMatchingTerm(t.getProfilesWithoutTeam(e,i),n);return r&&C(s,o.getCurrentUserId(e)),s},t.shouldShowTermsOfService=i.createSelector(s.getConfig,o.getCurrentUser,s.getLicense,(function(e,t,n){var r=t?t.terms_of_service_id:"",i=t?t.terms_of_service_create_at:0,o="true"===n.IsLicensed&&"true"===e.EnableCustomTermsOfService,s=1e3*parseInt(e.CustomTermsOfServiceReAcceptancePeriod,10)*60*60*24,a=(new Date).getTime()-i;return Boolean(t&&o&&(e.CustomTermsOfServiceId!==r||a>s))})),t.getUsersInVisibleDMs=i.createSelector(o.getUsers,a.getDirectShowPreferences,(function(e,t){var n=[];return t.forEach((function(t){"true"===t.value&&e[t.name]&&n.push(e[t.name])})),n})),t.makeGetProfilesForReactions=function(){return i.createSelector(o.getUsers,(function(e,t){return t}),(function(e,t){var n=[];return t.forEach((function(t){e[t.user_id]&&n.push(e[t.user_id])})),n}))},t.makeGetProfilesInChannel=function(){return i.createSelector(o.getUsers,c,(function(e,t){return t}),(function(e,t,n){return n}),(function(e,t,n,r){void 0===r&&(r=!1);var i=t[n];return i?p(e,i,r):[]}))},t.makeGetProfilesNotInChannel=function(){return i.createSelector(o.getUsers,_,(function(e,t){return t}),(function(e,t,n){return n}),(function(e,t,n,r){void 0===r&&(r=!1);var i=t[n];return i?p(e,i,r):[]}))},t.makeGetProfilesByIdsAndUsernames=function(){return i.createSelector(o.getUsers,t.getUsersByUsername,(function(e,t){return t.allUserIds}),(function(e,t){return t.allUsernames}),(function(e,t,n,i){var o=[];if(n&&n.length>0){var s=n.filter((function(t){return e[t]})).map((function(t){return e[t]}));s&&s.length>0&&o.push.apply(o,r.__spread(s))}if(i&&i.length>0){var a=i.filter((function(e){return t[e]})).map((function(e){return t[e]}));a&&a.length>0&&o.push.apply(o,r.__spread(a))}return o}))},t.makeGetDisplayName=function(){return i.createSelector((function(e,t){return h(e,t)}),a.getTeammateNameDisplaySetting,(function(e,t,n){return void 0===n&&(n=!0),n}),(function(e,t,n){return u.displayUsername(e,t,n)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importDefault(n(147));t.ChannelTypes=i.default;var o=r.__importDefault(n(148));t.ErrorTypes=o.default;var s=r.__importDefault(n(149));t.GeneralTypes=s.default;var a=r.__importDefault(n(150));t.UserTypes=a.default;var u=r.__importDefault(n(151));t.TeamTypes=u.default;var c=r.__importDefault(n(152));t.PostTypes=c.default;var _=r.__importDefault(n(153));t.FileTypes=_.default;var l=r.__importDefault(n(154));t.PreferenceTypes=l.default;var E=r.__importDefault(n(155));t.IntegrationTypes=E.default;var d=r.__importDefault(n(156));t.EmojiTypes=d.default;var f=r.__importDefault(n(157));t.GifTypes=f.default;var h=r.__importDefault(n(158));t.AdminTypes=h.default;var p=r.__importDefault(n(159));t.AlertTypes=p.default;var g=r.__importDefault(n(160));t.JobTypes=g.default;var C=r.__importDefault(n(161));t.SearchTypes=C.default;var m=r.__importDefault(n(162));t.RoleTypes=m.default;var T=r.__importDefault(n(163));t.SchemeTypes=T.default;var S=r.__importDefault(n(164));t.GroupTypes=S.default;var v=r.__importDefault(n(165));t.BotTypes=v.default;var y=r.__importDefault(n(166));t.PluginTypes=y.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importStar(n(7)),o=r.__importDefault(n(101));function s(e){var t=null,n=null;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!o.default(t,r)){var s=Reflect.apply(e,null,arguments);o.default(n,s)||(n=s)}return t=arguments,n}}t.memoizeResult=s,t.createIdsSelector=i.createSelectorCreator(s),t.createShallowSelector=i.createSelectorCreator(i.defaultMemoize,o.default),t.isMinimumServerVersion=function(e,t,n,r){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),!e||"string"!=typeof e)return!1;var i=e.split("."),o=parseInt(i[0],10),s=parseInt(i[1]||"0",10),a=parseInt(i[2]||"0",10);return o>t||!(o<t)&&(s>n||!(s<n)&&(a>r||!(a<r)))},t.generateId=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return e=e.replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)}))},t.isEmail=function(e){return/^[^ ,@]+@[^ ,@]+$/.test(e)},t.buildQueryString=function(e){var t=Object.keys(e);if(0===t.length)return"";for(var n="?",r=0;r<t.length;r++){var i=t[r];n+=i+"="+encodeURIComponent(e[i]),r<t.length-1&&(n+="&")}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importStar(n(7)),o=n(3),s=n(9),a=n(43),u=n(13),c=n(30),_=n(103);function l(e){return e.entities.teams.currentTeamId}function E(e){return e.entities.teams.teams}function d(e){return e.entities.teams.stats}function f(e){return e.entities.teams.myMembers}function h(e){return e.entities.teams.membersInTeam}t.getCurrentTeamId=l,t.getTeamByName=i.createSelector(E,(function(e,t){return t}),(function(e,t){return Object.values(e).find((function(e){return e.name===t}))})),t.getTeams=E,t.getTeamStats=d,t.getTeamMemberships=f,t.getMembersInTeams=h,t.getTeamsList=i.createSelector(E,(function(e){return Object.values(e)})),t.getCurrentTeam=i.createSelector(E,l,(function(e,t){return e[t]})),t.getTeam=function(e,t){return E(e)[t]},t.getCurrentTeamMembership=i.createSelector(l,f,(function(e,t){return t[e]})),t.isCurrentUserCurrentTeamAdmin=i.createSelector(t.getCurrentTeamMembership,(function(e){if(e){var t=e.roles||"";return c.isTeamAdmin(t)}return!1})),t.getCurrentTeamUrl=i.createSelector(s.getCurrentUrl,t.getCurrentTeam,(function(e){return s.getConfig(e).SiteURL}),(function(e,t,n){var r=""+(e||n);return t?r+"/"+t.name:r})),t.getCurrentRelativeTeamUrl=i.createSelector(t.getCurrentTeam,(function(e){return e?"/"+e.name:"/"})),t.getCurrentTeamStats=i.createSelector(l,d,(function(e,t){return t[e]})),t.getMyTeams=i.createSelector(E,f,(function(e,t){return Object.values(e).filter((function(e){return t[e.id]&&0===e.delete_at}))})),t.getMyTeamMember=i.createSelector(f,(function(e,t){return t}),(function(e,t){return e[t]||{}})),t.getMembersInCurrentTeam=i.createSelector(l,h,(function(e,t){return t[e]})),t.getTeamMember=function(e,t,n){var r=h(e)[t];return r?r[n]:null},t.getListableTeamIds=u.createIdsSelector(E,f,(function(e){return a.haveISystemPermission(e,{permission:o.Permissions.LIST_PUBLIC_TEAMS})}),(function(e){return a.haveISystemPermission(e,{permission:o.Permissions.LIST_PRIVATE_TEAMS})}),s.isCompatibleWithJoinViewTeamPermissions,(function(e,t,n,r,i){return Object.keys(e).filter((function(o){var s=e[o],a=t[o],u=s.allow_open_invite;return i&&(u=r&&!s.allow_open_invite||n&&s.allow_open_invite),0===s.delete_at&&u&&!a}))})),t.getListableTeams=i.createSelector(E,t.getListableTeamIds,(function(e,t){return t.map((function(t){return e[t]}))})),t.getSortedListableTeams=i.createSelector(E,t.getListableTeamIds,(function(e,t){return t}),(function(e,t,n){var i,o,s={};try{for(var a=r.__values(t),u=a.next();!u.done;u=a.next()){var c=u.value;s[c]=e[c]}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return Object.values(s).sort(_.sortTeamsWithLocale(n))})),t.getJoinableTeamIds=u.createIdsSelector(E,f,(function(e){return a.haveISystemPermission(e,{permission:o.Permissions.JOIN_PUBLIC_TEAMS})}),(function(e){return a.haveISystemPermission(e,{permission:o.Permissions.JOIN_PRIVATE_TEAMS})}),s.isCompatibleWithJoinViewTeamPermissions,(function(e,t,n,r,i){return Object.keys(e).filter((function(o){var s=e[o],a=t[o],u=s.allow_open_invite;return i&&(u=r&&!s.allow_open_invite||n&&s.allow_open_invite),0===s.delete_at&&u&&!a}))})),t.getJoinableTeams=i.createSelector(E,t.getJoinableTeamIds,(function(e,t){return t.map((function(t){return e[t]}))})),t.getSortedJoinableTeams=i.createSelector(E,t.getJoinableTeamIds,(function(e,t){return t}),(function(e,t,n){var i,o,s={};try{for(var a=r.__values(t),u=a.next();!u.done;u=a.next()){var c=u.value;s[c]=e[c]}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return Object.values(s).sort(_.sortTeamsWithLocale(n))})),t.getMySortedTeamIds=u.createIdsSelector(t.getMyTeams,(function(e,t){return t}),(function(e,t){return e.sort(_.sortTeamsWithLocale(t)).map((function(e){return e.id}))})),t.getMyTeamsCount=i.createSelector(t.getMyTeams,(function(e){return e.length})),t.getChannelDrawerBadgeCount=i.createSelector(l,f,(function(e,t){var n=0,r=0;Object.values(t).forEach((function(t){t.team_id!==e&&(n+=t.mention_count||0,r+=t.msg_count||0)}));var i=0;return n?i=n:r&&(i=-1),i})),t.makeGetBadgeCountForTeamId=function(){return i.createSelector(f,(function(e,t){return t}),(function(e,t){var n=e[t],r=0;return n&&(n.mention_count?r=n.mention_count:n.msg_count&&(r=-1)),r}))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(22),i=n(32),o=n(47);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),o=n(12),s=n(24),a=n(21);function u(e,t,n){var r=n().entities.users.currentUserId;"status_code"in e&&401===e.status_code&&e.url&&-1===e.url.indexOf("/login")&&r&&(i.Client4.setToken(""),t({type:o.UserTypes.LOGOUT_SUCCESS,data:{}}))}function c(e,t,n,r){-1===e.indexOf("SUCCESS")?n(l(e,t),r):n(_(e),r)}function _(e){return{type:e,data:null}}function l(e,t){return{type:e,data:t}}function E(e,t){return{type:e,error:t}}t.forceLogoutIfNecessary=u,t.requestData=_,t.requestSuccess=l,t.requestFailure=E,t.bindClientFunc=function(e){var t=this,n=e.clientFunc,i=e.onRequest,o=e.onSuccess,l=e.onFailure,d=e.params,f=void 0===d?[]:d;return function(e,d){return r.__awaiter(t,void 0,void 0,(function(){var t,h,p;return r.__generator(this,(function(g){switch(g.label){case 0:i&&e(_(i),d),t=null,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,n.apply(void 0,r.__spread(f))];case 2:return t=g.sent(),[3,4];case 3:return u(h=g.sent(),e,d),p=[a.logError(h)],l&&p.push(E(l,h)),e(s.batchActions(p)),[2,{error:h}];case 4:return Array.isArray(o)?o.forEach((function(n){c(n,t,e,d)})):o&&c(o,t,e,d),[2,{data:t}]}}))}))}},t.debounce=function(e,t,n,r){var i;return function(){for(var o=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=function(){i=null,n||(Reflect.apply(e,o,s),r&&r())},c=n&&!i;i&&clearTimeout(i),i=setTimeout(u,t),c&&(Reflect.apply(e,this,s),r&&r())}};var d=function(e){function t(t,n,r){void 0===r&&(r={});var i=e.call(this,n)||this;return i.intl={id:t,defaultMessage:n,values:r},i}return r.__extends(t,e),t}(Error);t.FormattedError=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStyleFromTheme=function(e){var t,n;return function(r){return n&&r===t||(n=e(r),t=r),n}};var r=/^rgba?\((\d+),(\d+),(\d+)(?:,([\d.]+))?\)$/;function i(e){var t=e,n=r.exec(t);if(n)return{red:parseInt(n[1],10),green:parseInt(n[2],10),blue:parseInt(n[3],10),alpha:n[4]?parseFloat(n[4]):1};if("#"===t[0]&&(t=t.slice(1)),3===t.length){var i=t;t="",t+=i[0]+i[0],t+=i[1]+i[1],t+=i[2]+i[2]}return{red:parseInt(t.substring(0,2),16),green:parseInt(t.substring(2,4),16),blue:parseInt(t.substring(4,6),16),alpha:1}}function o(e,t,n){return(1-n)*e+n*t}t.getComponents=i,t.changeOpacity=function(e,t){var n=i(e);return"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha*t+")"},t.blendColors=function(e,t,n){var r=i(e),s=i(t);return"rgba("+Math.floor(o(r.red,s.red,n))+","+Math.floor(o(r.green,s.green,n))+","+Math.floor(o(r.blue,s.blue,n))+","+o(r.alpha,s.alpha,n)+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(12),o=n(167),s=n(8),a=r.__importDefault(n(82));function u(e){return{type:i.ErrorTypes.DISMISS_ERROR,index:e,data:null}}function c(e,t){return void 0===t&&(t=!1),{type:i.ErrorTypes.LOG_ERROR,displayable:t,error:e,data:null}}t.dismissErrorObject=u,t.dismissError=function(e){var t=this;return function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n(u(e)),[2,{data:!0}]}))}))}},t.getLogErrorAction=c,t.logError=function(e,t){var n=this;return void 0===t&&(t=!1),function(u){return r.__awaiter(n,void 0,void 0,(function(){var n,_,l;return r.__generator(this,(function(r){switch(r.label){case 0:if("api.context.session_expired.app_error"===e.server_error_id)return[2,{data:!0}];if(n=o.serializeError(e),_=!0,e.stack&&e.stack.includes("TypeError: Failed to fetch")&&(_=!1),e.server_error_id&&(_=!1),!_)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),l=JSON.stringify(n).toString(),[4,s.Client4.logClientError(l)];case 2:return r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:return a.default.emit(i.ErrorTypes.LOG_ERROR,e),u(c(n,t)),[2,{data:!0}]}}))}))}},t.clearErrors=function(){var e=this;return function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return t({type:i.ErrorTypes.CLEAR_ERRORS,data:null}),[2,{data:!0}]}))}))}}},function(e,t,n){var r=n(15);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BATCH="BATCHING_REDUCER.BATCH",t.batchActions=function(e,n){return void 0===n&&(n=t.BATCH),{type:n,meta:{batch:!0},payload:e}},t.enableBatching=function(e){return function t(n,r){return r&&"meta"in r&&r.meta.batch?r.payload.reduce(t,n):e(n,r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(24),o=n(8),s=n(3),a=n(12),u=n(83),c=n(172),_=n(173),l=n(41),E=n(34),d=n(30),f=n(13),h=n(9),p=n(11),g=n(21),C=n(19),m=n(58);function T(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,u;return r.__generator(this,(function(r){switch(r.label){case 0:n({type:a.UserTypes.CHECK_MFA_REQUEST,data:null},s),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.Client4.checkUserMfa(e)];case 2:return t=r.sent(),n({type:a.UserTypes.CHECK_MFA_SUCCESS,data:null},s),[2,{data:t.mfa_required}];case 3:return u=r.sent(),n(i.batchActions([{type:a.UserTypes.CHECK_MFA_FAILURE,error:u},g.logError(u)]),s),[2,{error:u}];case 4:return[2]}}))}))}}function S(e){return C.bindClientFunc({clientFunc:o.Client4.generateMfaSecret,params:[e]})}function v(e,t,n,s){var u=this;return void 0===n&&(n=""),void 0===s&&(s=!1),function(c,_){return r.__awaiter(u,void 0,void 0,(function(){var u,l,E;return r.__generator(this,(function(r){switch(r.label){case 0:c({type:a.UserTypes.LOGIN_REQUEST,data:null},_),u=_().entities.general.deviceToken,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.Client4.login(e,t,n,u,s)];case 2:return l=r.sent(),[3,4];case 3:return E=r.sent(),c(i.batchActions([{type:a.UserTypes.LOGIN_FAILURE,error:E},g.logError(E)]),_),[2,{error:E}];case 4:return[2,y(l)(c,_)]}}))}))}}function y(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,E,d,p,C,T,S,v,y,R,A,I,N,O,L,U,P,M,b,D,w,F,G,H,V,k,B,j,x;return r.__generator(this,(function(Y){switch(Y.label){case 0:n({type:a.UserTypes.RECEIVED_ME,data:e}),o.Client4.setUserId(e.id),o.Client4.setUserRoles(e.roles),Y.label=1;case 1:return Y.trys.push([1,4,,5]),E=o.Client4.getMyTeamMembers(),d=o.Client4.getMyTeamUnreads(),[4,E];case 2:return t=Y.sent(),[4,d];case 3:if(p=Y.sent()){C=function(e){var n=t.findIndex((function(t){return t.team_id===e.team_id})),r=t[n];r.mention_count=e.mention_count,r.msg_count=e.msg_count};try{for(T=r.__values(p),S=T.next();!S.done;S=T.next())v=S.value,C(v)}catch(e){F={error:e}}finally{try{S&&!S.done&&(G=T.return)&&G.call(T)}finally{if(F)throw F.error}}}return[3,5];case 4:return y=Y.sent(),n(i.batchActions([{type:a.UserTypes.LOGIN_FAILURE,error:y},g.logError(y)]),s),[2,{error:y}];case 5:R=[n(m.getMyPreferences()),n(_.getMyTeams()),n(c.getClientConfig())],A=o.Client4.getServerVersion(),n(c.setServerVersion(A)),f.isMinimumServerVersion(A,4,7)||"true"!==h.getConfig(s()).EnableCustomEmoji||n(u.getAllCustomEmojis()),Y.label=6;case 6:return Y.trys.push([6,8,,9]),[4,Promise.all(R)];case 7:return Y.sent(),[3,9];case 8:return I=Y.sent(),n(i.batchActions([{type:a.UserTypes.LOGIN_FAILURE,error:I},g.logError(I)])),[2,{error:I}];case 9:n(i.batchActions([{type:a.TeamTypes.RECEIVED_MY_TEAM_MEMBERS,data:t},{type:a.UserTypes.LOGIN_SUCCESS}])),N=new Set;try{for(O=r.__values(t),L=O.next();!L.done;L=O.next()){U=L.value;try{for(k=void 0,P=r.__values(U.roles.split(" ")),M=P.next();!M.done;M=P.next())w=M.value,N.add(w)}catch(e){k={error:e}}finally{try{M&&!M.done&&(B=P.return)&&B.call(P)}finally{if(k)throw k.error}}try{for(j=void 0,b=r.__values(e.roles.split(" ")),D=b.next();!D.done;D=b.next())w=D.value,N.add(w)}catch(e){j={error:e}}finally{try{D&&!D.done&&(x=b.return)&&x.call(b)}finally{if(j)throw j.error}}}}catch(e){H={error:e}}finally{try{L&&!L.done&&(V=O.return)&&V.call(O)}finally{if(H)throw H.error}}return N.size>0&&n(l.loadRolesIfNeeded(N)),[2,{data:!0}]}}))}))}}function R(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:t({type:a.UserTypes.LOGOUT_REQUEST,data:null},n),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,o.Client4.logout()];case 2:return e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return t({type:a.UserTypes.LOGOUT_SUCCESS,data:null},n),[2,{data:!0}]}}))}))}}function A(){return C.bindClientFunc({clientFunc:o.Client4.getTotalUsersStats,onSuccess:a.UserTypes.RECEIVED_USER_STATS})}function I(e,t,n){var i=this;return void 0===e&&(e=0),void 0===t&&(t=s.General.PROFILE_CHUNK_SIZE),void 0===n&&(n={}),function(s,u){return r.__awaiter(i,void 0,void 0,(function(){var i,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:i=u().entities.users.currentUserId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.Client4.getProfiles(e,t,n)];case 2:return c=r.sent(),d.removeUserFromList(i,c),[3,4];case 3:return _=r.sent(),C.forceLogoutIfNecessary(_,s,u),s(g.logError(_)),[2,{error:_}];case 4:return s({type:a.UserTypes.RECEIVED_PROFILES_LIST,data:c}),[2,{data:c}]}}))}))}}function N(e,t){var n=this;return function(i,s){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:n=s().entities.users.currentUserId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.Client4.getProfilesByIds(e,t)];case 2:return u=r.sent(),d.removeUserFromList(n,u),[3,4];case 3:return c=r.sent(),C.forceLogoutIfNecessary(c,i,s),i(g.logError(c)),[2,{error:c}];case 4:return i({type:a.UserTypes.RECEIVED_PROFILES_LIST,data:u}),[2,{data:u}]}}))}))}}function O(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,s,u;return r.__generator(this,(function(r){switch(r.label){case 0:t=i().entities.users.currentUserId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.Client4.getProfilesByUsernames(e)];case 2:return s=r.sent(),d.removeUserFromList(t,s),[3,4];case 3:return u=r.sent(),C.forceLogoutIfNecessary(u,n,i),n(g.logError(u)),[2,{error:u}];case 4:return n({type:a.UserTypes.RECEIVED_PROFILES_LIST,data:s}),[2,{data:s}]}}))}))}}function L(e,t,n,u,c){var _=this;return void 0===n&&(n=s.General.PROFILE_CHUNK_SIZE),void 0===u&&(u=""),void 0===c&&(c={}),function(s,l){return r.__awaiter(_,void 0,void 0,(function(){var _,E,f;return r.__generator(this,(function(h){switch(h.label){case 0:_=l().entities.users.currentUserId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,o.Client4.getProfilesInTeam(e,t,n,u,c)];case 2:return E=h.sent(),[3,4];case 3:return f=h.sent(),C.forceLogoutIfNecessary(f,s,l),s(g.logError(f)),[2,{error:f}];case 4:return s(i.batchActions([{type:a.UserTypes.RECEIVED_PROFILES_LIST_IN_TEAM,data:E,id:e},{type:a.UserTypes.RECEIVED_PROFILES_LIST,data:d.removeUserFromList(_,r.__spread(E))}]),l),[2,{data:E}]}}))}))}}function U(e,t,n,u){var c=this;return void 0===n&&(n=s.General.PROFILE_CHUNK_SIZE),void 0===u&&(u=""),function(s,_){return r.__awaiter(c,void 0,void 0,(function(){var c,l,E;return r.__generator(this,(function(f){switch(f.label){case 0:c=_().entities.users.currentUserId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,o.Client4.getProfilesInChannel(e,t,n,u)];case 2:return l=f.sent(),[3,4];case 3:return E=f.sent(),C.forceLogoutIfNecessary(E,s,_),s(g.logError(E)),[2,{error:E}];case 4:return s(i.batchActions([{type:a.UserTypes.RECEIVED_PROFILES_LIST_IN_CHANNEL,data:l,id:e},{type:a.UserTypes.RECEIVED_PROFILES_LIST,data:d.removeUserFromList(c,r.__spread(l))}]),_),[2,{data:l}]}}))}))}}function P(e,t,n,u,c){var _=this;return void 0===c&&(c=s.General.PROFILE_CHUNK_SIZE),function(s,l){return r.__awaiter(_,void 0,void 0,(function(){var _,E,f,h;return r.__generator(this,(function(p){switch(p.label){case 0:_=l().entities.users.currentUserId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,o.Client4.getProfilesNotInChannel(e,t,n,u,c)];case 2:return E=p.sent(),[3,4];case 3:return f=p.sent(),C.forceLogoutIfNecessary(f,s,l),s(g.logError(f)),[2,{error:f}];case 4:return h=n?a.UserTypes.RECEIVED_PROFILES_LIST_NOT_IN_CHANNEL_AND_REPLACE:a.UserTypes.RECEIVED_PROFILES_LIST_NOT_IN_CHANNEL,s(i.batchActions([{type:h,data:E,id:t},{type:a.UserTypes.RECEIVED_PROFILES_LIST,data:d.removeUserFromList(_,r.__spread(E))}]),l),[2,{data:E}]}}))}))}}function M(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,C.bindClientFunc({clientFunc:o.Client4.getMe,onSuccess:a.UserTypes.RECEIVED_ME})(t,n)];case 1:return"error"in(e=r.sent())||"data"in e&&t(l.loadRolesIfNeeded(e.data.roles.split(" "))),[2,e]}}))}))}}function b(e,t){var n=this;return function(i,s){return r.__awaiter(n,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,i(C.bindClientFunc({clientFunc:o.Client4.updateMyTermsOfServiceStatus,params:[e,t]}))];case 1:return"data"in(n=r.sent())?(t&&i({type:a.UserTypes.RECEIVED_TERMS_OF_SERVICE_STATUS,data:{terms_of_service_create_at:(new Date).getTime(),terms_of_service_id:t?e:null,user_id:p.getCurrentUserId(s())}}),[2,{data:n.data}]):[2,{error:n.error}]}}))}))}}function D(){return C.bindClientFunc({clientFunc:o.Client4.getTermsOfService})}function w(e){return C.bindClientFunc({clientFunc:o.Client4.createTermsOfService,params:[e]})}function F(e){return C.bindClientFunc({clientFunc:o.Client4.getUser,onSuccess:a.UserTypes.RECEIVED_PROFILE,params:[e]})}function G(e){return C.bindClientFunc({clientFunc:o.Client4.getUserByUsername,onSuccess:a.UserTypes.RECEIVED_PROFILE,params:[e]})}t.checkMfa=T,t.generateMfaSecret=S,t.createUser=function(e,t,n){var i=this;return function(s,u){return r.__awaiter(i,void 0,void 0,(function(){var i,c,_,l;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.createUser(e,t,n)];case 1:return i=r.sent(),[3,3];case 2:return c=r.sent(),C.forceLogoutIfNecessary(c,s,u),s(g.logError(c)),[2,{error:c}];case 3:return(l={})[i.id]=i,_=l,s({type:a.UserTypes.RECEIVED_PROFILES,data:_}),[2,{data:i}]}}))}))}},t.login=v,t.loginById=function(e,t,n){var s=this;return void 0===n&&(n=""),function(u,c){return r.__awaiter(s,void 0,void 0,(function(){var s,_,l;return r.__generator(this,(function(r){switch(r.label){case 0:u({type:a.UserTypes.LOGIN_REQUEST,data:null},c),s=c().entities.general.deviceToken,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.Client4.loginById(e,t,n,s)];case 2:return _=r.sent(),[3,4];case 3:return l=r.sent(),u(i.batchActions([{type:a.UserTypes.LOGIN_FAILURE,error:l},g.logError(l)]),c),[2,{error:l}];case 4:return[2,y(_)(u,c)]}}))}))}},t.loadMe=function(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,i,s,a,l,E,d;return r.__generator(this,(function(r){switch(r.label){case 0:return e=n(),i=h.getConfig(e),(s=e.entities.general.deviceToken)&&o.Client4.attachDevice(s),a=[t(M()),t(m.getMyPreferences()),t(_.getMyTeams()),t(_.getMyTeamMembers()),t(_.getMyTeamUnreads())],l=o.Client4.getServerVersion()||n().entities.general.serverVersion,t(c.setServerVersion(l)),f.isMinimumServerVersion(l,4,7)||"true"!==i.EnableCustomEmoji||t(u.getAllCustomEmojis()),[4,Promise.all(a)];case 1:return r.sent(),E=n().entities.users.currentUserId,d=n().entities.users.profiles[E],E&&o.Client4.setUserId(E),d&&o.Client4.setUserRoles(d.roles),[2,{data:!0}]}}))}))}},t.logout=R,t.getTotalUsersStats=A,t.getProfiles=I,t.getMissingProfilesByIds=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,o;return r.__generator(this,(function(r){return t=i().entities.users.profiles,o=[],e.forEach((function(e){t[e]||o.push(e)})),o.length>0?(B(o)(n,i),[2,N(o)(n,i)]):[2,{data:[]}]}))}))}},t.getMissingProfilesByUsernames=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,o,s;return r.__generator(this,(function(r){return t=i().entities.users.profiles,o=Object.values(t).reduce((function(e,t){return e[t.username]=t,e}),{}),s=[],e.forEach((function(e){o[e]||s.push(e)})),s.length>0?[2,O(s)(n,i)]:[2,{data:[]}]}))}))}},t.getProfilesByIds=N,t.getProfilesByUsernames=O,t.getProfilesInTeam=L,t.getProfilesNotInTeam=function(e,t,n,u){var c=this;return void 0===u&&(u=s.General.PROFILE_CHUNK_SIZE),function(s,_){return r.__awaiter(c,void 0,void 0,(function(){var c,l,E;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.getProfilesNotInTeam(e,t,n,u)];case 1:return c=r.sent(),[3,3];case 2:return l=r.sent(),C.forceLogoutIfNecessary(l,s,_),s(g.logError(l)),[2,{error:l}];case 3:return E=t?a.UserTypes.RECEIVED_PROFILES_LIST_NOT_IN_TEAM_AND_REPLACE:a.UserTypes.RECEIVED_PROFILES_LIST_NOT_IN_TEAM,s(i.batchActions([{type:E,data:c,id:e},{type:a.UserTypes.RECEIVED_PROFILES_LIST,data:c}]),_),[2,{data:c}]}}))}))}},t.getProfilesWithoutTeam=function(e,t,n){var u=this;return void 0===t&&(t=s.General.PROFILE_CHUNK_SIZE),void 0===n&&(n={}),function(s,c){return r.__awaiter(u,void 0,void 0,(function(){var u,_;return r.__generator(this,(function(r){switch(r.label){case 0:u=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.Client4.getProfilesWithoutTeam(e,t,n)];case 2:return u=r.sent(),[3,4];case 3:return _=r.sent(),C.forceLogoutIfNecessary(_,s,c),s(g.logError(_)),[2,{error:_}];case 4:return s(i.batchActions([{type:a.UserTypes.RECEIVED_PROFILES_LIST_WITHOUT_TEAM,data:u},{type:a.UserTypes.RECEIVED_PROFILES_LIST,data:u}]),c),[2,{data:u}]}}))}))}},t.getProfilesInChannel=U,t.getProfilesInGroupChannels=function(e){var t=this;return function(n,u){return r.__awaiter(t,void 0,void 0,(function(){var t,c,_,l,E,f;return r.__generator(this,(function(h){switch(h.label){case 0:t=u().entities.users.currentUserId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,o.Client4.getProfilesInGroupChannels(e.slice(0,s.General.MAX_GROUP_CHANNELS_FOR_PROFILES))];case 2:return c=h.sent(),[3,4];case 3:return _=h.sent(),C.forceLogoutIfNecessary(_,n,u),n(g.logError(_)),[2,{error:_}];case 4:for(E in l=[],c)c.hasOwnProperty(E)&&(f=c[E],l.push({type:a.UserTypes.RECEIVED_PROFILES_LIST_IN_CHANNEL,data:f,id:E},{type:a.UserTypes.RECEIVED_PROFILES_LIST,data:d.removeUserFromList(t,r.__spread(f))}));return n(i.batchActions(l)),[2,{data:c}]}}))}))}},t.getProfilesNotInChannel=P,t.getMe=M,t.updateMyTermsOfServiceStatus=b,t.getTermsOfService=D,t.promoteGuestToUser=function(e){return C.bindClientFunc({clientFunc:o.Client4.promoteGuestToUser,params:[e]})},t.demoteUserToGuest=function(e){return C.bindClientFunc({clientFunc:o.Client4.demoteUserToGuest,params:[e]})},t.createTermsOfService=w,t.getUser=F,t.getUserByUsername=G,t.getUserByEmail=function(e){return C.bindClientFunc({clientFunc:o.Client4.getUserByEmail,onSuccess:a.UserTypes.RECEIVED_PROFILE,params:[e]})};var H,V=[],k=C.debounce((function(e,t){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(n){return B(r.__spread(new Set(V)))(e,t),[2]}))}))}),20,!1,(function(){V=[]}));function B(e){return C.bindClientFunc({clientFunc:o.Client4.getStatusesByIds,onSuccess:a.UserTypes.RECEIVED_STATUSES,params:[e]})}function j(e){return C.bindClientFunc({clientFunc:o.Client4.getStatus,onSuccess:a.UserTypes.RECEIVED_STATUS,params:[e]})}function x(e){return C.bindClientFunc({clientFunc:o.Client4.getSessions,onSuccess:a.UserTypes.RECEIVED_SESSIONS,params:[e]})}function Y(e,t){var n=this;return function(i,s){return r.__awaiter(n,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.revokeSession(e,t)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),C.forceLogoutIfNecessary(n,i,s),i(g.logError(n)),[2,{error:n}];case 3:return i({type:a.UserTypes.RECEIVED_REVOKED_SESSION,sessionId:t,data:null}),[2,{data:!0}]}}))}))}}function Q(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,u;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.revokeAllSessionsForUser(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),C.forceLogoutIfNecessary(t,n,s),n(g.logError(t)),[2,{error:t}];case 3:return u={isCurrentUser:e===p.getCurrentUserId(s())},n(i.batchActions([{type:a.UserTypes.REVOKE_ALL_USER_SESSIONS_SUCCESS,data:u}]),s),[2,{data:!0}]}}))}))}}function J(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.revokeSessionsForAllUsers()];case 1:return r.sent(),[3,3];case 2:return e=r.sent(),C.forceLogoutIfNecessary(e,t,n),t(g.logError(e)),[2,{error:e}];case 3:return t({type:a.UserTypes.REVOKE_SESSIONS_FOR_ALL_USERS_SUCCESS,data:null}),[2,{data:!0}]}}))}))}}function W(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,i,o,s,a,u,c,_,l,d,f,h,p,g;return r.__generator(this,(function(r){for(e=n(),i=e.entities.general.config,o=e.entities.channels,s=o.channels,a=o.myMembers,u=e.entities.preferences.myPreferences,c=e.entities.users,_=c.currentUserId,l=c.profiles,d=Object.values(s),f=0;f<d.length;f++)h=d[f],p=a[h.id],(E.isDirectChannel(h)||E.isGroupChannel(h))&&p&&(p.mention_count>0&&E.isDirectChannel(h)?(g=E.getUserIdFromChannelName(_,h.name),E.isDirectChannelVisible(l[g]||g,i,u,h)||m.makeDirectChannelVisibleIfNecessary(g)(t,n)):(p.mention_count>0||p.msg_count<h.total_msg_count)&&E.isGroupChannel(h)&&!E.isGroupChannelVisible(i,u,h)&&m.makeGroupMessageVisibleIfNecessary(h.id)(t,n));return[2,{data:!0}]}))}))}}function K(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=s.General.AUDITS_CHUNK_SIZE),C.bindClientFunc({clientFunc:o.Client4.getUserAudits,onSuccess:a.UserTypes.RECEIVED_AUDITS,params:[e,t,n]})}function z(e,t){var n=this;return void 0===t&&(t={}),function(s,u){return r.__awaiter(n,void 0,void 0,(function(){var n,c,_,l;return r.__generator(this,(function(E){switch(E.label){case 0:n=u().entities.users.currentUserId,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,o.Client4.searchUsers(e,t)];case 2:return c=E.sent(),[3,4];case 3:return _=E.sent(),C.forceLogoutIfNecessary(_,s,u),s(g.logError(_)),[2,{error:_}];case 4:return l=[{type:a.UserTypes.RECEIVED_PROFILES_LIST,data:d.removeUserFromList(n,r.__spread(c))}],t.in_channel_id&&l.push({type:a.UserTypes.RECEIVED_PROFILES_LIST_IN_CHANNEL,data:c,id:t.in_channel_id}),t.not_in_channel_id&&l.push({type:a.UserTypes.RECEIVED_PROFILES_LIST_NOT_IN_CHANNEL,data:c,id:t.not_in_channel_id}),t.team_id&&l.push({type:a.UserTypes.RECEIVED_PROFILES_LIST_IN_TEAM,data:c,id:t.team_id}),t.not_in_team_id&&l.push({type:a.UserTypes.RECEIVED_PROFILES_LIST_NOT_IN_TEAM,data:c,id:t.not_in_team_id}),s(i.batchActions(l)),[2,{data:c}]}}))}))}}function Z(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return H&&clearInterval(H),H=setInterval((function(){var e=n().entities.users.statuses;if(e){var r=Object.keys(e);r.length&&B(r)(t,n)}}),s.General.STATUS_INTERVAL),[2,{data:!0}]}))}))}}function q(){var e=this;return function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return H&&clearInterval(H),[2,{data:!0}]}))}))}}function X(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,u;return r.__generator(this,(function(r){switch(r.label){case 0:n({type:a.UserTypes.UPDATE_ME_REQUEST,data:null},s),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.Client4.patchMe(e)];case 2:return t=r.sent(),[3,4];case 3:return u=r.sent(),n(i.batchActions([{type:a.UserTypes.UPDATE_ME_FAILURE,error:u},g.logError(u)]),s),[2,{error:u}];case 4:return n(i.batchActions([{type:a.UserTypes.RECEIVED_ME,data:t},{type:a.UserTypes.UPDATE_ME_SUCCESS}]),s),n(l.loadRolesIfNeeded(t.roles.split(" "))),[2,{data:t}]}}))}))}}function $(e,t){var n=this;return function(i,s){return r.__awaiter(n,void 0,void 0,(function(){var n;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,o.Client4.updateUserRoles(e,t)];case 1:return u.sent(),[3,3];case 2:return[2,{error:u.sent()}];case 3:return(n=s().entities.users.profiles[e])&&i({type:a.UserTypes.RECEIVED_PROFILE,data:r.__assign(r.__assign({},n),{roles:t})}),[2,{data:!0}]}}))}))}}function ee(e,t,n){var i=this;return void 0===n&&(n=""),function(s,u){return r.__awaiter(i,void 0,void 0,(function(){var i,c;return r.__generator(this,(function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,o.Client4.updateUserMfa(e,t,n)];case 1:return _.sent(),[3,3];case 2:return i=_.sent(),s(g.logError(i)),[2,{error:i}];case 3:return(c=u().entities.users.profiles[e])&&s({type:a.UserTypes.RECEIVED_PROFILE,data:r.__assign(r.__assign({},c),{mfa_active:t})}),[2,{data:!0}]}}))}))}}function te(e,t,n){var i=this;return function(s,u){return r.__awaiter(i,void 0,void 0,(function(){var i,c;return r.__generator(this,(function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,o.Client4.updateUserPassword(e,t,n)];case 1:return _.sent(),[3,3];case 2:return i=_.sent(),s(g.logError(i)),[2,{error:i}];case 3:return(c=u().entities.users.profiles[e])&&s({type:a.UserTypes.RECEIVED_PROFILE,data:r.__assign(r.__assign({},c),{last_password_update_at:(new Date).getTime()})}),[2,{data:!0}]}}))}))}}function ne(e,t){var n=this;return function(i,s){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c;return r.__generator(this,(function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,o.Client4.updateUserActive(e,t)];case 1:return _.sent(),[3,3];case 2:return n=_.sent(),i(g.logError(n)),[2,{error:n}];case 3:return(u=s().entities.users.profiles[e])&&(c=t?0:(new Date).getTime(),i({type:a.UserTypes.RECEIVED_PROFILE,data:r.__assign(r.__assign({},u),{delete_at:c})})),[2,{data:!0}]}}))}))}}function re(e){return C.bindClientFunc({clientFunc:o.Client4.verifyUserEmail,params:[e]})}function ie(e){return C.bindClientFunc({clientFunc:o.Client4.sendVerificationEmail,params:[e]})}function oe(e,t){return C.bindClientFunc({clientFunc:o.Client4.resetUserPassword,params:[e,t]})}function se(e){return C.bindClientFunc({clientFunc:o.Client4.sendPasswordResetEmail,params:[e]})}function ae(e,t){var n=this;return function(i,s){return r.__awaiter(n,void 0,void 0,(function(){var n;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,o.Client4.uploadProfileImage(e,t)];case 1:return u.sent(),[3,3];case 2:return[2,{error:u.sent()}];case 3:return(n=s().entities.users.profiles[e])&&i({type:a.UserTypes.RECEIVED_PROFILE,data:r.__assign(r.__assign({},n),{last_picture_update:(new Date).getTime()})}),[2,{data:!0}]}}))}))}}function ue(e,t,n,r){return void 0===r&&(r=""),C.bindClientFunc({clientFunc:o.Client4.switchEmailToOAuth,params:[e,t,n,r]})}function ce(e,t,n){return C.bindClientFunc({clientFunc:o.Client4.switchOAuthToEmail,params:[e,t,n]})}function _e(e,t,n,r,i){return void 0===i&&(i=""),C.bindClientFunc({clientFunc:o.Client4.switchEmailToLdap,params:[e,t,n,r,i]})}function le(e,t,n,r){return void 0===r&&(r=""),C.bindClientFunc({clientFunc:o.Client4.switchLdapToEmail,params:[e,t,n,r]})}function Ee(e,t){var n=this;return function(s,u){return r.__awaiter(n,void 0,void 0,(function(){var n,c,_,l;return r.__generator(this,(function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,o.Client4.createUserAccessToken(e,t)];case 1:return n=E.sent(),[3,3];case 2:return c=E.sent(),C.forceLogoutIfNecessary(c,s,u),s(g.logError(c)),[2,{error:c}];case 3:return _=[{type:a.AdminTypes.RECEIVED_USER_ACCESS_TOKEN,data:r.__assign(r.__assign({},n),{token:""})}],l=u().entities.users.currentUserId,e===l&&_.push({type:a.UserTypes.RECEIVED_MY_USER_ACCESS_TOKEN,data:r.__assign(r.__assign({},n),{token:""})}),s(i.batchActions(_)),[2,{data:n}]}}))}))}}function de(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,u,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.getUserAccessToken(e)];case 1:return t=r.sent(),[3,3];case 2:return u=r.sent(),C.forceLogoutIfNecessary(u,n,s),n(g.logError(u)),[2,{error:u}];case 3:return c=[{type:a.AdminTypes.RECEIVED_USER_ACCESS_TOKEN,data:t}],_=s().entities.users.currentUserId,t.user_id===_&&c.push({type:a.UserTypes.RECEIVED_MY_USER_ACCESS_TOKEN,data:t}),n(i.batchActions(c)),[2,{data:t}]}}))}))}}function fe(e,t,n){var u=this;return void 0===t&&(t=0),void 0===n&&(n=s.General.PROFILE_CHUNK_SIZE),function(s,c){return r.__awaiter(u,void 0,void 0,(function(){var u,_,l,E;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.getUserAccessTokensForUser(e,t,n)];case 1:return u=r.sent(),[3,3];case 2:return _=r.sent(),C.forceLogoutIfNecessary(_,s,c),s(g.logError(_)),[2,{error:_}];case 3:return l=[{type:a.AdminTypes.RECEIVED_USER_ACCESS_TOKENS_FOR_USER,data:u,userId:e}],E=c().entities.users.currentUserId,e===E&&l.push({type:a.UserTypes.RECEIVED_MY_USER_ACCESS_TOKENS,data:u}),s(i.batchActions(l)),[2,{data:u}]}}))}))}}function he(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.revokeUserAccessToken(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),C.forceLogoutIfNecessary(t,n,i),n(g.logError(t)),[2,{error:t}];case 3:return n({type:a.UserTypes.REVOKED_USER_ACCESS_TOKEN,data:e}),[2,{data:!0}]}}))}))}}function pe(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.disableUserAccessToken(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),C.forceLogoutIfNecessary(t,n,i),n(g.logError(t)),[2,{error:t}];case 3:return n({type:a.UserTypes.DISABLED_USER_ACCESS_TOKEN,data:e}),[2,{data:!0}]}}))}))}}function ge(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.enableUserAccessToken(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),C.forceLogoutIfNecessary(t,n,i),n(g.logError(t)),[2,{error:t}];case 3:return n({type:a.UserTypes.ENABLED_USER_ACCESS_TOKEN,data:e}),[2,{data:!0}]}}))}))}}function Ce(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return e=n(),i=p.getUsers(e),o=e.websocket.lastDisconnectAt,s=h.getServerVersion(e),f.isMinimumServerVersion(s,5,14)?[4,t(N(Object.keys(i),{since:o}))]:[2,{data:!0}];case 1:return r.sent(),[2,{data:!0}]}}))}))}}t.getStatusesByIdsBatchedDebounced=function(e){return V=r.__spread(V,[e]),k},t.getStatusesByIds=B,t.getStatus=j,t.setStatus=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.updateStatus(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),C.forceLogoutIfNecessary(t,n,i),n(g.logError(t)),[2,{error:t}];case 3:return n({type:a.UserTypes.RECEIVED_STATUS,data:e}),[2,{data:e}]}}))}))}},t.getSessions=x,t.revokeSession=Y,t.revokeAllSessionsForUser=Q,t.revokeSessionsForAllUsers=J,t.loadProfilesForDirect=W,t.getUserAudits=K,t.autocompleteUsers=function(e,t,n,u){var c=this;return void 0===t&&(t=""),void 0===n&&(n=""),void 0===u&&(u={limit:s.General.AUTOCOMPLETE_LIMIT_DEFAULT}),function(s,_){return r.__awaiter(c,void 0,void 0,(function(){var c,l,E,f,h;return r.__generator(this,(function(p){switch(p.label){case 0:s({type:a.UserTypes.AUTOCOMPLETE_USERS_REQUEST,data:null},_),c=_().entities.users.currentUserId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,o.Client4.autocompleteUsers(e,t,n,u)];case 2:return l=p.sent(),[3,4];case 3:return E=p.sent(),C.forceLogoutIfNecessary(E,s,_),s(i.batchActions([{type:a.UserTypes.AUTOCOMPLETE_USERS_FAILURE,error:E},g.logError(E)]),_),[2,{error:E}];case 4:return f=r.__spread(l.users),l.out_of_channel&&(f=r.__spread(f,l.out_of_channel)),d.removeUserFromList(c,f),h=[{type:a.UserTypes.RECEIVED_PROFILES_LIST,data:f},{type:a.UserTypes.AUTOCOMPLETE_USERS_SUCCESS}],n&&(h.push({type:a.UserTypes.RECEIVED_PROFILES_LIST_IN_CHANNEL,data:l.users,id:n}),h.push({type:a.UserTypes.RECEIVED_PROFILES_LIST_NOT_IN_CHANNEL,data:l.out_of_channel,id:n})),t&&h.push({type:a.UserTypes.RECEIVED_PROFILES_LIST_IN_TEAM,data:f,id:t}),s(i.batchActions(h),_),[2,{data:l}]}}))}))}},t.searchProfiles=z,t.startPeriodicStatusUpdates=Z,t.stopPeriodicStatusUpdates=q,t.updateMe=X,t.patchUser=function(e){var t=this;return function(n){return r.__awaiter(t,void 0,void 0,(function(){var t,i;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.patchUser(e)];case 1:return t=r.sent(),[3,3];case 2:return i=r.sent(),n(g.logError(i)),[2,{error:i}];case 3:return n({type:a.UserTypes.RECEIVED_PROFILE,data:t}),[2,{data:t}]}}))}))}},t.updateUserRoles=$,t.updateUserMfa=ee,t.updateUserPassword=te,t.updateUserActive=ne,t.verifyUserEmail=re,t.sendVerificationEmail=ie,t.resetUserPassword=oe,t.sendPasswordResetEmail=se,t.setDefaultProfileImage=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,s;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,o.Client4.setDefaultProfileImage(e)];case 1:return u.sent(),[3,3];case 2:return t=u.sent(),n(g.logError(t)),[2,{error:t}];case 3:return(s=i().entities.users.profiles[e])&&n({type:a.UserTypes.RECEIVED_PROFILE,data:r.__assign(r.__assign({},s),{last_picture_update:0})}),[2,{data:!0}]}}))}))}},t.uploadProfileImage=ae,t.switchEmailToOAuth=ue,t.switchOAuthToEmail=ce,t.switchEmailToLdap=_e,t.switchLdapToEmail=le,t.createUserAccessToken=Ee,t.getUserAccessToken=de,t.getUserAccessTokens=function(e,t){var n=this;return void 0===e&&(e=0),void 0===t&&(t=s.General.PROFILE_CHUNK_SIZE),function(s,u){return r.__awaiter(n,void 0,void 0,(function(){var n,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Client4.getUserAccessTokens(e,t)];case 1:return n=r.sent(),[3,3];case 2:return c=r.sent(),C.forceLogoutIfNecessary(c,s,u),s(g.logError(c)),[2,{error:c}];case 3:return _=[{type:a.AdminTypes.RECEIVED_USER_ACCESS_TOKENS,data:n}],s(i.batchActions(_)),[2,{data:n}]}}))}))}},t.getUserAccessTokensForUser=fe,t.revokeUserAccessToken=he,t.disableUserAccessToken=pe,t.enableUserAccessToken=ge,t.clearUserAccessTokens=function(){var e=this;return function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return t({type:a.UserTypes.CLEAR_MY_USER_ACCESS_TOKENS,data:null}),[2,{data:!0}]}))}))}},t.checkForModifiedUsers=Ce,t.default={checkMfa:T,generateMfaSecret:S,login:v,logout:R,getProfiles:I,getProfilesByIds:N,getProfilesInTeam:L,getProfilesInChannel:U,getProfilesNotInChannel:P,getUser:F,getMe:M,getUserByUsername:G,getStatus:j,getStatusesByIds:B,getSessions:x,getTotalUsersStats:A,loadProfilesForDirect:W,revokeSession:Y,revokeAllSessionsForUser:Q,revokeSessionsForAllUsers:J,getUserAudits:K,searchProfiles:z,startPeriodicStatusUpdates:Z,stopPeriodicStatusUpdates:q,updateMe:X,updateUserRoles:$,updateUserMfa:ee,updateUserPassword:te,updateUserActive:ne,verifyUserEmail:re,sendVerificationEmail:ie,resetUserPassword:oe,sendPasswordResetEmail:se,uploadProfileImage:ae,switchEmailToOAuth:ue,switchOAuthToEmail:ce,switchEmailToLdap:_e,switchLdapToEmail:le,getTermsOfService:D,createTermsOfService:w,updateMyTermsOfServiceStatus:b,createUserAccessToken:Ee,getUserAccessToken:de,getUserAccessTokensForUser:fe,revokeUserAccessToken:he,disableUserAccessToken:pe,enableUserAccessToken:ge,checkForModifiedUsers:Ce}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importStar(n(7)),o=n(3),s=n(9),a=n(14),u=n(13),c=n(31);function _(e){return e.entities.preferences.myPreferences}function l(e,t,n,r){void 0===r&&(r="");var i=c.getPreferenceKey(t,n),o=_(e);return i in o?o[i].value:r}function E(e,t,n,r){return void 0===r&&(r=!1),"false"!==l(e,t,n,String(r))}function d(){return i.createSelector(_,(function(e,t){return t}),(function(e,t){var n=t+"--",r=[];for(var i in e)i.startsWith(n)&&r.push(e[i]);return r}))}t.getMyPreferences=_,t.get=l,t.getBool=E,t.getInt=function(e,t,n,r){void 0===r&&(r=0);var i=l(e,t,n,r);return parseInt(i,10)},t.makeGetCategory=d;var f=d();function h(e){return f(e,o.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW)}t.getDirectShowPreferences=h;var p=d();function g(e){return p(e,o.Preferences.CATEGORY_GROUP_CHANNEL_SHOW)}t.getGroupShowPreferences=g;var C=d();t.getFavoritesPreferences=function(e){return C(e,o.Preferences.CATEGORY_FAVORITE_CHANNEL).filter((function(e){return"true"===e.value})).map((function(e){return e.name}))},t.getVisibleTeammate=i.createSelector(h,(function(e){return e.filter((function(e){return"true"===e.value&&e.name})).map((function(e){return e.name}))})),t.getVisibleGroupIds=i.createSelector(g,(function(e){return e.filter((function(e){return"true"===e.value&&e.name})).map((function(e){return e.name}))})),t.getTeammateNameDisplaySetting=i.createSelector(s.getConfig,_,(function(e,t){var n=c.getPreferenceKey(o.Preferences.CATEGORY_DISPLAY_SETTINGS,o.Preferences.NAME_NAME_FORMAT);return t[n]?t[n].value:e.TeammateNameDisplay?e.TeammateNameDisplay:o.General.TEAMMATE_NAME_DISPLAY.SHOW_USERNAME}));var m=i.createSelector(_,a.getCurrentTeamId,(function(e,t){var n;return t&&(n=e[c.getPreferenceKey(o.Preferences.CATEGORY_THEME,t)]),n||(n=e[c.getPreferenceKey(o.Preferences.CATEGORY_THEME,"")]),n})),T=i.createSelector(s.getConfig,(function(e){if(e.DefaultTheme){var t=o.Preferences.THEMES[e.DefaultTheme];if(t)return t}return o.Preferences.THEMES.default}));t.getTheme=u.createShallowSelector(m,T,(function(e,t){var n,i,s;if("string"==typeof(s=e?e.value:t)&&(s=JSON.parse(s)),s.type&&"custom"!==s.type){var a=Object.values(o.Preferences.THEMES).find((function(e){return e.type===s.type}));if(a)return a.mentionBg||(a.mentionBg=a.mentionBj),a}try{for(var u=r.__values(Object.keys(t)),c=u.next();!c.done;c=u.next()){var _=c.value;s[_]&&(s[_]=s[_].toLowerCase())}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s.mentionBg||(s.mentionBg=s.mentionBj),Object.assign({},t,s)})),t.makeGetStyleFromTheme=function(){return i.createSelector(t.getTheme,(function(e,t){return t}),(function(e,t){return t(e)}))};var S={grouping:"by_type",unreads_at_top:"true",favorite_at_top:"true",sorting:"alpha"};t.getSidebarPreferences=i.createSelector((function(e){var t=s.getConfig(e);return t.ExperimentalGroupUnreadChannels!==o.General.DISABLED&&E(e,o.Preferences.CATEGORY_SIDEBAR_SETTINGS,"show_unread_section",t.ExperimentalGroupUnreadChannels===o.General.DEFAULT_ON)}),(function(e){return l(e,o.Preferences.CATEGORY_SIDEBAR_SETTINGS,"",null)}),(function(e,t){var n=JSON.parse(t);return null===n&&(n=r.__assign(r.__assign({},S),{unreads_at_top:e?"true":"false"})),n}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),o=n(3),s=n(29);t.getCurrentChannelId=s.getCurrentChannelId,t.getMyChannelMemberships=s.getMyChannelMemberships,t.getMyCurrentChannelMembership=s.getMyCurrentChannelMembership;var a=n(9),u=n(26),c=n(59),_=n(14),l=n(44),E=n(11),d=n(34),f=n(13),h=n(11);function p(e){return e.entities.channels.channels}function g(e){return e.entities.channels.stats}function C(e){return e.entities.channels.channelsInTeam}function m(e){return e.entities.channels.membersInChannel}function T(e,t,n,r,i){return"recent"===n?d.sortChannelsByRecency(t,r,i):d.sortChannelsByDisplayName(e,r,i)}function S(e,t,n,r,i){var o=n;return r&&(o=o.filter((function(t){return!e.includes(t)}))),i&&(o=o.filter((function(e){return!t.includes(e)}))),o}function v(e,t){return t&&t.name===o.General.DEFAULT_CHANNEL&&!E.isCurrentUserSystemAdmin(e)&&"true"===a.getConfig(e).ExperimentalTownSquareIsReadOnly}t.getAllChannels=p,t.getAllChannelStats=g,t.getChannelsInTeam=C,t.getDirectChannelsSet=i.createSelector(C,(function(e){return e&&new Set(e[""])||new Set})),t.getChannelMembersInChannels=m,t.mapAndSortChannelIds=function(e,t,n,r,i,s){void 0===s&&(s=!1);var a=t.locale||o.General.DEFAULT_LOCALE,u=e.filter((function(e){return d.isChannelMuted(n[e.id])})).sort(T.bind(null,a,r,i)).map((function(e){return e.id})),c=[];s&&(c=e.filter((function(e){var t=n[e.id];return t&&t.mention_count>0&&!d.isChannelMuted(t)})).sort(T.bind(null,a,r,i)).map((function(e){return e.id})));var _=e.filter((function(e){return!u.includes(e.id)&&!c.includes(e.id)})).sort(T.bind(null,a,r,i)).map((function(e){return e.id}));return s?c.concat(u,_):_.concat(u)},t.filterChannels=S,t.makeGetChannel=function(){return i.createSelector(p,(function(e,t){return t.id}),(function(e){return e.entities.users}),u.getTeammateNameDisplaySetting,(function(e,t,n,r){var i=e[t];return i?d.completeDirectChannelInfo(n,r,i):i}))},t.getChannel=i.createSelector(p,(function(e,t){return t}),(function(e){return e.entities.users}),u.getTeammateNameDisplaySetting,(function(e,t,n,r){var i=e[t];return i?d.completeDirectChannelInfo(n,r,i):i})),t.getCurrentChannel=i.createSelector(p,s.getCurrentChannelId,(function(e){return e.entities.users}),u.getTeammateNameDisplaySetting,(function(e,t,n,r){var i=e[t];return i?d.completeDirectChannelInfo(n,r,i):i})),t.getMyChannelMember=i.createSelector(s.getMyChannelMemberships,(function(e,t){return t}),(function(e,t){return e[t]||null})),t.getCurrentChannelStats=i.createSelector(g,s.getCurrentChannelId,(function(e,t){return e[t]})),t.isCurrentChannelFavorite=i.createSelector(u.getMyPreferences,s.getCurrentChannelId,(function(e,t){return d.isFavoriteChannel(e,t)})),t.isCurrentChannelMuted=i.createSelector(s.getMyCurrentChannelMembership,(function(e){return!!e&&d.isChannelMuted(e)})),t.isCurrentChannelArchived=i.createSelector(t.getCurrentChannel,(function(e){return 0!==e.delete_at})),t.isCurrentChannelDefault=i.createSelector(t.getCurrentChannel,(function(e){return d.isDefault(e)})),t.isCurrentChannelReadOnly=function(e){return v(e,t.getCurrentChannel(e))},t.isChannelReadOnlyById=function(e,n){return v(e,t.getChannel(e,n))},t.isChannelReadOnly=v,t.shouldHideDefaultChannel=function(e,t){return t&&t.name===o.General.DEFAULT_CHANNEL&&!E.isCurrentUserSystemAdmin(e)&&"true"===a.getConfig(e).ExperimentalHideTownSquareinLHS},t.getChannelByName=function(e,t){return d.getChannelByName(p(e),t)},t.getChannelSetInCurrentTeam=i.createSelector(_.getCurrentTeamId,C,(function(e,t){return t&&t[e]||[]})),t.getChannelsInCurrentTeam=i.createSelector(p,t.getChannelSetInCurrentTeam,s.getCurrentUser,(function(e,t,n){var r=o.General.DEFAULT_LOCALE;return n&&n.locale&&(r=n.locale),function(e,t,n){var r=[];return void 0===t?r:(t.forEach((function(t){r.push(e[t])})),r.sort(d.sortChannelsByDisplayName.bind(null,n)))}(e,t,r)})),t.getChannelsNameMapInTeam=i.createSelector(p,C,(function(e,t){return t}),(function(e,t,n){var r=t[n]||[],i={};return r.forEach((function(t){var n=e[t];i[n.name]=n})),i})),t.getChannelsNameMapInCurrentTeam=i.createSelector(p,t.getChannelSetInCurrentTeam,(function(e,t){var n={};return t.forEach((function(t){var r=e[t];n[r.name]=r})),n})),t.getAllDirectChannels=i.createSelector(p,t.getDirectChannelsSet,(function(e){return e.entities.users}),u.getTeammateNameDisplaySetting,(function(e,t,n,r){var i=[];return t.forEach((function(t){i.push(d.completeDirectChannelInfo(n,r,e[t]))})),i})),t.getGroupChannels=i.createSelector(p,t.getDirectChannelsSet,(function(e){return e.entities.users}),u.getTeammateNameDisplaySetting,(function(e,t,n,r){var i=[];return t.forEach((function(t){var s=e[t];s.type===o.General.GM_CHANNEL&&i.push(d.completeDirectChannelInfo(n,r,s))})),i})),t.getMyChannels=i.createSelector(t.getChannelsInCurrentTeam,t.getAllDirectChannels,s.getMyChannelMemberships,(function(e,t,n){return r.__spread(e,t).filter((function(e){return n.hasOwnProperty(e.id)}))})),t.getOtherChannels=i.createSelector(t.getChannelsInCurrentTeam,s.getMyChannelMemberships,(function(e,t){return void 0===t&&(t=!0),t}),(function(e,t,n){return e.filter((function(e){return!(t.hasOwnProperty(e.id)||e.type!==o.General.OPEN_CHANNEL||!n&&0!==e.delete_at)}))})),t.getArchivedChannels=i.createSelector(t.getChannelsInCurrentTeam,s.getMyChannelMemberships,(function(e,t){return e.filter((function(e){return t.hasOwnProperty(e.id)&&0!==e.delete_at}))})),t.getChannelsByCategory=i.createSelector(s.getCurrentChannelId,t.getMyChannels,s.getMyChannelMemberships,a.getConfig,u.getMyPreferences,u.getTeammateNameDisplaySetting,(function(e){return e.entities.users}),c.getLastPostPerChannel,(function(e,t,n,i,o,s,a,u){var c=t.map((function(t){var n=r.__assign({},t);return n.isCurrent=t.id===e,n}));return d.buildDisplayableChannelList(a,c,n,i,o,s,u)})),t.getChannelsWithUnreadSection=i.createSelector(s.getCurrentChannelId,t.getMyChannels,s.getMyChannelMemberships,a.getConfig,u.getMyPreferences,u.getTeammateNameDisplaySetting,(function(e){return e.entities.users}),c.getLastPostPerChannel,(function(e,t,n,i,o,s,a,u){var c=t.map((function(t){var n=r.__assign({},t);return n.isCurrent=t.id===e,n}));return d.buildDisplayableChannelListWithUnreadSection(a,c,n,i,o,s,u)})),t.getDefaultChannel=i.createSelector(p,_.getCurrentTeamId,(function(e,t){return Object.keys(e).map((function(t){return e[t]})).find((function(e){return e&&e.team_id===t&&e.name===o.General.DEFAULT_CHANNEL}))})),t.getMembersInCurrentChannel=i.createSelector(s.getCurrentChannelId,m,(function(e,t){return t[e]})),t.getUnreads=i.createSelector(p,s.getMyChannelMemberships,s.getUsers,E.getCurrentUserId,_.getCurrentTeamId,_.getMyTeams,_.getTeamMemberships,(function(e,t,n,r,i,s,a){var u=0,c=0;Object.keys(t).forEach((function(s){var a=e[s],_=t[s];if(a&&_&&(a.team_id===i||a.type===o.General.DM_CHANNEL||a.type===o.General.GM_CHANNEL)){var l="";"D"===a.type?(l=d.getUserIdFromChannelName(r,a.name),n[l]&&0===n[l].delete_at&&(c+=a.total_msg_count-_.msg_count)):_.mention_count>0&&0===a.delete_at&&(c+=_.mention_count),_.notify_props&&"mention"!==_.notify_props.mark_unread&&a.total_msg_count-_.msg_count>0&&("D"===a.type?n[l]&&0===n[l].delete_at&&(u+=1):0===a.delete_at&&(u+=1))}}));var _=s.reduce((function(e,t){if(i!==t.id){var n=a[t.id];e.messageCount+=n.msg_count,e.mentionCount+=n.mention_count}return e}),{messageCount:0,mentionCount:0});return{messageCount:u+_.messageCount,mentionCount:c+_.mentionCount}})),t.getUnreadsInCurrentTeam=i.createSelector(s.getCurrentChannelId,t.getMyChannels,s.getMyChannelMemberships,s.getUsers,E.getCurrentUserId,(function(e,t,n,r,i){var o=0,s=0;return t.forEach((function(t){var a=n[t.id];if(a&&t.id!==e){var u="";"D"===t.type?(u=d.getUserIdFromChannelName(i,t.name),r[u]&&0===r[u].delete_at&&(s+=t.total_msg_count-a.msg_count)):a.mention_count>0&&0===t.delete_at&&(s+=a.mention_count),a.notify_props&&"mention"!==a.notify_props.mark_unread&&t.total_msg_count-a.msg_count>0&&("D"===t.type?r[u]&&0===r[u].delete_at&&(o+=1):0===t.delete_at&&(o+=1))}})),{messageCount:o,mentionCount:s}})),t.canManageChannelMembers=i.createSelector(t.getCurrentChannel,s.getCurrentUser,_.getCurrentTeamMembership,s.getMyCurrentChannelMembership,a.getConfig,a.getLicense,a.hasNewPermissions,(function(e){return l.haveICurrentChannelPermission(e,{permission:o.Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS})}),(function(e){return l.haveICurrentChannelPermission(e,{permission:o.Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS})}),(function(e,t,n,r,i,s,a,u,c){return!!e&&(0===e.delete_at&&(e.type!==o.General.DM_CHANNEL&&e.type!==o.General.GM_CHANNEL&&e.name!==o.General.DEFAULT_CHANNEL&&(a?e.type===o.General.OPEN_CHANNEL?c:e.type!==o.General.PRIVATE_CHANNEL||u:!!r&&d.canManageMembersOldPermissions(e,t,n,r,i,s))))})),t.canManageAnyChannelMembersInCurrentTeam=i.createSelector(s.getMyChannelMemberships,_.getCurrentTeamId,(function(e){return e}),(function(e,n,i){var s,a;try{for(var u=r.__values(Object.keys(e)),c=u.next();!c.done;c=u.next()){var _=c.value,E=t.getChannel(i,_);if(E&&E.team_id===n){if(E.type===o.General.OPEN_CHANNEL&&l.haveIChannelPermission(i,{permission:o.Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS,channel:_,team:n}))return!0;if(E.type===o.General.PRIVATE_CHANNEL&&l.haveIChannelPermission(i,{permission:o.Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS,channel:_,team:n}))return!0}}}catch(e){s={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}return!1})),t.getAllDirectChannelIds=f.createIdsSelector(t.getDirectChannelsSet,(function(e){return Array.from(e)})),t.getChannelIdsInCurrentTeam=f.createIdsSelector(_.getCurrentTeamId,C,(function(e,t){return Array.from(t[e]||[])})),t.getChannelIdsForCurrentTeam=f.createIdsSelector(t.getChannelIdsInCurrentTeam,t.getAllDirectChannelIds,(function(e,t){return r.__spread(e,t)})),t.getUnreadChannelIds=f.createIdsSelector(p,s.getMyChannelMemberships,t.getChannelIdsForCurrentTeam,(function(e,t){return void 0===t&&(t=null),t}),(function(e,t,n,r){var i=n.filter((function(n){var r=e[n],i=t[n];if(r&&i){var o=r.total_msg_count-i.msg_count>0,s=i.mention_count>0;if(i.notify_props&&"mention"!==i.notify_props.mark_unread&&o||s)return!0}return!1}));return r&&!i.includes(r.id)&&i.push(r.id),i})),t.getUnreadChannels=f.createIdsSelector(s.getCurrentUser,s.getUsers,h.getUserIdsInChannels,p,t.getUnreadChannelIds,u.getTeammateNameDisplaySetting,(function(e,t,n,r,i,s){return e?i.filter((function(e){return r[e]&&0===r[e].delete_at})).map((function(i){var a=r[i];return a.type===o.General.DM_CHANNEL||a.type===o.General.GM_CHANNEL?d.completeDirectChannelDisplayName(e.id,t,n[i],s,a):a})):[]})),t.getMapAndSortedUnreadChannelIds=f.createIdsSelector(t.getUnreadChannels,s.getCurrentUser,s.getMyChannelMemberships,c.getLastPostPerChannel,(function(e,t,n){return void 0===n&&(n="alpha"),n}),(function(e,n,r,i,o){return t.mapAndSortChannelIds(e,n,r,i,o,!0)})),t.getSortedUnreadChannelIds=f.createIdsSelector(t.getUnreadChannelIds,(function(e,n,r,i,o){return void 0===o&&(o="alpha"),t.getMapAndSortedUnreadChannelIds(e,n,o)}),(function(e,t){return t})),t.getFavoriteChannels=f.createIdsSelector(s.getCurrentUser,s.getUsers,h.getUserIdsInChannels,p,s.getMyChannelMemberships,u.getFavoritesPreferences,t.getChannelIdsForCurrentTeam,u.getTeammateNameDisplaySetting,a.getConfig,u.getMyPreferences,s.getCurrentChannelId,(function(e,t,n,r,i,s,a,u,c,_,l){return e?s.filter((function(n){if(!i[n]||!r[n])return!1;var s=r[n],u=d.getUserIdFromChannelName(e.id,s.name);return(0===s.delete_at||s.id===l)&&(!(s.type===o.General.DM_CHANNEL&&!t[u])&&(!(s.type===o.General.DM_CHANNEL&&!d.isDirectChannelVisible(t[u]||u,c,_,s,null,!1,l))&&(!(s.type===o.General.GM_CHANNEL&&!d.isGroupChannelVisible(c,_,s))&&a.includes(n))))})).map((function(i){var s=r[i];return s.type===o.General.DM_CHANNEL||s.type===o.General.GM_CHANNEL?d.completeDirectChannelDisplayName(e.id,t,n[i],u,s):s})):[]})),t.getFavoriteChannelIds=f.createIdsSelector(t.getFavoriteChannels,s.getCurrentUser,s.getMyChannelMemberships,c.getLastPostPerChannel,(function(e,t,n,r,i){return void 0===i&&(i="alpha"),i}),t.mapAndSortChannelIds),t.getSortedFavoriteChannelIds=f.createIdsSelector(t.getUnreadChannelIds,u.getFavoritesPreferences,(function(e,n,r,i,o){return t.getFavoriteChannelIds(e,n,r,i,o)}),(function(e,t,n){return void 0===n&&(n=!0),n}),(function(e,t,n,r){return S(e,t,n,r,!1)})),t.getPublicChannels=i.createSelector(s.getCurrentUser,p,s.getMyChannelMemberships,t.getChannelIdsForCurrentTeam,(function(e,t,n,r){return e?r.filter((function(e){if(!n[e])return!1;var i=t[e];return r.includes(e)&&i.type===o.General.OPEN_CHANNEL})).map((function(e){return t[e]})):[]})),t.getPublicChannelIds=f.createIdsSelector(t.getPublicChannels,s.getCurrentUser,s.getMyChannelMemberships,c.getLastPostPerChannel,(function(e,t,n,r,i){return void 0===i&&(i="alpha"),i}),t.mapAndSortChannelIds),t.getSortedPublicChannelIds=f.createIdsSelector(t.getUnreadChannelIds,u.getFavoritesPreferences,(function(e,n,r,i,o){return void 0===o&&(o="alpha"),t.getPublicChannelIds(e,n,r,i,o)}),(function(e,t,n){return void 0===n&&(n=!0),n}),(function(e,t,n,r){return void 0===r&&(r=!0),r}),S),t.getPrivateChannels=i.createSelector(s.getCurrentUser,p,s.getMyChannelMemberships,t.getChannelIdsForCurrentTeam,(function(e,t,n,r){return e?r.filter((function(e){if(!n[e])return!1;var i=t[e];return r.includes(e)&&i.type===o.General.PRIVATE_CHANNEL})).map((function(e){return t[e]})):[]})),t.getPrivateChannelIds=f.createIdsSelector(t.getPrivateChannels,s.getCurrentUser,s.getMyChannelMemberships,c.getLastPostPerChannel,(function(e,t,n,r,i){return void 0===i&&(i="alpha"),i}),t.mapAndSortChannelIds),t.getSortedPrivateChannelIds=f.createIdsSelector(t.getUnreadChannelIds,u.getFavoritesPreferences,(function(e,n,r,i,o){return void 0===o&&(o="alpha"),t.getPrivateChannelIds(e,n,r,i,o)}),(function(e,t,n){return void 0===n&&(n=!0),n}),(function(e,t,n,r){return void 0===r&&(r=!0),r}),S),t.getDirectChannels=i.createSelector(s.getCurrentUser,s.getUsers,h.getUserIdsInChannels,p,u.getVisibleTeammate,u.getVisibleGroupIds,u.getTeammateNameDisplaySetting,a.getConfig,u.getMyPreferences,c.getLastPostPerChannel,s.getCurrentChannelId,(function(e,t,n,r,i,o,s,a,u,c,_){if(!e)return[];var l=Object.keys(r).map((function(e){return r[e]})),E=[];return i.reduce((function(n,r){var i=d.getDirectChannelName(e.id,r),o=l.find((function(e){return e&&e.name===i}));if(o){var s=c[o.id],E=t[d.getUserIdFromChannelName(e.id,o.name)];d.isAutoClosed(a,u,o,s?s.create_at:0,E?E.delete_at:0,_)||n.push(o.id)}return n}),E),o.filter((function(e){var t=r[e];if(t){var n=c[t.id];return!d.isAutoClosed(a,u,r[e],n?n.create_at:0,0,_)}return!1})).concat(E).map((function(i){var o=r[i];return d.completeDirectChannelDisplayName(e.id,t,n[i],s,o)}))})),t.getDirectAndGroupChannels=i.createSelector(s.getCurrentUser,s.getUsers,h.getUserIdsInChannels,p,u.getTeammateNameDisplaySetting,(function(e,t,n,r,i){return e?Object.keys(r).map((function(e){return r[e]})).filter((function(e){return Boolean(e)})).filter((function(e){return e.type===o.General.DM_CHANNEL||e.type===o.General.GM_CHANNEL})).map((function(r){return d.completeDirectChannelDisplayName(e.id,t,n[r.id],i,r)})):[]})),t.getDirectChannelIds=f.createIdsSelector(t.getDirectChannels,s.getCurrentUser,s.getMyChannelMemberships,c.getLastPostPerChannel,(function(e,t,n,r,i){return void 0===i&&(i="alpha"),i}),t.mapAndSortChannelIds),t.getSortedDirectChannelIds=f.createIdsSelector(t.getUnreadChannelIds,u.getFavoritesPreferences,(function(e,n,r,i,o){return void 0===o&&(o="alpha"),t.getDirectChannelIds(e,n,r,i,o)}),(function(e,t,n){return void 0===n&&(n=!0),n}),(function(e,t,n,r){return void 0===r&&(r=!0),r}),S),t.getGroupOrDirectChannelVisibility=function(e,n){return d.isGroupOrDirectChannelVisible(t.getChannel(e,n),s.getMyChannelMemberships(e),a.getConfig(e),u.getMyPreferences(e),s.getCurrentUser(e).id,s.getUsers(e),c.getLastPostPerChannel(e))},t.filterPostIds=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return i.createSelector(p,c.getAllPosts,(function(e,t){return t}),(function(t,n,r){return r.filter((function(r){var i,o=n[r];return o&&(i=t[o.channel_id]),o&&i&&e(i,o)}))}))};t.getChannelsWithUserProfiles=i.createSelector(h.getUserIdsInChannels,s.getUsers,t.getGroupChannels,E.getCurrentUserId,(function(e,t,n,i){return n.map((function(n){var o=function(e,t,n){var r=[];return t.forEach((function(t){t!==e&&r.push(n[t])})),r}(i,e[n.id]||[],t);return r.__assign(r.__assign({},n),{profiles:o})}))}));var y,R=i.createSelector(t.getPublicChannels,t.getPrivateChannels,t.getDirectChannels,(function(e,t,n){return r.__spread(e,t,n)}));t.getAllChannelIds=f.createIdsSelector(R,s.getCurrentUser,s.getMyChannelMemberships,c.getLastPostPerChannel,(function(e,t,n,r,i){return void 0===i&&(i="alpha"),i}),t.mapAndSortChannelIds),t.getAllSortedChannelIds=f.createIdsSelector(t.getUnreadChannelIds,u.getFavoritesPreferences,(function(e,n,r,i,o){return void 0===o&&(o="alpha"),t.getAllChannelIds(e,n,r,i,o)}),(function(e,t,n){return void 0===n&&(n=!0),n}),(function(e,t,n,r){return void 0===r&&(r=!0),r}),S);t.getOrderedChannelIds=function(e,n,r,i,o,s){var a=[];if("by_type"===r)a.push({type:"public",name:"PUBLIC CHANNELS",items:t.getSortedPublicChannelIds(e,n,o,s,i)}),a.push({type:"private",name:"PRIVATE CHANNELS",items:t.getSortedPrivateChannelIds(e,n,o,s,i)}),a.push({type:"direct",name:"DIRECT MESSAGES",items:t.getSortedDirectChannelIds(e,n,o,s,i)});else{var u="alpha",c="CHANNELS";"recent"===i&&(u="recent",c="RECENT ACTIVITY"),a.push({type:u,name:c,items:t.getAllSortedChannelIds(e,n,o,s,i)})}return s&&a.unshift({type:"favorite",name:"FAVORITE CHANNELS",items:t.getSortedFavoriteChannelIds(e,n,o,s,i)}),o&&a.unshift({type:"unreads",name:"UNREADS",items:t.getSortedUnreadChannelIds(e,n,o,s,i)}),function(e){if(!y||y.length!==e.length)return!0;for(var t=0;t<e.length;t++)if(e[t].type!==y[t].type||e[t].items!==y[t].items)return!0;return!1}(a)&&(y=a),y},t.getSortedPublicChannelWithUnreadsIds=f.createIdsSelector(t.getUnreadChannelIds,u.getFavoritesPreferences,t.getPublicChannelIds,(function(e,t,n,r){return void 0===r&&(r=!0),r}),(function(e,t,n,r){return S(e,t,n,!1,r)})),t.getSortedPrivateChannelWithUnreadsIds=f.createIdsSelector(t.getUnreadChannelIds,u.getFavoritesPreferences,t.getPrivateChannelIds,(function(e,t,n,r){return void 0===r&&(r=!0),r}),(function(e,t,n,r){return S(e,t,n,!1,r)})),t.getSortedFavoriteChannelWithUnreadsIds=f.createIdsSelector(t.getUnreadChannelIds,t.getFavoriteChannelIds,(function(e,t){return t})),t.getSortedDirectChannelWithUnreadsIds=f.createIdsSelector(t.getUnreadChannelIds,u.getFavoritesPreferences,t.getDirectChannelIds,(function(e,t,n,r){return void 0===r&&(r=!0),r}),(function(e,t,n,r){return S(e,t,n,!1,r)})),t.getDefaultChannelForTeams=i.createSelector(p,(function(e){var t,n,i={};try{for(var s=r.__values(Object.keys(e).map((function(t){return e[t]}))),a=s.next();!a.done;a=s.next()){var u=a.value;u&&u.name===o.General.DEFAULT_CHANNEL&&(i[u.team_id]=u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i})),t.getMyFirstChannelForTeams=i.createSelector(p,s.getMyChannelMemberships,_.getMyTeams,s.getCurrentUser,(function(e,t,n,i){var s,a,u=i.locale||o.General.DEFAULT_LOCALE,c={},_=function(n){var r=Object.values(e).filter((function(e){return e&&e.team_id===n.id&&Boolean(t[e.id])})).sort(d.sortChannelsByDisplayName.bind(null,u));if(0===r.length)return"continue";c[n.id]=r[0]};try{for(var l=r.__values(n),E=l.next();!E.done;E=l.next()){_(E.value)}}catch(e){s={error:e}}finally{try{E&&!E.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return c})),t.getRedirectChannelNameForTeam=function(e,n){var r=t.getDefaultChannelForTeams(e)[n],i=t.getMyFirstChannelForTeams(e)[n],u=!a.hasNewPermissions(e)||l.haveITeamPermission(e,{team:n,permission:o.Permissions.JOIN_PUBLIC_CHANNELS}),c=s.getMyChannelMemberships(e);return Boolean(r&&c[r.id])||u?o.General.DEFAULT_CHANNEL:i&&i.name||o.General.DEFAULT_CHANNEL}},function(e,t){e.exports=ReactBootstrap},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);function i(e){return e.entities.channels.currentChannelId}function o(e){return e.entities.channels.myMembers}function s(e){return e.entities.users.currentUserId}t.getCurrentChannelId=i,t.getMyChannelMemberships=o,t.getMyCurrentChannelMembership=r.createSelector(i,o,(function(e,t){return t[e]||null})),t.getCurrentUser=function(e){return e.entities.users.profiles[s(e)]},t.getCurrentUserId=s,t.getUsers=function(e){return e.entities.users.profiles}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(102);function s(e){return e.first_name&&e.last_name?e.first_name+" "+e.last_name:e.first_name?e.first_name:e.last_name?e.last_name:""}function a(e,t){return e.split(" ").includes(t)}function u(e){return a(e,i.General.TEAM_ADMIN_ROLE)}function c(e){return a(e,i.General.SYSTEM_ADMIN_ROLE)}function _(e,t){var n=e.split(t),r=n.map((function(e,r){return n.slice(r).join(t)}));return" "===t?r:r.reduce((function(e,n){return 0===e.length?e.push(n):e.push(t+n,n),e}),[])}function l(e,t){var n=t.reduce((function(t,n){return _(e,n).forEach((function(e){return t.add(e)})),t}),new Set);return r.__spread(n)}t.getFullName=s,t.displayUsername=function(e,t,n){void 0===n&&(n=!0);var r=n?o.localizeMessage("channel_loader.someone","Someone"):"";return e&&((r=t===i.Preferences.DISPLAY_PREFER_NICKNAME?e.nickname||s(e):t===i.Preferences.DISPLAY_PREFER_FULL_NAME?s(e):e.username)&&0!==r.trim().length||(r=e.username)),r},t.rolesIncludePermission=a,t.isAdmin=function(e){return c(e)||u(e)},t.isTeamAdmin=u,t.isSystemAdmin=c,t.isChannelAdmin=function(e){return a(e,i.General.CHANNEL_ADMIN_ROLE)},t.hasUserAccessTokenRole=function(e){return a(e,i.General.SYSTEM_USER_ACCESS_TOKEN_ROLE)},t.hasPostAllRole=function(e){return a(e,i.General.SYSTEM_POST_ALL_ROLE)},t.hasPostAllPublicRole=function(e){return a(e,i.General.SYSTEM_POST_ALL_PUBLIC_ROLE)},t.profileListToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id]=e[n];return t},t.removeUserFromList=function(e,t){for(var n=t.length-1;n>=0;n--)if(t[n].id===e)return t.splice(n,1),t;return t},t.getSuggestionsSplitBy=_,t.getSuggestionsSplitByMultiple=l,t.filterProfilesMatchingTerm=function(e,t){var n=t.toLowerCase();return n.startsWith("@")&&(n=n.substr(1)),e.filter((function(e){if(!e)return!1;var t=[],o=l((e.username||"").toLowerCase(),i.General.AUTOCOMPLETE_SPLIT_CHARACTERS);t.push.apply(t,r.__spread(o));var s=(e.first_name||"").toLowerCase(),a=(e.last_name||"").toLowerCase(),u=s+" "+a;t.push(s,a,u),t.push((e.nickname||"").toLowerCase());var c=(e.email||"").toLowerCase();t.push(c),t.push((e.nickname||"").toLowerCase());var _=c.split("@");return _.length>1&&t.push(_[1]),t.filter((function(e){return""!==e})).some((function(e){return e.startsWith(n)}))}))},t.sortByUsername=function(e,t){var n=e.username,r=t.username;return n.localeCompare(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPreferenceKey=function(e,t){return e+"--"+t},t.getPreferencesByCategory=function(e,t){var n=t+"--",r=new Map;return Object.keys(e).forEach((function(t){t.startsWith(n)&&r.set(t.substring(n.length),e[t])})),r}},function(e,t,n){var r=n(22),i=n(63),o=n(10),s=n(62),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(3),s=n(9),a=n(44),u=n(31),c=n(30),_=((r={})[o.General.OPEN_CHANNEL]=0,r[o.General.PRIVATE_CHANNEL]=1,r[o.General.DM_CHANNEL]=2,r[o.General.GM_CHANNEL]=2,r);function l(e,t,n){if(h(n)){var r=d(e.currentUserId,n.name);return i.__assign(i.__assign({},n),{display_name:c.displayUsername(e.profiles[r],t,!1),teammate_id:r,status:e.statuses[r]||"offline"})}return g(n)?function(e,t,n){var r=e.currentUserId,o=e.profiles,s=e.profilesInChannel[n.id],a=i.__assign({},n);if(s)return a.display_name=T(s,o,r,t),a;var u=a.display_name.split(", "),c=Object.keys(o).map((function(e){return o[e]})),_=[];if(u.forEach((function(e){var t=c.find((function(t){return t.username===e}));t&&_.push(t.id)})),u.length===_.length)return a.display_name=T(_,o,r,t),a;return n}(e,t,n):n}function E(e,t){return t>e?e+"__"+t:t+"__"+e}function d(e,t){var n=t.split("__");return n[0]===e?n[1]:n[0]}function f(e,t,n,r,i,s){void 0===s&&(s="");var a=(new Date).getTime()-6048e5,u=t[o.Preferences.CATEGORY_CHANNEL_APPROXIMATE_VIEW_TIME+"--"+n.id];if((u?parseInt(u.value,10):0)>a)return!1;var c=t[o.Preferences.CATEGORY_CHANNEL_OPEN_TIME+"--"+n.id],_=c?parseInt(c.value,10):0;if(n.id!==s&&i&&i>_)return!0;if("true"!==e.CloseUnusedDirectMessages||S(t,n.id))return!1;var l=t[o.Preferences.CATEGORY_SIDEBAR_SETTINGS+"--close_unused_direct_messages"];if(!l||"after_seven_days"===l.value){if(r&&r>a)return!1;if(_>a)return!1;var E=n.last_post_at;return!E||E<a}return!1}function h(e){return e.type===o.General.DM_CHANNEL}function p(e,t,n,r,i,s,a){void 0===a&&(a="");var u="object"==typeof e?e:null,c="object"==typeof e?e.id:e,_=n[o.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW+"--"+c];return!(!_||"true"!==_.value)&&(s||!f(t,n,r,i?i.create_at:0,u?u.delete_at:0,a))}function g(e){return e.type===o.General.GM_CHANNEL}function C(e,t,n,r,i){var s=t[o.Preferences.CATEGORY_GROUP_CHANNEL_SHOW+"--"+n.id];return!(!s||"true"!==s.value)&&(i||!f(e,t,n,r?r.create_at:0,0))}function m(e,t,n,r,i,o,s){var a=s[e.id];if(g(e)&&C(n,r,e,a,N(t,e)))return!0;if(!h(e))return!1;var u=d(i,e.name);return p(o[u]||u,n,r,e,a,N(t,e))}function T(e,t,n,r){var i=[];return e.forEach((function(e){e!==n&&i.push(c.displayUsername(t[e],r))})),i.sort((function(e,r){var i=V(n,t);return e.localeCompare(r,i,{numeric:!0})})).join(", ")}function S(e,t){var n=e[o.Preferences.CATEGORY_FAVORITE_CHANNEL+"--"+t];return!!n&&"true"===n.value}function v(e){return function(t){return function(e,t){return{name:E(e,t),create_at:0,update_at:0,delete_at:0,extra_update_at:0,last_post_at:0,total_msg_count:0,type:o.General.DM_CHANNEL,fake:!0,team_id:"",scheme_id:"",purpose:"",header:"",id:"",display_name:"",creator_id:"",group_constrained:!1}}(e,t)}}function y(e,t,n){var r=u.getPreferencesByCategory(n,o.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW);return Array.from(r).filter((function(e){return"true"===e[1]})).map((function(e){return e[0]})).filter((function(n){return!t.some(R.bind(null,e,n))})).map(v(e))}function R(e,t,n){return n.type===o.General.DM_CHANNEL&&d(e,n.name)===t}function A(e,t){var n=e[t.id];return!!n&&n.mention_count>0}function I(e,t){var n=e[t.id];if(n){var r=t.total_msg_count-n.msg_count,i=n.notify_props&&n.notify_props.mark_unread===o.General.MENTION;return Boolean(r)&&!i&&0===n.mention_count}return!1}function N(e,t){var n=e[t.id];if(n){var r=t.total_msg_count-n.msg_count,i=n.notify_props&&n.notify_props.mark_unread===o.General.MENTION;return n.mention_count>0||Boolean(r)&&!i}return!1}function O(e){return 0===e.delete_at}function L(e){return e.type===o.General.OPEN_CHANNEL}function U(e){return e.type===o.General.PRIVATE_CHANNEL}function P(e,t,n){if(_[t.type]!==_[n.type])return _[t.type]<_[n.type]?-1:1;var r=M(t.display_name),i=M(n.display_name);return r!==i?r.toLowerCase().localeCompare(i.toLowerCase(),e,{numeric:!0}):t.name.toLowerCase().localeCompare(n.name.toLowerCase(),e,{numeric:!0})}function M(e){return e.replace(/[.,'"\/#!$%\^&\*;:{}=\-_`~()]/g,"")}function b(e,t,n){return t.display_name&&n.display_name&&t.display_name!==n.display_name?t.display_name.toLowerCase().localeCompare(n.display_name.toLowerCase(),e,{numeric:!0}):t.name.toLowerCase().localeCompare(n.name.toLowerCase(),e,{numeric:!0})}function D(e){return!(!e||!e.notify_props)&&"mention"===e.notify_props.mark_unread}function w(e,t,n,r,i){return t.concat(n).map((function(t){return l(e,r,t)})).filter(O).sort(P.bind(null,i))}function F(e,t,n){return e.filter((function(e){return S(t,e.id)})).sort(b.bind(null,n))}function G(e,t){return e.filter((function(e){return!S(t,e.id)}))}function H(e,t,n,r,i,o,s){return e.filter((function(e){return m(e,t,n,r,i,o,s)}))}function V(e,t){var n=o.General.DEFAULT_LOCALE;return t&&t[e]&&t[e].locale&&(n=t[e].locale),n}t.buildDisplayableChannelList=function(e,t,n,r,i,o,s){var a=y(e.currentUserId,t,i),u=e.currentUserId,c=e.profiles,_=V(u,c),l=w(e,t,a,o,_),E=F(l,i,_),d=G(l,i),f=H(d,n,r,i,u,c,s);return{favoriteChannels:E,publicChannels:d.filter(L),privateChannels:d.filter(U),directAndGroupChannels:f}},t.buildDisplayableChannelListWithUnreadSection=function(e,t,n,r,o,s,a){var u=e.currentUserId,c=e.profiles,_=V(u,c),l=w(e,t,y(u,t,o),s,_),E=i.__spread(function(e,t,n){return e.filter(A.bind(null,t)).sort(b.bind(null,n))}(l,n,_),function(e,t,n){return e.filter(I.bind(null,t)).sort(b.bind(null,n))}(l,n,_)),d=l.filter((function(e){return!N(n,e)})),f=F(d,o,_),h=G(d,o),p=H(h,n,r,o,u,c,a);return{unreadChannels:E,favoriteChannels:f,publicChannels:h.filter(L),privateChannels:h.filter(U),directAndGroupChannels:p}},t.completeDirectChannelInfo=l,t.completeDirectChannelDisplayName=function(e,t,n,r,o){if(h(o)){var s=i.__assign({},o),a=d(e,o.name);return Object.assign(s,{display_name:c.displayUsername(t[a],r)})}if(g(o)&&n&&n.size>0){var u=T(Array.from(n),t,e,r);return i.__assign(i.__assign({},o),{display_name:u})}return o},t.cleanUpUrlable=function(e){var t=e.trim().replace(/-/g," ").replace(/[^\w\s]/gi,"").toLowerCase().replace(/\s/g,"-");return t=(t=(t=t.replace(/-{2,}/,"-")).replace(/^-+/,"")).replace(/-+$/,"")},t.getChannelByName=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(e[i].name===t)return e[i]}return null},t.getDirectChannelName=E,t.getUserIdFromChannelName=d,t.isAutoClosed=f,t.isDirectChannel=h,t.isDirectChannelVisible=p,t.isGroupChannel=g,t.isGroupChannelVisible=C,t.isGroupOrDirectChannelVisible=m,t.showCreateOption=function(e,t,n,r,i,u,c){if(s.hasNewPermissions(e))return i===o.General.OPEN_CHANNEL?a.haveITeamPermission(e,{team:r,permission:o.Permissions.CREATE_PUBLIC_CHANNEL}):i!==o.General.PRIVATE_CHANNEL||a.haveITeamPermission(e,{team:r,permission:o.Permissions.CREATE_PRIVATE_CHANNEL});if("true"!==n.IsLicensed)return!0;if(i===o.General.OPEN_CHANNEL){if(t.RestrictPublicChannelCreation===o.General.SYSTEM_ADMIN_ROLE&&!c)return!1;if(t.RestrictPublicChannelCreation===o.General.TEAM_ADMIN_ROLE&&!u)return!1}else if(i===o.General.PRIVATE_CHANNEL){if(t.RestrictPrivateChannelCreation===o.General.SYSTEM_ADMIN_ROLE&&!c)return!1;if(t.RestrictPrivateChannelCreation===o.General.TEAM_ADMIN_ROLE&&!u)return!1}return!0},t.showManagementOptions=function(e,t,n,r,i,u,c){if(s.hasNewPermissions(e))return r.type===o.General.OPEN_CHANNEL?a.haveIChannelPermission(e,{channel:r.id,team:r.team_id,permission:o.Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES}):r.type!==o.General.PRIVATE_CHANNEL||a.haveIChannelPermission(e,{channel:r.id,team:r.team_id,permission:o.Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES});if("true"!==n.IsLicensed)return!0;if(r.type===o.General.OPEN_CHANNEL){if(t.RestrictPublicChannelManagement===o.General.SYSTEM_ADMIN_ROLE&&!u)return!1;if(t.RestrictPublicChannelManagement===o.General.TEAM_ADMIN_ROLE&&!i)return!1;if(t.RestrictPublicChannelManagement===o.General.CHANNEL_ADMIN_ROLE&&!c&&!i)return!1}else if(r.type===o.General.PRIVATE_CHANNEL){if(t.RestrictPrivateChannelManagement===o.General.SYSTEM_ADMIN_ROLE&&!u)return!1;if(t.RestrictPrivateChannelManagement===o.General.TEAM_ADMIN_ROLE&&!i)return!1;if(t.RestrictPrivateChannelManagement===o.General.CHANNEL_ADMIN_ROLE&&!c&&!i)return!1}return!0},t.showDeleteOption=function(e,t,n,r,i,u,c){if(s.hasNewPermissions(e))return r.type===o.General.OPEN_CHANNEL?a.haveIChannelPermission(e,{channel:r.id,team:r.team_id,permission:o.Permissions.DELETE_PUBLIC_CHANNEL}):r.type!==o.General.PRIVATE_CHANNEL||a.haveIChannelPermission(e,{channel:r.id,team:r.team_id,permission:o.Permissions.DELETE_PRIVATE_CHANNEL});if("true"!==n.IsLicensed)return!0;if(r.type===o.General.OPEN_CHANNEL){if(t.RestrictPublicChannelDeletion===o.General.SYSTEM_ADMIN_ROLE&&!u)return!1;if(t.RestrictPublicChannelDeletion===o.General.TEAM_ADMIN_ROLE&&!i)return!1;if(t.RestrictPublicChannelDeletion===o.General.CHANNEL_ADMIN_ROLE&&!c&&!i)return!1}else if(r.type===o.General.PRIVATE_CHANNEL){if(t.RestrictPrivateChannelDeletion===o.General.SYSTEM_ADMIN_ROLE&&!u)return!1;if(t.RestrictPrivateChannelDeletion===o.General.TEAM_ADMIN_ROLE&&!i)return!1;if(t.RestrictPrivateChannelDeletion===o.General.CHANNEL_ADMIN_ROLE&&!c&&!i)return!1}return!0},t.canManageMembersOldPermissions=function(e,t,n,r,i,s){if(e.type===o.General.DM_CHANNEL||e.type===o.General.GM_CHANNEL||e.name===o.General.DEFAULT_CHANNEL)return!1;if("true"!==s.IsLicensed)return!0;if(e.type===o.General.PRIVATE_CHANNEL){var a=t.roles.includes(o.General.SYSTEM_ADMIN_ROLE);if(i.RestrictPrivateChannelManageMembers===o.General.PERMISSIONS_SYSTEM_ADMIN&&!a)return!1;var u=n.roles.includes(o.General.TEAM_ADMIN_ROLE);if(i.RestrictPrivateChannelManageMembers===o.General.PERMISSIONS_TEAM_ADMIN&&!u&&!a)return!1;var c=r.roles.includes(o.General.CHANNEL_ADMIN_ROLE);if(i.RestrictPrivateChannelManageMembers===o.General.PERMISSIONS_CHANNEL_ADMIN&&!c&&!u&&!a)return!1}return!0},t.getChannelsIdForTeam=function(e,t){var n=e.entities.channels.channels;return Object.keys(n).map((function(e){return n[e]})).reduce((function(e,n){return n.team_id===t&&e.push(n.id),e}),[])},t.getGroupDisplayNameFromUserIds=T,t.isFavoriteChannel=S,t.isDefault=function(e){return e.name===o.General.DEFAULT_CHANNEL},t.isUnreadChannel=N,t.isOpenChannel=L,t.isPrivateChannel=U,t.sortChannelsByTypeAndDisplayName=P,t.sortChannelsByDisplayName=b,t.sortChannelsByDisplayNameAndMuted=function(e,t,n,r){var i=t[n.id],o=t[r.id];return D(o)===D(i)?b(e,n,r):!D(o)&&D(i)?1:-1},t.sortChannelsByRecency=function(e,t,n){var r=t.last_post_at;e[t.id]&&e[t.id].create_at>t.last_post_at&&(r=e[t.id].create_at);var i=n.last_post_at;return e[n.id]&&e[n.id].create_at>n.last_post_at&&(i=e[n.id].create_at),i-r},t.isChannelMuted=D,t.areChannelMentionsIgnored=function(e,t){var n=o.Users.IGNORE_CHANNEL_MENTIONS_OFF;t.channel&&"false"===t.channel&&(n=o.Users.IGNORE_CHANNEL_MENTIONS_ON);var r=e&&e.ignore_channel_mentions;return r&&r!==o.Users.IGNORE_CHANNEL_MENTIONS_DEFAULT||(r=n),r!==o.Users.IGNORE_CHANNEL_MENTIONS_OFF},t.filterChannelsMatchingTerm=function(e,t){var n=t.toLowerCase();return e.filter((function(e){if(!e)return!1;var t=(e.name||"").toLowerCase(),r=(e.display_name||"").toLowerCase();return t.startsWith(n)||r.startsWith(n)}))}},function(e,t,n){var r=n(106),i=n(48);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(5),i=n(37),o=n(18),s=n(17),a=n(50),u=n(64),c=n(51),_=c.get,l=c.enforce,E=String(u).split("toString");i("inspectSource",(function(e){return u.call(e)})),(e.exports=function(e,t,n,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,_=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||s(n,"name")||o(n,"name",t),l(n).source=E.join("string"==typeof t?t:"")),e!==r?(u?!_&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&_(this).source||u.call(this)}))},function(e,t,n){var r=n(5),i=n(50),o=n(38),s=r["__core-js_shared__"]||i("__core-js_shared__",{});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.1.3",mode:o?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var r=n(66),i=n(5),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),o=n(12),s=n(43),a=n(9),u=n(19);function c(e){return u.bindClientFunc({clientFunc:i.Client4.getRolesByNames,onRequest:o.RoleTypes.ROLES_BY_NAMES_REQUEST,onSuccess:[o.RoleTypes.RECEIVED_ROLES,o.RoleTypes.ROLES_BY_NAMES_SUCCESS],onFailure:o.RoleTypes.ROLES_BY_NAMES_FAILURE,params:[e]})}function _(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:o.RoleTypes.SET_PENDING_ROLES,data:e},i),[2,{data:e}]}))}))}}t.getRolesByNames=c,t.getRoleByName=function(e){return u.bindClientFunc({clientFunc:i.Client4.getRoleByName,onRequest:o.RoleTypes.ROLE_BY_NAME_REQUEST,onSuccess:[o.RoleTypes.RECEIVED_ROLE,o.RoleTypes.ROLE_BY_NAME_SUCCESS],onFailure:o.RoleTypes.ROLE_BY_NAME_FAILURE,params:[e]})},t.getRole=function(e){return u.bindClientFunc({clientFunc:i.Client4.getRole,onRequest:o.RoleTypes.ROLE_BY_ID_REQUEST,onSuccess:[o.RoleTypes.RECEIVED_ROLE,o.RoleTypes.ROLE_BY_ID_SUCCESS],onFailure:o.RoleTypes.ROLE_BY_ID_FAILURE,params:[e]})},t.editRole=function(e){return u.bindClientFunc({clientFunc:i.Client4.patchRole,onRequest:o.RoleTypes.EDIT_ROLE_REQUEST,onSuccess:[o.RoleTypes.RECEIVED_ROLE,o.RoleTypes.EDIT_ROLE_SUCCESS],onFailure:o.RoleTypes.EDIT_ROLE_FAILURE,params:[e.id,e]})},t.setPendingRoles=_,t.loadRolesIfNeeded=function e(t){var n=this;return function(i,o){return r.__awaiter(n,void 0,void 0,(function(){var n,u,l,E,d,f,h,p,g,C,m,T,S;return r.__generator(this,(function(v){switch(v.label){case 0:n=o(),u=new Set;try{u=new Set(n.entities.roles.pending)}catch(e){}try{for(l=r.__values(t),E=l.next();!E.done;E=l.next())g=E.value,u.add(g)}catch(e){C={error:e}}finally{try{E&&!E.done&&(m=l.return)&&m.call(l)}finally{if(C)throw C.error}}return n.entities.general.serverVersion?a.hasNewPermissions(n)?[3,3]:n.entities.roles.pending?[4,_([])(i,o)]:[3,2]:(_(Array.from(u))(i,o),setTimeout((function(){return i(e([]))}),500),[2,{data:[]}]);case 1:v.sent(),v.label=2;case 2:return[2,{data:[]}];case 3:d=s.getRoles(n),f=new Set;try{for(h=r.__values(u),p=h.next();!p.done;p=h.next())g=p.value,d[g]||""===g.trim()||f.add(g)}catch(e){T={error:e}}finally{try{p&&!p.done&&(S=h.return)&&S.call(h)}finally{if(T)throw T.error}}return n.entities.roles.pending?[4,_([])(i,o)]:[3,5];case 4:v.sent(),v.label=5;case 5:return f.size>0?[2,c(Array.from(f))(i,o)]:[2,{data:n.entities.roles.roles}]}}))}))}}},function(e,t){e.exports=ReactRedux},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importStar(n(7)),o=n(29);function s(e){return e.entities.roles.roles}t.getRoles=s,t.getMySystemRoles=i.createSelector(o.getCurrentUser,(function(e){return e?new Set(e.roles.split(" ")):new Set})),t.getMySystemPermissions=i.createSelector(t.getMySystemRoles,s,(function(e,t){var n,i,o,s,a=new Set;try{for(var u=r.__values(e),c=u.next();!c.done;c=u.next()){var _=c.value;if(t[_])try{for(var l=(o=void 0,r.__values(t[_].permissions)),E=l.next();!E.done;E=l.next()){var d=E.value;a.add(d)}}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return a})),t.haveISystemPermission=i.createSelector(t.getMySystemPermissions,(function(e,t){return t.permission}),(function(e,t){return e.has(t)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importStar(n(7)),o=n(29),s=n(14),a=n(43);t.getMySystemPermissions=a.getMySystemPermissions,t.getMySystemRoles=a.getMySystemRoles,t.getRoles=a.getRoles,t.getMyTeamRoles=i.createSelector(s.getTeamMemberships,(function(e){var t={};if(e)for(var n in e)e.hasOwnProperty(n)&&e[n].roles&&(t[n]=new Set(e[n].roles.split(" ")));return t})),t.getMyChannelRoles=i.createSelector((function(e){return e.entities.channels.myMembers}),(function(e){var t={};if(e)for(var n in e)e.hasOwnProperty(n)&&e[n].roles&&(t[n]=new Set(e[n].roles.split(" ")));return t})),t.getMyRoles=i.createSelector(a.getMySystemRoles,t.getMyTeamRoles,t.getMyChannelRoles,(function(e,t,n){return{system:e,team:t,channel:n}})),t.getRolesById=i.createSelector(a.getRoles,(function(e){var t,n,i={};try{for(var o=r.__values(Object.values(e)),s=o.next();!s.done;s=o.next()){var a=s.value;i[a.id]=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i})),t.getMyCurrentTeamPermissions=i.createSelector(t.getMyTeamRoles,a.getRoles,a.getMySystemPermissions,s.getCurrentTeamId,(function(e,t,n,i){var o,s,a,u,c,_,l=new Set;if(e[i])try{for(var E=r.__values(e[i]),d=E.next();!d.done;d=E.next()){var f=d.value;if(t[f])try{for(var h=(a=void 0,r.__values(t[f].permissions)),p=h.next();!p.done;p=h.next()){var g=p.value;l.add(g)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}}}catch(e){o={error:e}}finally{try{d&&!d.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var C=r.__values(n),m=C.next();!m.done;m=C.next()){g=m.value;l.add(g)}}catch(e){c={error:e}}finally{try{m&&!m.done&&(_=C.return)&&_.call(C)}finally{if(c)throw c.error}}return l})),t.getMyCurrentChannelPermissions=i.createSelector(t.getMyChannelRoles,a.getRoles,t.getMyCurrentTeamPermissions,o.getCurrentChannelId,(function(e,t,n,i){var o,s,a,u,c,_,l=new Set;if(e[i])try{for(var E=r.__values(e[i]),d=E.next();!d.done;d=E.next()){var f=d.value;if(t[f])try{for(var h=(a=void 0,r.__values(t[f].permissions)),p=h.next();!p.done;p=h.next()){var g=p.value;l.add(g)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}}}catch(e){o={error:e}}finally{try{d&&!d.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var C=r.__values(n),m=C.next();!m.done;m=C.next()){g=m.value;l.add(g)}}catch(e){c={error:e}}finally{try{m&&!m.done&&(_=C.return)&&_.call(C)}finally{if(c)throw c.error}}return l})),t.getMyTeamPermissions=i.createSelector(t.getMyTeamRoles,a.getRoles,a.getMySystemPermissions,(function(e,t){return t.team}),(function(e,t,n,i){var o,s,a,u,c,_,l=new Set;if(e[i])try{for(var E=r.__values(e[i]),d=E.next();!d.done;d=E.next()){var f=d.value;if(t[f])try{for(var h=(a=void 0,r.__values(t[f].permissions)),p=h.next();!p.done;p=h.next()){var g=p.value;l.add(g)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}}}catch(e){o={error:e}}finally{try{d&&!d.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var C=r.__values(n),m=C.next();!m.done;m=C.next()){g=m.value;l.add(g)}}catch(e){c={error:e}}finally{try{m&&!m.done&&(_=C.return)&&_.call(C)}finally{if(c)throw c.error}}return l})),t.getMyChannelPermissions=i.createSelector(t.getMyChannelRoles,a.getRoles,t.getMyTeamPermissions,(function(e,t){return t.channel}),(function(e,t,n,i){var o,s,a,u,c,_,l=new Set;if(e[i])try{for(var E=r.__values(e[i]),d=E.next();!d.done;d=E.next()){var f=d.value;if(t[f])try{for(var h=(a=void 0,r.__values(t[f].permissions)),p=h.next();!p.done;p=h.next()){var g=p.value;l.add(g)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}}}catch(e){o={error:e}}finally{try{d&&!d.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var C=r.__values(n),m=C.next();!m.done;m=C.next()){g=m.value;l.add(g)}}catch(e){c={error:e}}finally{try{m&&!m.done&&(_=C.return)&&_.call(C)}finally{if(c)throw c.error}}return l})),t.haveISystemPermission=i.createSelector(a.getMySystemPermissions,(function(e,t){return t.permission}),(function(e,t){return e.has(t)})),t.haveITeamPermission=i.createSelector(t.getMyTeamPermissions,(function(e,t){return t.permission}),(function(e,t){return e.has(t)})),t.haveIChannelPermission=i.createSelector(t.getMyChannelPermissions,(function(e,t){return t.permission}),(function(e,t){return e.has(t)})),t.haveICurrentTeamPermission=i.createSelector(t.getMyCurrentTeamPermissions,(function(e,t){return t.permission}),(function(e,t){return e.has(t)})),t.haveICurrentChannelPermission=i.createSelector(t.getMyCurrentChannelPermissions,(function(e,t){return t.permission}),(function(e,t){return e.has(t)}))},function(e,t,n){var r=n(5),i=n(46).f,o=n(18),s=n(36),a=n(50),u=n(108),c=n(69);e.exports=function(e,t){var n,_,l,E,d,f=e.target,h=e.global,p=e.stat;if(n=h?r:p?r[f]||a(f,{}):(r[f]||{}).prototype)for(_ in t){if(E=t[_],l=e.noTargetGet?(d=i(n,_))&&d.value:n[_],!c(h?_:f+(p?".":"#")+_,e.forced)&&void 0!==l){if(typeof E==typeof l)continue;u(E,l)}(e.sham||l&&l.sham)&&o(E,"sham",!0),s(n,_,E,e)}}},function(e,t,n){var r=n(22),i=n(105),o=n(47),s=n(35),a=n(62),u=n(17),c=n(63),_=Object.getOwnPropertyDescriptor;t.f=r?_:function(e,t){if(e=s(e),t=a(t,!0),c)try{return _(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(5),i=n(16),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t,n){var r=n(5),i=n(18);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r,i,o,s=n(107),a=n(5),u=n(16),c=n(18),_=n(17),l=n(52),E=n(53),d=a.WeakMap;if(s){var f=new d,h=f.get,p=f.has,g=f.set;r=function(e,t){return g.call(f,e,t),t},i=function(e){return h.call(f,e)||{}},o=function(e){return p.call(f,e)}}else{var C=l("state");E[C]=!0,r=function(e,t){return c(e,C,t),t},i=function(e){return _(e,C)?e[C]:{}},o=function(e){return _(e,C)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(37),i=n(65),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(68),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(32).f,i=n(17),o=n(6)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),o=n(3),s=n(12),a=n(58),u=n(34),c=n(27),_=n(14),l=n(24),E=n(21),d=n(19),f=n(25),h=n(41);function p(e){return{type:s.ChannelTypes.SELECT_CHANNEL,data:e}}function g(e,t){var n=this;return function(a,u){return r.__awaiter(n,void 0,void 0,(function(){var n,c,_,f,p,g,C;return r.__generator(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,i.Client4.createChannel(e)];case 1:return n=m.sent(),[3,3];case 2:return c=m.sent(),d.forceLogoutIfNecessary(c,a,u),a(l.batchActions([{type:s.ChannelTypes.CREATE_CHANNEL_FAILURE,error:c},E.logError(c)]),u),[2,{error:c}];case 3:return _={channel_id:n.id,user_id:t,roles:o.General.CHANNEL_USER_ROLE+" "+o.General.CHANNEL_ADMIN_ROLE,last_viewed_at:0,msg_count:0,mention_count:0,notify_props:{desktop:"default",mark_unread:"all"},last_update_at:n.create_at},f=[],p=u().entities.channels,g=p.channels,C=p.myMembers,g[n.id]||f.push({type:s.ChannelTypes.RECEIVED_CHANNEL,data:n}),C[n.id]||(f.push({type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:_}),a(h.loadRolesIfNeeded(_.roles.split(" ")))),a(l.batchActions(r.__spread(f,[{type:s.ChannelTypes.CREATE_CHANNEL_SUCCESS}])),u),[2,{data:n}]}}))}))}}function C(e,t){var n=this;return function(u,c){return r.__awaiter(n,void 0,void 0,(function(){var n,_,f,p;return r.__generator(this,(function(r){switch(r.label){case 0:u({type:s.ChannelTypes.CREATE_CHANNEL_REQUEST,data:null},c),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.createDirectChannel([e,t])];case 2:return n=r.sent(),[3,4];case 3:return _=r.sent(),d.forceLogoutIfNecessary(_,u,c),u(l.batchActions([{type:s.ChannelTypes.CREATE_CHANNEL_FAILURE,error:_},E.logError(_)]),c),[2,{error:_}];case 4:return f={channel_id:n.id,user_id:e,roles:""+o.General.CHANNEL_USER_ROLE,last_viewed_at:0,msg_count:0,mention_count:0,notify_props:{desktop:"default",mark_unread:"all"},last_update_at:n.create_at},p=[{user_id:e,category:o.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,name:t,value:"true"},{user_id:e,category:o.Preferences.CATEGORY_CHANNEL_OPEN_TIME,name:n.id,value:(new Date).getTime().toString()}],a.savePreferences(e,p)(u),u(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:n},{type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:f},{type:s.PreferenceTypes.RECEIVED_PREFERENCES,data:p},{type:s.ChannelTypes.CREATE_CHANNEL_SUCCESS},{type:s.UserTypes.RECEIVED_PROFILES_LIST_IN_CHANNEL,id:n.id,data:[{id:e},{id:t}]}]),c),u(h.loadRolesIfNeeded(f.roles.split(" "))),[2,{data:n}]}}))}))}}function m(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,s;return r.__generator(this,(function(r){return t=i().entities.users.currentUserId,s=[{user_id:t,category:o.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,name:e,value:"true"},{user_id:t,category:o.Preferences.CATEGORY_CHANNEL_OPEN_TIME,name:e,value:(new Date).getTime().toString()}],[2,n(a.savePreferences(t,s))]}))}))}}function T(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.ChannelTypes.UPDATE_CHANNEL_REQUEST,data:null},a),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.patchChannel(e,t)];case 2:return n=r.sent(),[3,4];case 3:return u=r.sent(),d.forceLogoutIfNecessary(u,o,a),o(l.batchActions([{type:s.ChannelTypes.UPDATE_CHANNEL_FAILURE,error:u},E.logError(u)]),a),[2,{error:u}];case 4:return o(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:n},{type:s.ChannelTypes.UPDATE_CHANNEL_SUCCESS}]),a),[2,{data:n}]}}))}))}}function S(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:n({type:s.ChannelTypes.UPDATE_CHANNEL_REQUEST,data:null},o),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.updateChannel(e)];case 2:return t=r.sent(),[3,4];case 3:return a=r.sent(),d.forceLogoutIfNecessary(a,n,o),n(l.batchActions([{type:s.ChannelTypes.UPDATE_CHANNEL_FAILURE,error:a},E.logError(a)]),o),[2,{error:a}];case 4:return n(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:t},{type:s.ChannelTypes.UPDATE_CHANNEL_SUCCESS}]),o),[2,{data:t}]}}))}))}}function v(e,t,n){var o=this;return function(a,u){return r.__awaiter(o,void 0,void 0,(function(){var o,c,_,l;return r.__generator(this,(function(f){switch(f.label){case 0:o=r.__assign({user_id:e,channel_id:t},n),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,i.Client4.updateChannelNotifyProps(o)];case 2:return f.sent(),[3,4];case 3:return c=f.sent(),d.forceLogoutIfNecessary(c,a,u),a(E.logError(c)),[2,{error:c}];case 4:return _=u().entities.channels.myMembers[t]||{},l=_.notify_props||{},a({type:s.ChannelTypes.RECEIVED_CHANNEL_PROPS,data:{channel_id:t,notifyProps:r.__assign(r.__assign({},l),o)}}),[2,{data:!0}]}}))}))}}function y(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getChannel(e)];case 1:return t=r.sent(),[3,3];case 2:return a=r.sent(),d.forceLogoutIfNecessary(a,n,o),n(l.batchActions([{type:s.ChannelTypes.CHANNELS_FAILURE,error:a},E.logError(a)]),o),[2,{error:a}];case 3:return n({type:s.ChannelTypes.RECEIVED_CHANNEL,data:t}),[2,{data:t}]}}))}))}}function R(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getChannelTimezones(e)];case 1:return t=r.sent(),[3,3];case 2:return s=r.sent(),d.forceLogoutIfNecessary(s,n,o),n(E.logError(s)),[2,{error:s}];case 3:return[2,{data:t}]}}))}))}}function A(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,c,_,f,p,g,C,m,T,S,v,y,R,A,I,N;return r.__generator(this,(function(O){switch(O.label){case 0:n({type:s.ChannelTypes.CHANNELS_REQUEST,data:null}),O.label=1;case 1:return O.trys.push([1,4,,5]),c=i.Client4.getMyChannels(e),_=i.Client4.getMyChannelMembers(e),[4,c];case 2:return t=O.sent(),[4,_];case 3:return a=O.sent(),[3,5];case 4:return f=O.sent(),d.forceLogoutIfNecessary(f,n,o),n(l.batchActions([{type:s.ChannelTypes.CHANNELS_FAILURE,error:f},E.logError(f)]),o),[2,{error:f}];case 5:p=o().entities.users.currentUserId,n(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNELS,teamId:e,data:t},{type:s.ChannelTypes.CHANNELS_SUCCESS},{type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBERS,data:a,remove:u.getChannelsIdForTeam(o(),e),currentUserId:p}]),o),g=new Set;try{for(C=r.__values(a),m=C.next();!m.done;m=C.next()){T=m.value;try{for(I=void 0,S=r.__values(T.roles.split(" ")),v=S.next();!v.done;v=S.next())y=v.value,g.add(y)}catch(e){I={error:e}}finally{try{v&&!v.done&&(N=S.return)&&N.call(S)}finally{if(I)throw I.error}}}}catch(e){R={error:e}}finally{try{m&&!m.done&&(A=C.return)&&A.call(C)}finally{if(R)throw R.error}}return g.size>0&&n(h.loadRolesIfNeeded(g)),[2,{data:{channels:t,members:a}}]}}))}))}}function I(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,c,_,l,f,p,g,C,m,T,S,v,y;return r.__generator(this,(function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),[4,i.Client4.getMyChannelMembers(e)];case 1:return t=R.sent(),[3,3];case 2:return a=R.sent(),d.forceLogoutIfNecessary(a,n,o),n(E.logError(a)),[2,{error:a}];case 3:c=o().entities.users.currentUserId,n({type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBERS,data:t,remove:u.getChannelsIdForTeam(o(),e),currentUserId:c}),_=new Set;try{for(l=r.__values(t),f=l.next();!f.done;f=l.next()){p=f.value;try{for(v=void 0,g=r.__values(p.roles.split(" ")),C=g.next();!C.done;C=g.next())m=C.value,_.add(m)}catch(e){v={error:e}}finally{try{C&&!C.done&&(y=g.return)&&y.call(g)}finally{if(v)throw v.error}}}}catch(e){T={error:e}}finally{try{f&&!f.done&&(S=l.return)&&S.call(l)}finally{if(T)throw T.error}}return _.size>0&&n(h.loadRolesIfNeeded(_)),[2,{data:t}]}}))}))}}function N(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,u,c,_,E,d;return r.__generator(this,(function(r){return t=o(),a=t.entities.users.currentUserId,u=t.entities.channels,c=u.channels,_=u.myMembers,E=c[e],d=_[e],i.Client4.trackEvent("action","action_channels_leave",{channel_id:e}),n({type:s.ChannelTypes.LEAVE_CHANNEL,data:{id:e,user_id:a,team_id:E.team_id,type:E.type},meta:{offline:{effect:function(){return i.Client4.removeFromChannel(a,e)},commit:{type:"do_nothing"},rollback:function(){n(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:E},{type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:d}]))}}}}),[2,{data:!0}]}))}))}}function O(e,t,n,a){var u=this;return function(c,_){return r.__awaiter(u,void 0,void 0,(function(){var u,f,p;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,9,,10]),n?[4,i.Client4.addToChannel(e,n)]:[3,3];case 1:return u=r.sent(),[4,i.Client4.getChannel(n)];case 2:return f=r.sent(),[3,8];case 3:return a?[4,i.Client4.getChannelByName(t,a,!0)]:[3,8];case 4:return(f=r.sent()).type!==o.General.GM_CHANNEL&&f.type!==o.General.DM_CHANNEL?[3,6]:[4,i.Client4.getChannelMember(f.id,e)];case 5:return u=r.sent(),[3,8];case 6:return[4,i.Client4.addToChannel(e,f.id)];case 7:u=r.sent(),r.label=8;case 8:return[3,10];case 9:return p=r.sent(),d.forceLogoutIfNecessary(p,c,_),c(E.logError(p)),[2,{error:p}];case 10:return i.Client4.trackEvent("action","action_channels_join",{channel_id:n}),c(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:f},{type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:u}]),_),u&&c(h.loadRolesIfNeeded(u.roles.split(" "))),[2,{data:{channel:f,member:u}}]}}))}))}}function L(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,l,f,h,p,g;return r.__generator(this,(function(r){switch(r.label){case 0:t=o(),a="true"===t.entities.general.config.ExperimentalViewArchivedChannels,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.deleteChannel(e)];case 2:return r.sent(),[3,4];case 3:return l=r.sent(),d.forceLogoutIfNecessary(l,n,o),n(E.logError(l)),[2,{error:l}];case 4:return t=o(),f=t.entities.channels.currentChannelId,e!==f||a||(h=_.getCurrentTeamId(t),p=c.getChannelsNameMapInTeam(t,h),(g=u.getChannelByName(p,c.getRedirectChannelNameForTeam(t,h)))&&g.id&&n({type:s.ChannelTypes.SELECT_CHANNEL,data:g.id},o)),n({type:s.ChannelTypes.DELETE_CHANNEL_SUCCESS,data:{id:e,viewArchivedChannels:a}},o),[2,{data:!0}]}}))}))}}function U(e,t){var n=this;return void 0===t&&(t=""),function(u,c){return r.__awaiter(n,void 0,void 0,(function(){var n,_,f,p,g,C,m,T,S;return r.__generator(this,(function(v){switch(v.label){case 0:n=c().entities.users.currentUserId,_=c().entities.preferences.myPreferences,f=_[o.Preferences.CATEGORY_CHANNEL_APPROXIMATE_VIEW_TIME+"--"+e],(f?parseInt(f.value,10):0)<(new Date).getTime()-108e5&&(p=[{user_id:n,category:o.Preferences.CATEGORY_CHANNEL_APPROXIMATE_VIEW_TIME,name:e,value:(new Date).getTime().toString()}],a.savePreferences(n,p)(u)),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,i.Client4.viewMyChannel(e,t)];case 2:return v.sent(),[3,4];case 3:return g=v.sent(),d.forceLogoutIfNecessary(g,u,c),u(E.logError(g)),[2,{error:g}];case 4:return C=[],m=c().entities.channels.myMembers,(T=m[e])&&(C.push({type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:r.__assign(r.__assign({},T),{last_viewed_at:(new Date).getTime()})}),u(h.loadRolesIfNeeded(T.roles.split(" ")))),(S=m[t])&&(C.push({type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:r.__assign(r.__assign({},S),{last_viewed_at:(new Date).getTime()})}),u(h.loadRolesIfNeeded(S.roles.split(" ")))),u(l.batchActions(C),c),[2,{data:!0}]}}))}))}}function P(e,t){var n=this;return void 0===t&&(t=""),function(i,o){return r.__awaiter(n,void 0,void 0,(function(){var n,a,u,c;return r.__generator(this,(function(_){return n=[],a=o().entities.channels.myMembers,(u=a[e])&&(n.push({type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:r.__assign(r.__assign({},u),{last_viewed_at:Date.now()})}),i(h.loadRolesIfNeeded(u.roles.split(" ")))),(c=a[t])&&(n.push({type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:r.__assign(r.__assign({},c),{last_viewed_at:Date.now()})}),i(h.loadRolesIfNeeded(c.roles.split(" ")))),n.length&&i(l.batchActions(n),o),[2,{data:!0}]}))}))}}function M(e,t,n){var a=this;return void 0===t&&(t=0),void 0===n&&(n=o.General.CHANNELS_CHUNK_SIZE),function(o,u){return r.__awaiter(a,void 0,void 0,(function(){var a,c;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.ChannelTypes.GET_CHANNELS_REQUEST,data:null},u),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.getChannels(e,t,n)];case 2:return a=r.sent(),[3,4];case 3:return c=r.sent(),d.forceLogoutIfNecessary(c,o,u),o(l.batchActions([{type:s.ChannelTypes.GET_CHANNELS_FAILURE,error:c},E.logError(c)]),u),[2,{error:c}];case 4:return o(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNELS,teamId:e,data:a},{type:s.ChannelTypes.GET_CHANNELS_SUCCESS}]),u),[2,{data:a}]}}))}))}}function b(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.ChannelTypes.GET_CHANNELS_REQUEST,data:null},a),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.autocompleteChannels(e,t)];case 2:return n=r.sent(),[3,4];case 3:return u=r.sent(),d.forceLogoutIfNecessary(u,o,a),o(l.batchActions([{type:s.ChannelTypes.GET_CHANNELS_FAILURE,error:u},E.logError(u)]),a),[2,{error:u}];case 4:return o(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNELS,teamId:e,data:n},{type:s.ChannelTypes.GET_CHANNELS_SUCCESS}]),a),[2,{data:n}]}}))}))}}function D(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.ChannelTypes.GET_CHANNELS_REQUEST,data:null},a),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.autocompleteChannelsForSearch(e,t)];case 2:return n=r.sent(),[3,4];case 3:return u=r.sent(),d.forceLogoutIfNecessary(u,o,a),o(l.batchActions([{type:s.ChannelTypes.GET_CHANNELS_FAILURE,error:u},E.logError(u)]),a),[2,{error:u}];case 4:return o(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNELS,teamId:e,data:n},{type:s.ChannelTypes.GET_CHANNELS_SUCCESS}]),a),[2,{data:n}]}}))}))}}function w(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.ChannelTypes.GET_CHANNELS_REQUEST,data:null},a),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.searchChannels(e,t)];case 2:return n=r.sent(),[3,4];case 3:return u=r.sent(),d.forceLogoutIfNecessary(u,o,a),o(l.batchActions([{type:s.ChannelTypes.GET_CHANNELS_FAILURE,error:u},E.logError(u)]),a),[2,{error:u}];case 4:return o(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNELS,teamId:e,data:n},{type:s.ChannelTypes.GET_CHANNELS_SUCCESS}]),a),[2,{data:n}]}}))}))}}function F(e){return d.bindClientFunc({clientFunc:i.Client4.searchGroupChannels,params:[e]})}function G(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getChannelStats(e)];case 1:return t=r.sent(),[3,3];case 2:return a=r.sent(),d.forceLogoutIfNecessary(a,n,o),n(E.logError(a)),[2,{error:a}];case 3:return n({type:s.ChannelTypes.RECEIVED_CHANNEL_STATS,data:t}),[2,{data:t}]}}))}))}}function H(e,t,n){var o=this;return void 0===n&&(n=""),function(a,u){return r.__awaiter(o,void 0,void 0,(function(){var o,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.addToChannel(t,e,n)];case 1:return o=r.sent(),[3,3];case 2:return c=r.sent(),d.forceLogoutIfNecessary(c,a,u),a(E.logError(c)),[2,{error:c}];case 3:return i.Client4.trackEvent("action","action_channels_add_member",{channel_id:e}),a(l.batchActions([{type:s.UserTypes.RECEIVED_PROFILE_IN_CHANNEL,data:{id:e,user_id:t}},{type:s.ChannelTypes.RECEIVED_CHANNEL_MEMBER,data:o},{type:s.ChannelTypes.ADD_CHANNEL_MEMBER_SUCCESS,id:e}],"ADD_CHANNEL_MEMBER.BATCH"),u),[2,{data:o}]}}))}))}}function V(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.removeFromChannel(t,e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),d.forceLogoutIfNecessary(n,o,a),o(E.logError(n)),[2,{error:n}];case 3:return i.Client4.trackEvent("action","action_channels_remove_member",{channel_id:e}),o(l.batchActions([{type:s.UserTypes.RECEIVED_PROFILE_NOT_IN_CHANNEL,data:{id:e,user_id:t}},{type:s.ChannelTypes.REMOVE_CHANNEL_MEMBER_SUCCESS,id:e}],"REMOVE_CHANNEL_MEMBER.BATCH"),a),[2,{data:!0}]}}))}))}}function k(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(n){return i.Client4.trackEvent("action","action_channels_update_header",{channel_id:e}),o({type:s.ChannelTypes.UPDATE_CHANNEL_HEADER,data:{channelId:e,header:t}},a),[2,{data:!0}]}))}))}}function B(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(n){return i.Client4.trackEvent("action","action_channels_update_purpose",{channel_id:e}),o({type:s.ChannelTypes.UPDATE_CHANNEL_PURPOSE,data:{channelId:e,purpose:t}},a),[2,{data:!0}]}))}))}}function j(e,t,n){var o=this;return void 0===n&&(n=!0),function(a,u){return r.__awaiter(o,void 0,void 0,(function(){var o,c,_,f,h,p,g,C,m;return r.__generator(this,(function(r){return n&&i.Client4.viewMyChannel(e,t).then().catch((function(e){return d.forceLogoutIfNecessary(e,a,u),a(E.logError(e)),{error:e}})),o=u(),c=o.entities.channels,_=c.channels,f=c.myMembers,h=_[e],p=t?_[t]:null,g=f[e],C=t?f[t]:null,m=[],h&&g&&(m.push({type:s.ChannelTypes.DECREMENT_UNREAD_MSG_COUNT,data:{teamId:h.team_id,channelId:e,amount:h.total_msg_count-g.msg_count}}),m.push({type:s.ChannelTypes.DECREMENT_UNREAD_MENTION_COUNT,data:{teamId:h.team_id,channelId:e,amount:g.mention_count}})),p&&C&&(m.push({type:s.ChannelTypes.DECREMENT_UNREAD_MSG_COUNT,data:{teamId:p.team_id,channelId:t,amount:p.total_msg_count-C.msg_count}}),m.push({type:s.ChannelTypes.DECREMENT_UNREAD_MENTION_COUNT,data:{teamId:p.team_id,channelId:t,amount:C.mention_count}})),m.length>0&&a(l.batchActions(m),u),[2,{data:!0}]}))}))}}function x(e,t,n){var i=this;return function(a,u){return r.__awaiter(i,void 0,void 0,(function(){var i,c,_,E;return r.__generator(this,(function(r){return i=u(),c=i.entities.channels.myMembers,_=i.entities.users.currentUserId,E=[{type:s.ChannelTypes.INCREMENT_TOTAL_MSG_COUNT,data:{channelId:t,amount:1}},{type:s.ChannelTypes.INCREMENT_UNREAD_MSG_COUNT,data:{teamId:e,channelId:t,amount:1,onlyMentions:c[t]&&c[t].notify_props&&c[t].notify_props.mark_unread===o.General.MENTION}}],n&&-1!==n.indexOf(_)&&E.push({type:s.ChannelTypes.INCREMENT_UNREAD_MENTION_COUNT,data:{teamId:e,channelId:t,amount:1}}),a(l.batchActions(E),u),[2,{data:!0}]}))}))}}function Y(e,t){return d.bindClientFunc({clientFunc:i.Client4.getChannelMembersByIds,onSuccess:s.ChannelTypes.RECEIVED_CHANNEL_MEMBERS,params:[e,t]})}function Q(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,u;return r.__generator(this,(function(r){return t=s().entities.users.currentUserId,u={user_id:t,category:o.Preferences.CATEGORY_FAVORITE_CHANNEL,name:e,value:"true"},i.Client4.trackEvent("action","action_channels_favorite"),[2,a.savePreferences(t,[u])(n)]}))}))}}function J(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,u;return r.__generator(this,(function(r){return t=s().entities.users.currentUserId,u={user_id:t,category:o.Preferences.CATEGORY_FAVORITE_CHANNEL,name:e,value:""},i.Client4.trackEvent("action","action_channels_unfavorite"),[2,a.deletePreferences(t,[u])(n,s)]}))}))}}function W(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.General.PROFILE_CHUNK_SIZE),d.bindClientFunc({clientFunc:i.Client4.channelMembersMinusGroupMembers,onSuccess:s.ChannelTypes.RECEIVED_CHANNEL_MEMBERS_MINUS_GROUP_MEMBERS,params:[e,t,n,r]})}t.selectChannel=p,t.createChannel=g,t.createDirectChannel=C,t.markGroupChannelOpen=m,t.createGroupChannel=function(e){var t=this;return function(n,a){return r.__awaiter(t,void 0,void 0,(function(){var t,u,_,f,p,g,C;return r.__generator(this,(function(r){switch(r.label){case 0:n({type:s.ChannelTypes.CREATE_CHANNEL_REQUEST,data:null},a),t=a().entities.users.currentUserId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.createGroupChannel(e)];case 2:return u=r.sent(),[3,4];case 3:return _=r.sent(),d.forceLogoutIfNecessary(_,n,a),n(l.batchActions([{type:s.ChannelTypes.CREATE_CHANNEL_FAILURE,error:_},E.logError(_)]),a),[2,{error:_}];case 4:if(f={channel_id:u.id,user_id:t,roles:""+o.General.CHANNEL_USER_ROLE,last_viewed_at:0,msg_count:0,mention_count:0,notify_props:{desktop:"default",mark_unread:"all"},last_update_at:u.create_at},!(u.total_msg_count>0))return[3,10];if(null!==(p=c.getMyChannelMember(a(),u.id)))return[3,9];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,i.Client4.getMyChannelMember(u.id)];case 6:return f=r.sent(),[3,8];case 7:return g=r.sent(),n(E.logError(g)),[3,8];case 8:return[3,10];case 9:f=p,r.label=10;case 10:return n(m(u.id)),(C=e.map((function(e){return{id:e}}))).push({id:t}),n(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:u},{type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:f},{type:s.ChannelTypes.CREATE_CHANNEL_SUCCESS},{type:s.UserTypes.RECEIVED_PROFILES_LIST_IN_CHANNEL,id:u.id,data:C}]),a),n(h.loadRolesIfNeeded(f&&f.roles&&f.roles.split(" ")||[])),[2,{data:u}]}}))}))}},t.patchChannel=T,t.updateChannel=S,t.updateChannelPrivacy=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.ChannelTypes.UPDATE_CHANNEL_REQUEST,data:null},a),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.updateChannelPrivacy(e,t)];case 2:return n=r.sent(),[3,4];case 3:return u=r.sent(),d.forceLogoutIfNecessary(u,o,a),o(l.batchActions([{type:s.ChannelTypes.UPDATE_CHANNEL_FAILURE,error:u},E.logError(u)]),a),[2,{error:u}];case 4:return o(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:n},{type:s.ChannelTypes.UPDATE_CHANNEL_SUCCESS}]),a),[2,{data:n}]}}))}))}},t.convertChannelToPrivate=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:n({type:s.ChannelTypes.UPDATE_CHANNEL_REQUEST,data:null},o),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.convertChannelToPrivate(e)];case 2:return t=r.sent(),[3,4];case 3:return a=r.sent(),d.forceLogoutIfNecessary(a,n,o),n(l.batchActions([{type:s.ChannelTypes.UPDATE_CHANNEL_FAILURE,error:a},E.logError(a)]),o),[2,{error:a}];case 4:return n(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:t},{type:s.ChannelTypes.UPDATE_CHANNEL_SUCCESS}]),o),[2,{data:t}]}}))}))}},t.updateChannelNotifyProps=v,t.getChannelByNameAndTeamName=function(e,t,n){var o=this;return void 0===n&&(n=!1),function(a,u){return r.__awaiter(o,void 0,void 0,(function(){var o,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getChannelByNameAndTeamName(e,t,n)];case 1:return o=r.sent(),[3,3];case 2:return c=r.sent(),d.forceLogoutIfNecessary(c,a,u),a(l.batchActions([{type:s.ChannelTypes.CHANNELS_FAILURE,error:c},E.logError(c)]),u),[2,{error:c}];case 3:return a({type:s.ChannelTypes.RECEIVED_CHANNEL,data:o}),[2,{data:o}]}}))}))}},t.getChannel=y,t.getChannelAndMyMember=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,u,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),u=i.Client4.getChannel(e),c=i.Client4.getMyChannelMember(e),[4,u];case 1:return t=r.sent(),[4,c];case 2:return a=r.sent(),[3,4];case 3:return _=r.sent(),d.forceLogoutIfNecessary(_,n,o),n(l.batchActions([{type:s.ChannelTypes.CHANNELS_FAILURE,error:_},E.logError(_)]),o),[2,{error:_}];case 4:return n(l.batchActions([{type:s.ChannelTypes.RECEIVED_CHANNEL,data:t},{type:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,data:a}]),o),n(h.loadRolesIfNeeded(a.roles.split(" "))),[2,{data:{channel:t,member:a}}]}}))}))}},t.getChannelTimezones=R,t.fetchMyChannelsAndMembers=A,t.getMyChannelMembers=I,t.getChannelMembers=function(e,t,n){var a=this;return void 0===t&&(t=0),void 0===n&&(n=o.General.CHANNELS_CHUNK_SIZE),function(o,u){return r.__awaiter(a,void 0,void 0,(function(){var a,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getChannelMembers(e,t,n)];case 1:return a=r.sent(),[3,3];case 2:return c=r.sent(),d.forceLogoutIfNecessary(c,o,u),o(E.logError(c)),[2,{error:c}];case 3:return _=a.map((function(e){return e.user_id})),f.getMissingProfilesByIds(_)(o,u),o({type:s.ChannelTypes.RECEIVED_CHANNEL_MEMBERS,data:a}),[2,{data:a}]}}))}))}},t.leaveChannel=N,t.joinChannel=O,t.deleteChannel=L,t.viewChannel=U,t.markChannelAsViewed=P,t.getChannels=M,t.getAllChannelsWithCount=function(e,t,n,a){var u=this;return void 0===e&&(e=0),void 0===t&&(t=o.General.CHANNELS_CHUNK_SIZE),void 0===n&&(n=""),void 0===a&&(a=!1),function(o,c){return r.__awaiter(u,void 0,void 0,(function(){var u,_;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.ChannelTypes.GET_ALL_CHANNELS_REQUEST,data:null},c),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.getAllChannels(e,t,n,a,!0)];case 2:return u=r.sent(),[3,4];case 3:return _=r.sent(),d.forceLogoutIfNecessary(_,o,c),o(l.batchActions([{type:s.ChannelTypes.GET_ALL_CHANNELS_FAILURE,error:_},E.logError(_)]),c),[2,{error:_}];case 4:return o(l.batchActions([{type:s.ChannelTypes.RECEIVED_ALL_CHANNELS,data:u.channels},{type:s.ChannelTypes.GET_ALL_CHANNELS_SUCCESS},{type:s.ChannelTypes.RECEIVED_TOTAL_CHANNEL_COUNT,data:u.total_count}]),c),[2,{data:u}]}}))}))}},t.getAllChannels=function(e,t,n,a){var u=this;return void 0===e&&(e=0),void 0===t&&(t=o.General.CHANNELS_CHUNK_SIZE),void 0===n&&(n=""),void 0===a&&(a=!1),function(o,c){return r.__awaiter(u,void 0,void 0,(function(){var u,_;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.ChannelTypes.GET_ALL_CHANNELS_REQUEST,data:null},c),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.getAllChannels(e,t,n,a)];case 2:return u=r.sent(),[3,4];case 3:return _=r.sent(),d.forceLogoutIfNecessary(_,o,c),o(l.batchActions([{type:s.ChannelTypes.GET_ALL_CHANNELS_FAILURE,error:_},E.logError(_)]),c),[2,{error:_}];case 4:return o(l.batchActions([{type:s.ChannelTypes.RECEIVED_ALL_CHANNELS,data:u},{type:s.ChannelTypes.GET_ALL_CHANNELS_SUCCESS}]),c),[2,{data:u}]}}))}))}},t.autocompleteChannels=b,t.autocompleteChannelsForSearch=D,t.searchChannels=w,t.searchAllChannels=function(e,t,n){var o=this;return void 0===t&&(t=""),void 0===n&&(n=!1),function(a,u){return r.__awaiter(o,void 0,void 0,(function(){var o,c;return r.__generator(this,(function(r){switch(r.label){case 0:a({type:s.ChannelTypes.GET_ALL_CHANNELS_REQUEST,data:null},u),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.searchAllChannels(e,t,n)];case 2:return o=r.sent(),[3,4];case 3:return c=r.sent(),d.forceLogoutIfNecessary(c,a,u),a(l.batchActions([{type:s.ChannelTypes.GET_ALL_CHANNELS_FAILURE,error:c},E.logError(c)]),u),[2,{error:c}];case 4:return a(l.batchActions([{type:s.ChannelTypes.RECEIVED_ALL_CHANNELS,data:o},{type:s.ChannelTypes.GET_ALL_CHANNELS_SUCCESS}]),u),[2,{data:o}]}}))}))}},t.searchGroupChannels=F,t.getChannelStats=G,t.addChannelMember=H,t.removeChannelMember=V,t.updateChannelMemberRoles=function(e,t,n){var o=this;return function(a,u){return r.__awaiter(o,void 0,void 0,(function(){var o,c;return r.__generator(this,(function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,i.Client4.updateChannelMemberRoles(e,t,n)];case 1:return _.sent(),[3,3];case 2:return o=_.sent(),d.forceLogoutIfNecessary(o,a,u),a(E.logError(o)),[2,{error:o}];case 3:return(c=u().entities.channels.membersInChannel[e])&&c[t]&&a({type:s.ChannelTypes.RECEIVED_CHANNEL_MEMBER,data:r.__assign(r.__assign({},c[t]),{roles:n})}),[2,{data:!0}]}}))}))}},t.updateChannelHeader=k,t.updateChannelPurpose=B,t.markChannelAsRead=j,t.markChannelAsUnread=x,t.getChannelMembersByIds=Y,t.getChannelMember=function(e,t){return d.bindClientFunc({clientFunc:i.Client4.getChannelMember,onSuccess:s.ChannelTypes.RECEIVED_CHANNEL_MEMBER,params:[e,t]})},t.getMyChannelMember=function(e){return d.bindClientFunc({clientFunc:i.Client4.getMyChannelMember,onSuccess:s.ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER,params:[e]})},t.favoriteChannel=Q,t.unfavoriteChannel=J,t.updateChannelScheme=function(e,t){var n=this;return d.bindClientFunc({clientFunc:function(){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,i.Client4.updateChannelScheme(e,t)];case 1:return n.sent(),[2,{channelId:e,schemeId:t}]}}))}))},onSuccess:s.ChannelTypes.UPDATED_CHANNEL_SCHEME})},t.updateChannelMemberSchemeRoles=function(e,t,n,o){var a=this;return d.bindClientFunc({clientFunc:function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,i.Client4.updateChannelMemberSchemeRoles(e,t,n,o)];case 1:return r.sent(),[2,{channelId:e,userId:t,isSchemeUser:n,isSchemeAdmin:o}]}}))}))},onSuccess:s.ChannelTypes.UPDATED_CHANNEL_MEMBER_SCHEME_ROLES})},t.membersMinusGroupMembers=W,t.default={selectChannel:p,createChannel:g,createDirectChannel:C,updateChannel:S,patchChannel:T,updateChannelNotifyProps:v,getChannel:y,fetchMyChannelsAndMembers:A,getMyChannelMembers:I,getChannelTimezones:R,getChannelMembersByIds:Y,leaveChannel:N,joinChannel:O,deleteChannel:L,viewChannel:U,markChannelAsViewed:P,getChannels:M,autocompleteChannels:b,autocompleteChannelsForSearch:D,searchChannels:w,searchGroupChannels:F,getChannelStats:G,addChannelMember:H,removeChannelMember:V,updateChannelHeader:k,updateChannelPurpose:B,markChannelAsRead:j,markChannelAsUnread:x,favoriteChannel:Q,unfavoriteChannel:J,membersMinusGroupMembers:W}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),o=n(3),s=n(12),a=n(26),u=n(11),c=n(31),_=n(19),l=n(25),E=n(57);function d(e,t){var n=this;return function(o,u){return r.__awaiter(n,void 0,void 0,(function(){var n,_,l;return r.__generator(this,(function(r){return n=u(),_=a.getMyPreferences(n),l=t.map((function(e){return _[c.getPreferenceKey(e.category,e.name)]})),o({type:s.PreferenceTypes.DELETED_PREFERENCES,data:t,meta:{offline:{effect:function(){return i.Client4.deletePreferences(e,t)},commit:{type:s.PreferenceTypes.DELETED_PREFERENCES},rollback:{type:s.PreferenceTypes.RECEIVED_PREFERENCES,data:l}}}}),[2,{data:!0}]}))}))}}function f(e,t){var n=this;return function(o){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(n){return o({type:s.PreferenceTypes.RECEIVED_PREFERENCES,data:t,meta:{offline:{effect:function(){return i.Client4.savePreferences(e,t)},commit:{type:s.PreferenceTypes.RECEIVED_PREFERENCES},rollback:{type:s.PreferenceTypes.DELETED_PREFERENCES,data:t}}}}),[2,{data:!0}]}))}))}}t.deletePreferences=d,t.getMyPreferences=function(){return _.bindClientFunc({clientFunc:i.Client4.getMyPreferences,onRequest:s.PreferenceTypes.MY_PREFERENCES_REQUEST,onSuccess:[s.PreferenceTypes.RECEIVED_ALL_PREFERENCES,s.PreferenceTypes.MY_PREFERENCES_SUCCESS],onFailure:s.PreferenceTypes.MY_PREFERENCES_FAILURE})},t.makeDirectChannelVisibleIfNecessary=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,s,_,E;return r.__generator(this,(function(r){return t=i(),s=a.getMyPreferences(t),_=u.getCurrentUserId(t),(E=s[c.getPreferenceKey(o.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,e)])&&"false"!==E.value||(E={user_id:_,category:o.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,name:e,value:"true"},l.getProfilesByIds([e])(n,i),f(_,[E])(n)),[2,{data:!0}]}))}))}},t.makeGroupMessageVisibleIfNecessary=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,s,_,d,h;return r.__generator(this,(function(r){return t=i(),s=a.getMyPreferences(t),_=u.getCurrentUserId(t),d=t.entities.channels.channels,(h=s[c.getPreferenceKey(o.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,e)])&&"false"!==h.value||(h={user_id:_,category:o.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,name:e,value:"true"},d[e]?E.getMyChannelMember(e)(n,i):E.getChannelAndMyMember(e)(n,i),l.getProfilesInChannel(e,0)(n,i),f(_,[h])(n)),[2,{data:!0}]}))}))}},t.savePreferences=f,t.saveTheme=function(e,t){var n=this;return function(i,s){return r.__awaiter(n,void 0,void 0,(function(){var n,a,c;return r.__generator(this,(function(r){switch(r.label){case 0:return n=s(),a=u.getCurrentUserId(n),c={user_id:a,category:o.Preferences.CATEGORY_THEME,name:e||"",value:JSON.stringify(t)},[4,f(a,[c])(i)];case 1:return r.sent(),[2,{data:!0}]}}))}))}},t.deleteTeamSpecificThemes=function(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,i,s,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:return e=n(),i=a.makeGetCategory(),s=i(e,o.Preferences.CATEGORY_THEME),c=u.getCurrentUserId(e),(_=s.filter((function(e){return""!==e.name}))).length>0?[4,d(c,_)(t,n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2,{data:!0}]}}))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(7),s=n(29),a=n(26),u=n(13),c=n(3),_=n(60),l=n(31);function E(e){return e.entities.posts.posts}function d(e,t){return E(e)[t]}function f(e){return e.entities.posts.postsInThread}function h(e){return e.entities.posts.reactions}function p(){return u.createIdsSelector((function(e,t,n){return e.entities.posts.postsInChannel[n]}),(function(e,t){return t}),(function(e,t){var n,r,o;if(!e)return null;try{for(var s=i.__values(e),a=s.next();!a.done;a=s.next()){var u=a.value;-1!==u.order.indexOf(t)&&(o=u)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}))}function g(){var e=p();return u.createIdsSelector((function(t,n,r){return e(t,n,r)}),(function(e,t){return t}),(function(e,t,n,r){return r&&r.postsBeforeCount}),(function(e,t,n,r){return r&&r.postsAfterCount}),(function(e,t,n,r){if(void 0===n&&(n=c.Posts.POST_CHUNK_SIZE/2),void 0===r&&(r=c.Posts.POST_CHUNK_SIZE/2),!e||!e.order)return null;var i=e.order,o=i.indexOf(t),s=-1===r?0:Math.max(o-r,0),a=-1===n?i.length:Math.min(o+n+1,i.length);return i.slice(s,a)}))}function C(e,t,n,r,o,s,a,u){var l,E,d,f=!1,h=!1,p=!1;e.id===u&&(p=!0),e.root_id&&(t&&t.root_id!==e.root_id&&(f=!0,t&&t.id!==e.root_id&&(d=r[e.root_id])),(n-1<0||r[s[n-1]].root_id!==e.root_id)&&(h=!0));var g=!1;t&&t.root_id&&(g=!0);var C=Boolean(e.props&&e.props.from_webhook),m=Boolean(t&&t.props&&t.props.from_webhook),T=!1;!(t&&t.user_id===e.user_id&&e.create_at-t.create_at<=c.Posts.POST_COLLAPSE_TIMEOUT)||C||m||_.isSystemMessage(e)||_.isSystemMessage(t)||(T=!0);var S=!1,v=0,y=!1;if(a){var R=e.root_id||e.id,A=o[R]||[];try{for(var I=i.__values(A),N=I.next();!N.done;N=I.next()){var O=r[N.value];O&&(O.user_id===a.id&&(S=!0),_.isPostEphemeral(O)||(v+=1))}}catch(e){l={error:e}}finally{try{N&&!N.done&&(E=I.return)&&E.call(I)}finally{if(l)throw l.error}}var L=r[R];y=_.isPostCommentMention({post:e,currentUser:a,threadRepliedToByCurrentUser:S,rootPost:L})}return i.__assign(i.__assign({},e),{isFirstReply:f,isLastReply:h,previousPostIsComment:g,commentedOnPost:d,consecutivePostByUser:T,replyCount:v,isCommentMention:y,highlight:p})}function m(){return o.createSelector(E,f,(function(e,t){return v(e,t)}),s.getCurrentUser,a.getMyPreferences,(function(e,t,n){return n||c.Posts.POST_CHUNK_SIZE}),(function(e,t,n,r,i,o){if(!n)return null;for(var s=[],a=i[l.getPreferenceKey(c.Preferences.CATEGORY_ADVANCED_SETTINGS,c.Preferences.ADVANCED_FILTER_JOIN_LEAVE)],u=!a||"false"!==a.value,E=-1===o?n:n.slice(0,o),d=0;d<E.length;d++){var f=e[E[d]];if(!_.shouldFilterJoinLeavePost(f,u,r?r.username:"")){var h=e[E[d+1]]||null;s.push(C(f,h,d,e,t,E,r,""))}}return s}))}function T(e,t){var n=e.entities.posts.postsInChannel[t];return n?n.find((function(e){return e.recent})):null}function S(e,t){var n=e.entities.posts.postsInChannel[t];return n?n.find((function(e){return e.oldest})):null}function v(e,t){var n=T(e,t);return n?n.order:null}function y(e,t,n){var r=e.entities.posts,i=r.postsInChannel[t],o=r.posts;return i?i.find((function(e){var t=e.order,r=o[t[0]],i=o[t[t.length-1]];return!(!r||!i)&&(r.create_at>=n&&i.create_at<=n)})):null}t.getAllPosts=E,t.getPost=d,t.getPostsInThread=f,t.getReactionsForPosts=h,t.makeGetReactionsForPost=function(){return o.createSelector(h,(function(e,t){return t}),(function(e,t){return e[t]?e[t]:null}))},t.getOpenGraphMetadata=function(e){return e.entities.posts.openGraph},t.getOpenGraphMetadataForUrl=function(e,t){return e.entities.posts.openGraph[t]},t.getPostIdsInCurrentChannel=function(e){return v(e,e.entities.channels.currentChannelId)},t.getPostsInCurrentChannel=(r=m(),function(e){return r(e,e.entities.channels.currentChannelId,-1)}),t.makeGetPostIdsForThread=function(){return u.createIdsSelector(E,(function(e,t){return e.entities.posts.postsInThread[t]||[]}),(function(e,t){return e.entities.posts.posts[t]}),(function(e,t,n){var r=[];return n&&r.push(n),t.forEach((function(t){var n=e[t];n&&r.push(n)})),r.sort(_.comparePosts),r.map((function(e){return e.id}))}))},t.makeGetPostsChunkAroundPost=p,t.makeGetPostIdsAroundPost=g,t.makeGetPostsInChannel=m,t.makeGetPostsAroundPost=function(){var e=g(),t={postsBeforeCount:-1,postsAfterCount:c.Posts.POST_CHUNK_SIZE/2};return o.createSelector((function(n,r,i){return e(n,r,i,t)}),E,f,(function(e,t){return t}),s.getCurrentUser,a.getMyPreferences,(function(e,t,n,r,i,o){if(!e||!i)return null;for(var s=[],a=o[l.getPreferenceKey(c.Preferences.CATEGORY_ADVANCED_SETTINGS,c.Preferences.ADVANCED_FILTER_JOIN_LEAVE)],u=!a||"false"!==a.value,E=0;E<e.length;E++){var d=t[e[E]];if(!_.shouldFilterJoinLeavePost(d,u,i.username)){var f=C(d,t[e[E+1]]||null,E,t,n,e,i,r);s.push(f)}}return s}))},t.makeGetPostsForThread=function(){return o.createSelector(E,(function(e,t){var n=t.rootId;return e.entities.posts.postsInThread[n]||[]}),(function(e,t){var n=t.rootId;return e.entities.posts.posts[n]}),(function(e,t,n){var r=[];return n&&r.push(n),t.forEach((function(t){var n=e[t];n&&r.push(n)})),r.sort(_.comparePosts),r}))},t.makeGetCommentCountForPost=function(){return o.createSelector(E,(function(e,t){var n=t.post;return e.entities.posts.postsInThread[n?n.id:""]||[]}),(function(e,t){return t}),(function(e,t,n){if(!n.post)return 0;var r=0;return t.forEach((function(t){var n=e[t];n&&n.state!==c.Posts.POST_DELETED&&!_.isPostEphemeral(n)&&(r+=1)})),r}))},t.getSearchResults=o.createSelector(E,(function(e){return e.entities.search.results}),(function(e,t){return t?t.map((function(t){return e[t]})):[]})),t.getSearchMatches=function(e){return e.entities.search.matches},t.makeGetMessageInHistoryItem=function(e){return o.createSelector((function(e){return e.entities.posts.messagesHistory}),(function(t){var n=t.index[e],r=t.messages;return n>=0&&r&&r.length>n?r[n]:""}))},t.makeGetPostsForIds=function(){return u.createIdsSelector(E,(function(e,t){return t}),(function(e,t){return t?t.map((function(t){return e[t]})):[]}))},t.getLastPostPerChannel=o.createSelector(E,(function(e){return e.entities.posts.postsInChannel}),(function(e,t){var n,r,o={};try{for(var s=i.__values(Object.entries(t)),a=s.next();!a.done;a=s.next()){var u=i.__read(a.value,2),c=u[0],_=u[1].find((function(e){return e.recent}));if(_){var l=_.order[0];e.hasOwnProperty(l)&&(o[c]=e[l])}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o})),t.getMostRecentPostIdInChannel=o.createSelector(E,(function(e,t){return v(e,t)}),a.getMyPreferences,(function(e,t,n){if(!t)return"";var r=l.getPreferenceKey(c.Preferences.CATEGORY_ADVANCED_SETTINGS,c.Preferences.ADVANCED_FILTER_JOIN_LEAVE);if(!(!n[r]||"true"===n[r].value)){for(var i=void 0,o=0;o<t.length;o++){var s=e[t[o]];if(!s.type||!s.type.startsWith(c.Posts.SYSTEM_MESSAGE_PREFIX)){i=s.id;break}}return i}return t[0]})),t.getLatestReplyablePostId=o.createSelector(t.getPostsInCurrentChannel,(function(e){if(!e)return"";var t=e.find((function(e){return e.state!==c.Posts.POST_DELETED&&!_.isSystemMessage(e)&&!_.isPostEphemeral(e)}));return t?t.id:""})),t.getCurrentUsersLatestPost=o.createSelector(t.getPostsInCurrentChannel,s.getCurrentUser,(function(e,t){return t}),(function(e,t,n){return e?e.find((function(e){return!(e.user_id!==t.id||e.props&&e.props.from_webhook||e.state===c.Posts.POST_DELETED||_.isSystemMessage(e)||_.isPostEphemeral(e)||_.isPostPendingOrFailed(e))&&(!n||(e.root_id===n||e.id===n))})):null})),t.getRecentPostsChunkInChannel=T,t.getOldestPostsChunkInChannel=S,t.getPostIdsInChannel=v,t.getPostsChunkInChannelAroundTime=y,t.getUnreadPostsChunk=function(e,t,n){var r=e.entities.posts.posts,i=T(e,t);if(i){if(!i.order.length)return i;if(r[(o=i.order)[o.length-1]].create_at<=n)return i}var o,s=S(e,t);return s&&s.order.length&&r[(o=s.order)[o.length-1]].create_at>=n?s:y(e,t,n)},t.isPostIdSending=function(e,t){return e.entities.posts.pendingPostIds.some((function(e){return e===t}))},t.makeIsPostCommentMention=function(){return o.createSelector(E,f,s.getCurrentUser,d,(function(e,t,n,r){var o,s;if(!r)return!1;var a=!1,u=!1;if(n){var c=r.root_id||r.id,l=t[c]||[];try{for(var E=i.__values(l),d=E.next();!d.done;d=E.next()){var f=e[d.value];f&&(f.user_id===n.id&&(a=!0))}}catch(e){o={error:e}}finally{try{d&&!d.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}var h=e[c];u=_.isPostCommentMention({post:r,currentUser:n,threadRepliedToByCurrentUser:a,rootPost:h})}return u}))},t.getExpandedLink=function(e,t){return e.entities.posts.expandedURLs[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(9),s=n(44),a=n(31);function u(e){return Boolean(e.type&&e.type.startsWith(i.Posts.SYSTEM_MESSAGE_PREFIX))}function c(e,t){return e===t.user_id}t.isPostFlagged=function(e,t){var n=a.getPreferenceKey(i.Preferences.CATEGORY_FLAGGED_POST,e);return t.hasOwnProperty(n)},t.isSystemMessage=u,t.isMeMessage=function(e){return Boolean(e.type&&e.type===i.Posts.POST_TYPES.ME)},t.isFromWebhook=function(e){return e.props&&e.props.from_webhook},t.isPostEphemeral=function(e){return e.type===i.Posts.POST_TYPES.EPHEMERAL||e.type===i.Posts.POST_TYPES.EPHEMERAL_ADD_TO_CHANNEL||e.state===i.Posts.POST_DELETED},t.shouldIgnorePost=function(e){return i.Posts.IGNORE_POST_TYPES.includes(e.type)},t.isUserActivityPost=function(e){return i.Posts.USER_ACTIVITY_POST_TYPES.includes(e)},t.isPostOwner=c,t.isEdited=function(e){return e.edit_at>0},t.canDeletePost=function(e,t,n,r,a,u,_,l,E){if(!_)return!1;var d=c(u,_);if(o.hasNewPermissions(e)){var f=s.haveIChannelPermission(e,{team:r,channel:a,permission:i.Permissions.DELETE_POST});return d?f:f&&s.haveIChannelPermission(e,{team:r,channel:a,permission:i.Permissions.DELETE_OTHERS_POSTS})}return"true"===n.IsLicensed?t.RestrictPostDelete===i.General.PERMISSIONS_ALL&&(d||l)||t.RestrictPostDelete===i.General.PERMISSIONS_TEAM_ADMIN&&l||t.RestrictPostDelete===i.General.PERMISSIONS_SYSTEM_ADMIN&&E:d||l},t.canEditPost=function(e,t,n,r,a,_,l){if(!l||u(l))return!1;var E=c(_,l),d=!0;return o.hasNewPermissions(e)?(d=d&&s.haveIChannelPermission(e,{team:r,channel:a,permission:i.Permissions.EDIT_POST}),E||(d=d&&s.haveIChannelPermission(e,{team:r,channel:a,permission:i.Permissions.EDIT_OTHERS_POSTS})),"true"===n.IsLicensed&&"-1"!==t.PostEditTimeLimit&&-1!==t.PostEditTimeLimit&&l.create_at+1e3*t.PostEditTimeLimit-Date.now()<=0&&(d=!1)):(d=E&&"never"!==t.AllowEditPost,t.AllowEditPost===i.General.ALLOW_EDIT_POST_TIME_LIMIT&&l.create_at+1e3*t.PostEditTimeLimit-Date.now()<=0&&(d=!1)),d},t.getLastCreateAt=function(e){var t=e.map((function(e){return e.create_at}));return t.length?Reflect.apply(Math.max,null,t):0};var _=[i.Posts.POST_TYPES.JOIN_LEAVE,i.Posts.POST_TYPES.JOIN_CHANNEL,i.Posts.POST_TYPES.LEAVE_CHANNEL,i.Posts.POST_TYPES.ADD_REMOVE,i.Posts.POST_TYPES.ADD_TO_CHANNEL,i.Posts.POST_TYPES.REMOVE_FROM_CHANNEL,i.Posts.POST_TYPES.JOIN_TEAM,i.Posts.POST_TYPES.LEAVE_TEAM,i.Posts.POST_TYPES.ADD_TO_TEAM,i.Posts.POST_TYPES.REMOVE_FROM_TEAM,i.Posts.POST_TYPES.COMBINED_USER_ACTIVITY];function l(e){return e.failed||e.id===e.pending_post_id}t.shouldFilterJoinLeavePost=function(e,t,n){return!t&&(-1!==_.indexOf(e.type)&&!function e(t,n){var i,o;if(!t.props||!n)return!1;if(t.user_activity_posts)try{for(var s=r.__values(t.user_activity_posts),a=s.next();!a.done;a=s.next()){var u=a.value;if(e(u,n))return!0}}catch(e){i={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return t.props.username===n||t.props.addedUsername===n||t.props.removedUsername===n}(e,n))},t.isPostPendingOrFailed=l,t.comparePosts=function(e,t){var n=l(e),r=l(t);return n&&!r?-1:!n&&r?1:e.create_at>t.create_at?-1:e.create_at<t.create_at?1:0},t.isPostCommentMention=function(e){var t=e.post,n=e.currentUser,r=e.threadRepliedToByCurrentUser,o=e.rootPost,s=i.Preferences.COMMENTS_NEVER,a=!1,u=!1;return o&&o.user_id===n.id&&(u=!0),n.notify_props&&n.notify_props.comments&&(s=n.notify_props.comments),(t.user_id!==n.id||t.props&&t.props.from_webhook)&&(s===i.Preferences.COMMENTS_ANY&&(u||r)||s===i.Preferences.COMMENTS_ROOT&&u)&&(a=!0),a},t.fromAutoResponder=function(e){return Boolean(e.type&&e.type===i.Posts.SYSTEM_AUTO_RESPONDER)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(16);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(22),i=n(15),o=n(49);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(37);e.exports=r("native-function-to-string",Function.toString)},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){e.exports=n(5)},function(e,t,n){var r=n(17),i=n(35),o=n(111).indexOf,s=n(53);e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(15),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){"use strict";var r,i,o,s=n(45),a=n(38),u=n(5),c=n(66),_=n(118),l=n(56),E=n(119),d=n(16),f=n(40),h=n(120),p=n(23),g=n(121),C=n(126),m=n(127),T=n(72).set,S=n(128),v=n(129),y=n(130),R=n(75),A=n(131),I=n(74),N=n(51),O=n(69),L=n(6)("species"),U="Promise",P=N.get,M=N.set,b=N.getterFor(U),D=u[U],w=u.TypeError,F=u.document,G=u.process,H=u.fetch,V=G&&G.versions,k=V&&V.v8||"",B=R.f,j=B,x="process"==p(G),Y=!!(F&&F.createEvent&&u.dispatchEvent),Q=O(U,(function(){var e=D.resolve(1),t=function(){},n=(e.constructor={})[L]=function(e){e(t,t)};return!((x||"function"==typeof PromiseRejectionEvent)&&(!a||e.finally)&&e.then(t)instanceof n&&0!==k.indexOf("6.6")&&-1===I.indexOf("Chrome/66"))})),J=Q||!C((function(e){D.all(e).catch((function(){}))})),W=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},K=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;S((function(){for(var i=t.value,o=1==t.state,s=0;r.length>s;){var a,u,c,_=r[s++],l=o?_.ok:_.fail,E=_.resolve,d=_.reject,f=_.domain;try{l?(o||(2===t.rejection&&X(e,t),t.rejection=1),!0===l?a=i:(f&&f.enter(),a=l(i),f&&(f.exit(),c=!0)),a===_.promise?d(w("Promise-chain cycle")):(u=W(a))?u.call(a,E,d):E(a)):d(i)}catch(e){f&&!c&&f.exit(),d(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Z(e,t)}))}},z=function(e,t,n){var r,i;Y?((r=F.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):"unhandledrejection"===e&&y("Unhandled promise rejection",n)},Z=function(e,t){T.call(u,(function(){var n,r=t.value;if(q(t)&&(n=A((function(){x?G.emit("unhandledRejection",r,e):z("unhandledrejection",e,r)})),t.rejection=x||q(t)?2:1,n.error))throw n.value}))},q=function(e){return 1!==e.rejection&&!e.parent},X=function(e,t){T.call(u,(function(){x?G.emit("rejectionHandled",e):z("rejectionhandled",e,t.value)}))},$=function(e,t,n,r){return function(i){e(t,n,i,r)}},ee=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,K(e,t,!0))},te=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw w("Promise can't be resolved itself");var i=W(n);i?S((function(){var r={done:!1};try{i.call(n,$(te,e,r,t),$(ee,e,r,t))}catch(n){ee(e,r,n,t)}})):(t.value=n,t.state=1,K(e,t,!1))}catch(n){ee(e,{done:!1},n,t)}}};Q&&(D=function(e){h(this,D,U),f(e),r.call(this);var t=P(this);try{e($(te,this,t),$(ee,this,t))}catch(e){ee(this,t,e)}},(r=function(e){M(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=_(D.prototype,{then:function(e,t){var n=b(this),r=B(m(this,D));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=x?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=$(te,e,t),this.reject=$(ee,e,t)},R.f=B=function(e){return e===D||e===o?new i(e):j(e)},a||"function"!=typeof H||s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return v(D,H.apply(u,arguments))}})),s({global:!0,wrap:!0,forced:Q},{Promise:D}),l(D,U,!1,!0),E(U),o=c[U],s({target:U,stat:!0,forced:Q},{reject:function(e){var t=B(this);return t.reject.call(void 0,e),t.promise}}),s({target:U,stat:!0,forced:a||Q},{resolve:function(e){return v(a&&this===o?D:this,e)}}),s({target:U,stat:!0,forced:J},{all:function(e){var t=this,n=B(t),r=n.resolve,i=n.reject,o=A((function(){var n=f(t.resolve),o=[],s=0,a=1;g(e,(function(e){var u=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=B(t),r=n.reject,i=A((function(){var i=f(t.resolve);g(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(40);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r,i,o,s=n(5),a=n(15),u=n(23),c=n(71),_=n(73),l=n(49),E=s.location,d=s.setImmediate,f=s.clearImmediate,h=s.process,p=s.MessageChannel,g=s.Dispatch,C=0,m={},T=function(e){if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},S=function(e){return function(){T(e)}},v=function(e){T(e.data)},y=function(e){s.postMessage(e+"",E.protocol+"//"+E.host)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++C]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(C),C},f=function(e){delete m[e]},"process"==u(h)?r=function(e){h.nextTick(S(e))}:g&&g.now?r=function(e){g.now(S(e))}:p?(o=(i=new p).port2,i.port1.onmessage=v,r=c(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(y)?r="onreadystatechange"in l("script")?function(e){_.appendChild(l("script")).onreadystatechange=function(){_.removeChild(this),T(e)}}:function(e){setTimeout(S(e),0)}:(r=y,s.addEventListener("message",v,!1))),e.exports={set:d,clear:f}},function(e,t,n){var r=n(39);e.exports=r("document","documentElement")},function(e,t,n){var r=n(39);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(40),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(5),i=n(136),o=n(137),s=n(18),a=n(6),u=a("iterator"),c=a("toStringTag"),_=o.values;for(var l in i){var E=r[l],d=E&&E.prototype;if(d){if(d[u]!==_)try{s(d,u,_)}catch(e){d[u]=_}if(d[c]||s(d,c,l),i[l])for(var f in o)if(d[f]!==o[f])try{s(d,f,o[f])}catch(e){d[f]=o[f]}}}},function(e,t,n){var r=n(10),i=n(139),o=n(55),s=n(53),a=n(73),u=n(49),c=n(52)("IE_PROTO"),_=function(){},l=function(){var e,t=u("iframe"),n=o.length;for(t.style.display="none",a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[o[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(_.prototype=r(e),n=new _,_.prototype=null,n[c]=e):n=l(),void 0===t?n:i(n,t)},s[c]=!0},function(e,t,n){"use strict";var r,i,o,s=n(79),a=n(18),u=n(17),c=n(6),_=n(38),l=c("iterator"),E=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):E=!0),null==r&&(r={}),_||u(r,l)||a(r,l,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:E}},function(e,t,n){var r=n(17),i=n(143),o=n(52),s=n(144),a=o("IE_PROTO"),u=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(13);function o(e){return"true"!==e.entities.general.config.EnableCustomEmoji?{}:e.entities.emojis.customEmoji}t.getCustomEmojis=o,t.getCustomEmojisAsMap=r.createSelector(o,(function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n])})),t})),t.getCustomEmojisByName=r.createSelector(o,(function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(e[n].name,e[n])})),t})),t.getCustomEmojiIdsSortedByName=i.createIdsSelector((function(e){return e.entities.emojis.customEmoji}),(function(e){return Object.keys(e).sort((function(t,n){return e[t].name.localeCompare(e[n].name)}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.getEmojiImageUrl=function(e){if(e.id)return r.Client4.getEmojiRoute(e.id)+"/image";var t=e,n=t.filename||t.aliases[0];return r.Client4.getSystemEmojiImageUrl(n)},t.parseNeededCustomEmojisFromText=function(e,t,n,r){if(!e.includes(":"))return new Set;for(var i,o=/:([A-Za-z0-9_-]+):/gi,s=new Set;null!==(i=o.exec(e));)i&&(t.has(i[1])||r.has(i[1])||n.has(i[1])||s.add(i[1]));return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);var i=function(){function e(){this.listeners=new Map}return e.prototype.addListener=function(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)},e.prototype.on=function(e,t){this.addListener(e,t)},e.prototype.removeListener=function(e,t){var n,r=this.listeners.get(e);return!!(r&&r.length&&(n=r.reduce((function(e,n,r){return"function"==typeof n&&n===t?r:e}),-1))>-1)&&(r.splice(n,1),this.listeners.set(e,r),!0)},e.prototype.off=function(e,t){this.removeListener(e,t)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.listeners.get(e);return!(!i||!i.length)&&(i.forEach((function(e){e.apply(void 0,r.__spread(t))})),!0)},e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),o=n(12),s=n(3),a=n(25),u=n(80),c=n(81),_=n(21),l=n(19);function E(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getCustomEmojiByName(e)];case 1:return t=r.sent(),[3,3];case 2:return a=r.sent(),l.forceLogoutIfNecessary(a,n,s),404===a.status_code?n({type:o.EmojiTypes.CUSTOM_EMOJI_DOES_NOT_EXIST,data:e}):n(_.logError(a)),[2,{error:a}];case 3:return n({type:o.EmojiTypes.RECEIVED_CUSTOM_EMOJI,data:t}),[2,{data:t}]}}))}))}}function d(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return e&&0!==e.length?(t=[],e.forEach((function(e){return t.push(E(e)(n,i))})),[4,Promise.all(t)]):[2,{data:!0}];case 1:return r.sent(),[2,{data:!0}]}}))}))}}function f(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,o;return r.__generator(this,(function(r){switch(r.label){case 0:return t={},e.forEach((function(e){i().entities.users.profiles[e.creator_id]||(t[e.creator_id]=!0)})),(o=Object.keys(t)).length>0?[4,n(a.getProfilesByIds(o))]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2,{data:!0}]}}))}))}}t.systemEmojis=new Map,t.setSystemEmojis=function(e){t.systemEmojis=e},t.createCustomEmoji=function(e,t){return l.bindClientFunc({clientFunc:i.Client4.createCustomEmoji,onSuccess:o.EmojiTypes.RECEIVED_CUSTOM_EMOJI,params:[e,t]})},t.getCustomEmoji=function(e){return l.bindClientFunc({clientFunc:i.Client4.getCustomEmoji,onSuccess:o.EmojiTypes.RECEIVED_CUSTOM_EMOJI,params:[e]})},t.getCustomEmojiByName=E,t.getCustomEmojisByName=d,t.getCustomEmojisInText=function(e){var n=this;return function(i,o){return r.__awaiter(n,void 0,void 0,(function(){var n,s,a,_;return r.__generator(this,(function(r){return e?(n=o(),s=n.entities.emojis.nonExistentEmoji,a=u.getCustomEmojisByName(n),_=c.parseNeededCustomEmojisFromText(e,t.systemEmojis,a,s),[2,d(Array.from(_))(i,o)]):[2,{data:!0}]}))}))}},t.getCustomEmojis=function(e,t,n,a){var u=this;return void 0===e&&(e=0),void 0===t&&(t=s.General.PAGE_SIZE_DEFAULT),void 0===n&&(n=s.Emoji.SORT_BY_NAME),void 0===a&&(a=!1),function(s,c){return r.__awaiter(u,void 0,void 0,(function(){var u,E;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getCustomEmojis(e,t,n)];case 1:return u=r.sent(),[3,3];case 2:return E=r.sent(),l.forceLogoutIfNecessary(E,s,c),s(_.logError(E)),[2,{error:E}];case 3:return a&&s(f(u)),s({type:o.EmojiTypes.RECEIVED_CUSTOM_EMOJIS,data:u}),[2,{data:u}]}}))}))}},t.loadProfilesForCustomEmojis=f,t.getAllCustomEmojis=function(e){var t=this;return void 0===e&&(e=s.General.PAGE_SIZE_MAXIMUM),function(n,a){return r.__awaiter(t,void 0,void 0,(function(){var t,u,c,E,d;return r.__generator(this,(function(f){switch(f.label){case 0:n({type:o.EmojiTypes.CLEAR_CUSTOM_EMOJIS,data:null}),t=!0,u=0,c=[],f.label=1;case 1:return f.trys.push([1,3,,4]),E=[],[4,i.Client4.getCustomEmojis(u,e,s.Emoji.SORT_BY_NAME)];case 2:return(E=f.sent()).length<e?t=!1:u+=1,c.push.apply(c,r.__spread(E)),[3,4];case 3:return d=f.sent(),l.forceLogoutIfNecessary(d,n,a),n(_.logError(d)),[2,{error:!0}];case 4:if(t)return[3,1];f.label=5;case 5:return n({type:o.EmojiTypes.RECEIVED_CUSTOM_EMOJIS,data:c}),[2,{data:!0}]}}))}))}},t.deleteCustomEmoji=function(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.deleteCustomEmoji(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),l.forceLogoutIfNecessary(t,n,s),n(_.logError(t)),[2,{error:t}];case 3:return n({type:o.EmojiTypes.DELETED_CUSTOM_EMOJI,data:{id:e}}),[2,{data:!0}]}}))}))}},t.searchCustomEmojis=function(e,t,n){var s=this;return void 0===t&&(t={}),void 0===n&&(n=!1),function(a,u){return r.__awaiter(s,void 0,void 0,(function(){var s,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.searchCustomEmoji(e,t)];case 1:return s=r.sent(),[3,3];case 2:return c=r.sent(),l.forceLogoutIfNecessary(c,a,u),a(_.logError(c)),[2,{error:c}];case 3:return n&&a(f(s)),a({type:o.EmojiTypes.RECEIVED_CUSTOM_EMOJIS,data:s}),[2,{data:s}]}}))}))}},t.autocompleteCustomEmojis=function(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.autocompleteCustomEmoji(e)];case 1:return t=r.sent(),[3,3];case 2:return a=r.sent(),l.forceLogoutIfNecessary(a,n,s),n(_.logError(a)),[2,{error:a}];case 3:return n({type:o.EmojiTypes.RECEIVED_CUSTOM_EMOJIS,data:t}),[2,{data:t}]}}))}))}}},function(e,t){e.exports=Redux},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),o=n(3),s=n(12),a=n(27),u=n(80),c=n(9),_=r.__importStar(n(59)),l=n(11),E=n(34),d=n(81),f=n(60),h=n(57),p=n(83),g=n(21),C=n(19),m=n(58),T=n(25),S=n(24);function v(e){return{type:s.PostTypes.RECEIVED_POST,data:e}}function y(e){return{type:s.PostTypes.RECEIVED_NEW_POST,data:e}}function R(e){return{type:s.PostTypes.RECEIVED_POSTS,data:e}}function A(e,t,n,r){return void 0===r&&(r=!1),{type:s.PostTypes.RECEIVED_POSTS_AFTER,channelId:t,data:e,afterPostId:n,recent:r}}function I(e,t,n,r){return void 0===r&&(r=!1),{type:s.PostTypes.RECEIVED_POSTS_BEFORE,channelId:t,data:e,beforePostId:n,oldest:r}}function N(e,t){return{type:s.PostTypes.RECEIVED_POSTS_SINCE,channelId:t,data:e}}function O(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),{type:s.PostTypes.RECEIVED_POSTS_IN_CHANNEL,channelId:t,data:e,recent:n,oldest:r}}function L(e,t){return{type:s.PostTypes.RECEIVED_POSTS_IN_THREAD,data:e,rootId:t}}function U(e){return{type:s.PostTypes.POST_REMOVED,data:e}}function P(e,t){var n=this;return void 0===t&&(t=!0),function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.PostTypes.GET_POST_THREAD_REQUEST},a),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.getPostThread(e,t)];case 2:return M((n=r.sent()).posts,o,a),[3,4];case 3:return u=r.sent(),C.forceLogoutIfNecessary(u,o,a),o(S.batchActions([{type:s.PostTypes.GET_POST_THREAD_FAILURE,error:u},g.logError(u)]),a),[2,{error:u}];case 4:return o(S.batchActions([R(n),L(n,e),{type:s.PostTypes.GET_POST_THREAD_SUCCESS}])),[2,{data:n}]}}))}))}}function M(e,t,n){if(!e)return Promise.resolve();var r=Object.values(e);if(0===r.length)return Promise.resolve();var i=n(),o=i.entities.users,s=o.currentUserId,a=o.profiles,u=o.statuses,c=new Set,_=new Set;Object.values(r).forEach((function(e){var t=e.user_id;u[t]||_.add(t),t!==s&&(a[t]||c.add(t))}));var l=[];c.size>0&&l.push(T.getProfilesByIds(Array.from(c))(t,n)),_.size>0&&l.push(T.getStatusesByIds(Array.from(_))(t,n));var E=b(i,r);E.size>0&&l.push(T.getProfilesByUsernames(Array.from(E))(t,n));var d=D(i,r);return d&&d.size>0&&l.push(p.getCustomEmojisByName(Array.from(d))(t,n)),Promise.all(l)}function b(e,t){var n,r=new Set;return t.forEach((function(t){if(t.message.includes("@")){n||(n=l.getUsersByUsername(e));for(var i,s=/\B@(([a-z0-9_.-]*[a-z0-9_])[.-]*)/gi;null!==(i=s.exec(t.message));)-1===o.General.SPECIAL_MENTIONS.indexOf(i[2])&&(n[i[1]]||n[i[2]]||(r.add(i[1]),r.add(i[2])))}})),r}function D(e,t){if("true"!==c.getConfig(e).EnableCustomEmoji)return new Set;if(t[0].metadata)return new Set;var n,i=new Set,o=e.entities.emojis.nonExistentEmoji;return t.forEach((function(t){if(t.message.includes(":")){n||(n=u.getCustomEmojisByName(e));var s=d.parseNeededCustomEmojisFromText(t.message,p.systemEmojis,n,o);s.size>0&&(i=new Set(r.__spread(i,s)))}var a=t.props;if(a&&a.attachments&&a.attachments.length){n||(n=u.getCustomEmojisByName(e));var c=function(e){var t="";return e.forEach((function(e){e.fields&&e.fields.length&&e.fields.forEach((function(e){t+=" "+(e.value||"")})),e.pretext&&(t+=" "+e.pretext),e.text&&(t+=" "+e.text)})),t}(a.attachments);if(c){var _=d.parseNeededCustomEmojisFromText(c,p.systemEmojis,n,o);_.size>0&&(i=new Set(r.__spread(i,_)))}}})),i}function w(e){return function(t,n){var i,s;if(e.type===o.Posts.POST_TYPES.COMBINED_USER_ACTIVITY&&e.system_post_ids){var a=n();try{for(var u=r.__values(e.system_post_ids),c=u.next();!c.done;c=u.next()){var l=c.value,E=_.getPost(a,l);E&&t(w(E))}}catch(e){i={error:e}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}else t(U(e))}}function F(e,t,n,o){var a=this;return void 0===o&&(o=""),function(u,c){return r.__awaiter(a,void 0,void 0,(function(){var a,_;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.doPostActionWithCookie(e,t,n,o)];case 1:return a=r.sent(),[3,3];case 2:return _=r.sent(),C.forceLogoutIfNecessary(_,u,c),u(g.logError(_)),[2,{error:_}];case 3:return a&&a.trigger_id&&u({type:s.IntegrationTypes.RECEIVED_DIALOG_TRIGGER_ID,data:a.trigger_id}),[2,{data:a}]}}))}))}}t.receivedPost=v,t.receivedNewPost=y,t.receivedPosts=R,t.receivedPostsAfter=A,t.receivedPostsBefore=I,t.receivedPostsSince=N,t.receivedPostsInChannel=O,t.receivedPostsInThread=L,t.postDeleted=function(e){return{type:s.PostTypes.POST_DELETED,data:e}},t.postRemoved=U,t.getPost=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getPost(e)];case 1:return M([t=r.sent()],n,o),[3,3];case 2:return a=r.sent(),C.forceLogoutIfNecessary(a,n,o),n(S.batchActions([{type:s.PostTypes.GET_POSTS_FAILURE,error:a},g.logError(a)]),o),[2,{error:a}];case 3:return n(S.batchActions([v(t),{type:s.PostTypes.GET_POSTS_SUCCESS}])),[2,{data:t}]}}))}))}},t.createPost=function(e,t){var n=this;return void 0===t&&(t=[]),function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c,l,E,d;return r.__generator(this,(function(f){return n=a(),u=n.entities.users.currentUserId,c=Date.now(),l=e.pending_post_id||u+":"+c,_.isPostIdSending(n,l)||((E=r.__assign(r.__assign({},e),{pending_post_id:l,create_at:c,update_at:c})).file_ids&&!t.length&&(t=E.file_ids.map((function(e){return n.entities.files.files[e]}))),t.length&&(d=t.map((function(e){return e.id})),E=r.__assign(r.__assign({},E),{file_ids:d}),o({type:s.FileTypes.RECEIVED_FILES_FOR_POST,postId:l,data:t})),o({type:s.PostTypes.RECEIVED_NEW_POST,data:r.__assign({id:l},E),meta:{offline:{effect:function(){return i.Client4.createPost(r.__assign(r.__assign({},E),{create_at:0}))},commit:function(e,n){var r=[v(n),{type:s.PostTypes.CREATE_POST_SUCCESS},{type:s.ChannelTypes.INCREMENT_TOTAL_MSG_COUNT,data:{channelId:E.channel_id,amount:1}},{type:s.ChannelTypes.DECREMENT_UNREAD_MSG_COUNT,data:{channelId:E.channel_id,amount:1}}];t&&r.push({type:s.FileTypes.RECEIVED_FILES_FOR_POST,postId:n.id,data:t}),o(S.batchActions(r))},maxRetry:0,offlineRollback:!0,rollback:function(e,t){var n=r.__assign(r.__assign({},E),{id:l,failed:!0,update_at:Date.now()});o({type:s.PostTypes.CREATE_POST_FAILURE,error:t}),"api.post.create_post.root_id.app_error"===t.server_error_id||"api.post.create_post.town_square_read_only"===t.server_error_id||"plugin.message_will_be_posted.dismiss_post"===t.server_error_id?o(w(n)):o(v(n))}}}})),[2,{data:!0}]}))}))}},t.createPostImmediately=function(e,t){var n=this;return void 0===t&&(t=[]),function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c,_,l,E,d,f,h;return r.__generator(this,(function(p){switch(p.label){case 0:n=a(),u=n.entities.users.currentUserId,c=Date.now(),_=u+":"+c,l=r.__assign(r.__assign({},e),{pending_post_id:_,create_at:c,update_at:c}),t.length&&(E=t.map((function(e){return e.id})),l=r.__assign(r.__assign({},l),{file_ids:E}),o({type:s.FileTypes.RECEIVED_FILES_FOR_POST,postId:_,data:t})),o(y(r.__assign({id:_},l))),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,i.Client4.createPost(r.__assign(r.__assign({},l),{create_at:0}))];case 2:return d=p.sent(),l.id=d.id,[3,4];case 3:return f=p.sent(),C.forceLogoutIfNecessary(f,o,a),o(S.batchActions([{type:s.PostTypes.CREATE_POST_FAILURE,error:f},w(r.__assign({id:_},l)),g.logError(f)]),a),[2,{error:f}];case 4:return h=[v(l),{type:s.PostTypes.CREATE_POST_SUCCESS},{type:s.ChannelTypes.INCREMENT_TOTAL_MSG_COUNT,data:{channelId:l.channel_id,amount:1}},{type:s.ChannelTypes.DECREMENT_UNREAD_MSG_COUNT,data:{channelId:l.channel_id,amount:1}}],t&&h.push({type:s.FileTypes.RECEIVED_FILES_FOR_POST,postId:l.id,data:t}),o(S.batchActions(h),a),[2,{data:l}]}}))}))}},t.resetCreatePostRequest=function(){return{type:s.PostTypes.CREATE_POST_RESET_REQUEST}},t.deletePost=function e(t){return function(n,a){var u=a(),c=r.__assign({},t);return c.type===o.Posts.POST_TYPES.COMBINED_USER_ACTIVITY&&c.system_post_ids?c.system_post_ids.forEach((function(t){var r=_.getPost(u,t);r&&n(e(r))})):n({type:s.PostTypes.POST_DELETED,data:c,meta:{offline:{effect:function(){return i.Client4.deletePost(t.id)},commit:{type:"do_nothing"},rollback:v(c)}}}),{data:!0}}},t.editPost=function(e){return C.bindClientFunc({clientFunc:i.Client4.patchPost,onRequest:s.PostTypes.EDIT_POST_REQUEST,onSuccess:[s.PostTypes.RECEIVED_POST,s.PostTypes.EDIT_POST_SUCCESS],onFailure:s.PostTypes.EDIT_POST_FAILURE,params:[e]})},t.pinPost=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,u,c;return r.__generator(this,(function(l){switch(l.label){case 0:n({type:s.PostTypes.EDIT_POST_REQUEST},o),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,i.Client4.pinPost(e)];case 2:return t=l.sent(),[3,4];case 3:return a=l.sent(),C.forceLogoutIfNecessary(a,n,o),n(S.batchActions([{type:s.PostTypes.EDIT_POST_FAILURE,error:a},g.logError(a)]),o),[2,{error:a}];case 4:return u=[{type:s.PostTypes.EDIT_POST_SUCCESS}],(c=_.getPost(o(),e))&&u.push(v(r.__assign(r.__assign({},c),{is_pinned:!0,update_at:Date.now()}))),n(S.batchActions(u),o),[2,{data:t}]}}))}))}},t.unpinPost=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,u,c;return r.__generator(this,(function(l){switch(l.label){case 0:n({type:s.PostTypes.EDIT_POST_REQUEST},o),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,i.Client4.unpinPost(e)];case 2:return t=l.sent(),[3,4];case 3:return a=l.sent(),C.forceLogoutIfNecessary(a,n,o),n(S.batchActions([{type:s.PostTypes.EDIT_POST_FAILURE,error:a},g.logError(a)]),o),[2,{error:a}];case 4:return u=[{type:s.PostTypes.EDIT_POST_SUCCESS}],(c=_.getPost(o(),e))&&u.push(v(r.__assign(r.__assign({},c),{is_pinned:!1,update_at:Date.now()}))),n(S.batchActions(u),o),[2,{data:t}]}}))}))}},t.addReaction=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:n=a().entities.users.currentUserId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.addReaction(n,e,t)];case 2:return u=r.sent(),[3,4];case 3:return c=r.sent(),C.forceLogoutIfNecessary(c,o,a),o(g.logError(c)),[2,{error:c}];case 4:return o({type:s.PostTypes.RECEIVED_REACTION,data:u}),[2,{data:!0}]}}))}))}},t.removeReaction=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u;return r.__generator(this,(function(r){switch(r.label){case 0:n=a().entities.users.currentUserId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.removeReaction(n,e,t)];case 2:return r.sent(),[3,4];case 3:return u=r.sent(),C.forceLogoutIfNecessary(u,o,a),o(g.logError(u)),[2,{error:u}];case 4:return o({type:s.PostTypes.REACTION_DELETED,data:{user_id:n,post_id:e,emoji_name:t}}),[2,{data:!0}]}}))}))}},t.getCustomEmojiForReaction=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,o;return r.__generator(this,(function(r){return t=i().entities.emojis.nonExistentEmoji,o=u.getCustomEmojisByName(i()),p.systemEmojis.has(e)||t.has(e)||o.has(e)?[2,{data:!0}]:[2,n(p.getCustomEmojiByName(e))]}))}))}},t.getReactionsForPost=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a,c,_,l;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getReactionsForPost(e)];case 1:return t=r.sent(),[3,3];case 2:return a=r.sent(),C.forceLogoutIfNecessary(a,n,o),n(g.logError(a)),[2,{error:a}];case 3:return t&&t.length>0&&(c=o().entities.emojis.nonExistentEmoji,_=u.getCustomEmojisByName(o()),l=new Set,t.forEach((function(e){var t=e.emoji_name;p.systemEmojis.has(t)||c.has(t)||_.has(t)||l.add(t)})),n(p.getCustomEmojisByName(Array.from(l)))),n(S.batchActions([{type:s.PostTypes.RECEIVED_REACTIONS,data:t,postId:e}])),[2,t]}}))}))}},t.flagPost=function(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){return t=s().entities.users.currentUserId,a={user_id:t,category:o.Preferences.CATEGORY_FLAGGED_POST,name:e,value:"true"},i.Client4.trackEvent("action","action_posts_flag"),[2,m.savePreferences(t,[a])(n)]}))}))}},t.getPostThread=P,t.getPosts=function(e,t,n,s){var a=this;return void 0===t&&(t=0),void 0===n&&(n=o.Posts.POST_CHUNK_SIZE),void 0===s&&(s=!0),function(o,u){return r.__awaiter(a,void 0,void 0,(function(){var a,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getPosts(e,t,n,s)];case 1:return M((a=r.sent()).posts,o,u),[3,3];case 2:return c=r.sent(),C.forceLogoutIfNecessary(c,o,u),o(g.logError(c)),[2,{error:c}];case 3:return o(S.batchActions([R(a),O(a,e,0===t,""===a.prev_post_id)])),[2,{data:a}]}}))}))}},t.getPostsUnread=function(e,t){var n=this;return void 0===t&&(t=!0),function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:n=l.getCurrentUserId(a()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.getPostsUnread(e,n,i.DEFAULT_LIMIT_BEFORE,i.DEFAULT_LIMIT_AFTER,t)];case 2:return M((u=r.sent()).posts,o,a),[3,4];case 3:return c=r.sent(),C.forceLogoutIfNecessary(c,o,a),o(g.logError(c)),[2,{error:c}];case 4:return o(S.batchActions([R(u),O(u,e,""===u.next_post_id,""===u.prev_post_id)])),o({type:s.PostTypes.RECEIVED_POSTS,data:u,channelId:e}),[2,{data:u}]}}))}))}},t.getPostsSince=function(e,t,n){var o=this;return void 0===n&&(n=!0),function(a,u){return r.__awaiter(o,void 0,void 0,(function(){var o,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getPostsSince(e,t,n)];case 1:return M((o=r.sent()).posts,a,u),[3,3];case 2:return c=r.sent(),C.forceLogoutIfNecessary(c,a,u),a(g.logError(c)),[2,{error:c}];case 3:return a(S.batchActions([R(o),N(o,e),{type:s.PostTypes.GET_POSTS_SINCE_SUCCESS}])),[2,{data:o}]}}))}))}},t.getPostsBefore=function(e,t,n,s,a){var u=this;return void 0===n&&(n=0),void 0===s&&(s=o.Posts.POST_CHUNK_SIZE),void 0===a&&(a=!0),function(o,c){return r.__awaiter(u,void 0,void 0,(function(){var u,_;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getPostsBefore(e,t,n,s,a)];case 1:return M((u=r.sent()).posts,o,c),[3,3];case 2:return _=r.sent(),C.forceLogoutIfNecessary(_,o,c),o(g.logError(_)),[2,{error:_}];case 3:return o(S.batchActions([R(u),I(u,e,t,""===u.prev_post_id)])),[2,{data:u}]}}))}))}},t.getPostsAfter=function(e,t,n,s,a){var u=this;return void 0===n&&(n=0),void 0===s&&(s=o.Posts.POST_CHUNK_SIZE),void 0===a&&(a=!0),function(o,c){return r.__awaiter(u,void 0,void 0,(function(){var u,_;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getPostsAfter(e,t,n,s,a)];case 1:return M((u=r.sent()).posts,o,c),[3,3];case 2:return _=r.sent(),C.forceLogoutIfNecessary(_,o,c),o(g.logError(_)),[2,{error:_}];case 3:return o(S.batchActions([R(u),A(u,e,t,""===u.next_post_id)])),[2,{data:u}]}}))}))}},t.getPostsAround=function(e,t,n,s){var a=this;return void 0===n&&(n=o.Posts.POST_CHUNK_SIZE/2),void 0===s&&(s=!0),function(o,u){return r.__awaiter(a,void 0,void 0,(function(){var a,c,_,l,E,d;return r.__generator(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,Promise.all([i.Client4.getPostsAfter(e,t,0,n,s),i.Client4.getPostThread(t,s),i.Client4.getPostsBefore(e,t,0,n,s)])];case 1:return d=r.__read.apply(void 0,[f.sent(),3]),a=d[0],c=d[1],_=d[2],[3,3];case 2:return l=f.sent(),C.forceLogoutIfNecessary(l,o,u),o(g.logError(l)),[2,{error:l}];case 3:return M((E={posts:r.__assign(r.__assign(r.__assign({},a.posts),c.posts),_.posts),order:r.__spread(a.order,[t],_.order),next_post_id:a.next_post_id,prev_post_id:_.prev_post_id}).posts,o,u),o(S.batchActions([R(E),O(E,e,""===a.next_post_id,""===_.prev_post_id)])),[2,{data:E}]}}))}))}},t.getThreadsForPosts=function(e,t){return void 0===t&&(t=!0),function(n,r){if(!Array.isArray(e)||!e.length)return{data:!0};var i=r(),o=[];return e.forEach((function(e){e.root_id&&(_.getPost(i,e.root_id)||o.push(n(P(e.root_id,t))))})),Promise.all(o)}},t.getProfilesAndStatusesForPosts=M,t.getNeededAtMentionedUsernames=b,t.getNeededCustomEmojis=D,t.removePost=w,t.selectPost=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:s.PostTypes.RECEIVED_POST_SELECTED,data:e},i),[2,{data:!0}]}))}))}},t.selectFocusedPostId=function(e){return{type:s.PostTypes.RECEIVED_FOCUSED_POST,data:e}},t.unflagPost=function(e){var t=this;return function(n,s){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){return t=s().entities.users.currentUserId,a={user_id:t,category:o.Preferences.CATEGORY_FLAGGED_POST,name:e},i.Client4.trackEvent("action","action_posts_unflag"),[2,m.deletePreferences(t,[a])(n,s)]}))}))}},t.getOpenGraphMetadata=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getOpenGraphMetadata(e)];case 1:return t=r.sent(),[3,3];case 2:return a=r.sent(),C.forceLogoutIfNecessary(a,n,o),n(g.logError(a)),[2,{error:a}];case 3:return t&&(t.url||t.type||t.title||t.description)&&n({type:s.PostTypes.RECEIVED_OPEN_GRAPH_METADATA,data:t,url:e}),[2,{data:t}]}}))}))}},t.doPostAction=function(e,t,n){return void 0===n&&(n=""),F(e,t,"",n)},t.doPostActionWithCookie=F,t.addMessageIntoHistory=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:s.PostTypes.ADD_MESSAGE_INTO_HISTORY,data:e},i),[2,{data:!0}]}))}))}},t.resetHistoryIndex=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:s.PostTypes.RESET_HISTORY_INDEX,data:e},i),[2,{data:!0}]}))}))}},t.moveHistoryIndexBack=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:s.PostTypes.MOVE_HISTORY_INDEX_BACK,data:e},i),[2,{data:!0}]}))}))}},t.moveHistoryIndexForward=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:s.PostTypes.MOVE_HISTORY_INDEX_FORWARD,data:e},i),[2,{data:!0}]}))}))}},t.handleNewPost=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){var t,s,u,c,d,p;return r.__generator(this,(function(g){switch(g.label){case 0:return t=i(),s=l.getCurrentUserId(t),u=JSON.parse(e.data.post),c=a.getMyChannelMember(t,u.channel_id),d=e.data,c&&0===Object.keys(c).length&&"Object"===c.constructor?[4,n(h.getMyChannelMember(u.channel_id))]:[3,2];case 1:g.sent(),g.label=2;case 2:return n(function(e,t){return function(n,i){var s=i(),u=_.getPost(s,e.root_id);e.root_id&&!u&&n(P(e.root_id,!0)),n(function(e,t){var n=this;return function(i,s){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c,_;return r.__generator(this,(function(r){return n=s(),u=[y(e),{type:o.WebsocketEvents.STOP_TYPING,data:{id:e.channel_id+e.root_id,userId:e.user_id,now:Date.now()}}],i(S.batchActions(u)),f.shouldIgnorePost(e)||(c=!1,_=!1,e.user_id!==l.getCurrentUserId(n)||f.isSystemMessage(e)||f.isFromWebhook(e)?e.channel_id===a.getCurrentChannelId(n)&&(c=!0,_=!0):(c=!0,_=!1),c?(i(h.markChannelAsRead(e.channel_id,void 0,_)),i(h.markChannelAsViewed(e.channel_id))):i(h.markChannelAsUnread(t.team_id,e.channel_id,t.mentions))),[2]}))}))}}(e,t))}}(u,d)),e.data.channel_type===o.General.DM_CHANNEL?(p=E.getUserIdFromChannelName(s,e.data.channel_name),n(m.makeDirectChannelVisibleIfNecessary(p))):e.data.channel_type===o.General.GM_CHANNEL&&n(m.makeGroupMessageVisibleIfNecessary(u.channel_id)),[2,{data:!0}]}}))}))}}},function(e,t,n){e.exports=n(176)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CONFIG_CHANGED:"config_changed",SERVER_VERSION_CHANGED:"server_version_changed",PAGE_SIZE_DEFAULT:60,PAGE_SIZE_MAXIMUM:200,LOGS_PAGE_SIZE_DEFAULT:1e4,AUDITS_CHUNK_SIZE:100,PROFILE_CHUNK_SIZE:100,CHANNELS_CHUNK_SIZE:50,TEAMS_CHUNK_SIZE:50,JOBS_CHUNK_SIZE:50,SEARCH_TIMEOUT_MILLISECONDS:100,STATUS_INTERVAL:6e4,AUTOCOMPLETE_LIMIT_DEFAULT:25,AUTOCOMPLETE_SPLIT_CHARACTERS:[".","-","_"],MENTION:"mention",OUT_OF_OFFICE:"ooo",OFFLINE:"offline",AWAY:"away",ONLINE:"online",DND:"dnd",PERMISSIONS_ALL:"all",PERMISSIONS_CHANNEL_ADMIN:"channel_admin",PERMISSIONS_TEAM_ADMIN:"team_admin",PERMISSIONS_SYSTEM_ADMIN:"system_admin",TEAM_GUEST_ROLE:"team_guest",TEAM_USER_ROLE:"team_user",TEAM_ADMIN_ROLE:"team_admin",CHANNEL_GUEST_ROLE:"channel_guest",CHANNEL_USER_ROLE:"channel_user",CHANNEL_ADMIN_ROLE:"channel_admin",SYSTEM_GUEST_ROLE:"system_guest",SYSTEM_USER_ROLE:"system_user",SYSTEM_ADMIN_ROLE:"system_admin",SYSTEM_USER_ACCESS_TOKEN_ROLE:"system_user_access_token",SYSTEM_POST_ALL_ROLE:"system_post_all",SYSTEM_POST_ALL_PUBLIC_ROLE:"system_post_all_public",ALLOW_EDIT_POST_ALWAYS:"always",ALLOW_EDIT_POST_NEVER:"never",ALLOW_EDIT_POST_TIME_LIMIT:"time_limit",DEFAULT_POST_EDIT_TIME_LIMIT:300,RESTRICT_DIRECT_MESSAGE_ANY:"any",RESTRICT_DIRECT_MESSAGE_TEAM:"team",SWITCH_TO_DEFAULT_CHANNEL:"switch_to_default_channel",DEFAULT_CHANNEL:"town-square",DM_CHANNEL:"D",OPEN_CHANNEL:"O",PRIVATE_CHANNEL:"P",GM_CHANNEL:"G",PUSH_NOTIFY_APPLE_REACT_NATIVE:"apple_rn",PUSH_NOTIFY_ANDROID_REACT_NATIVE:"android_rn",STORE_REHYDRATION_COMPLETE:"store_hydation_complete",OFFLINE_STORE_RESET:"offline_store_reset",OFFLINE_STORE_PURGE:"offline_store_purge",TEAMMATE_NAME_DISPLAY:{SHOW_USERNAME:"username",SHOW_NICKNAME_FULLNAME:"nickname_full_name",SHOW_FULLNAME:"full_name"},SPECIAL_MENTIONS:["all","channel","here"],MAX_USERS_IN_GM:8,MIN_USERS_IN_GM:3,MAX_GROUP_CHANNELS_FOR_PROFILES:50,DEFAULT_LOCALE:"en",DEFAULT_AUTOLINKED_URL_SCHEMES:["http","https","ftp","mailto","tel"],DISABLED:"disabled",DEFAULT_ON:"default_on",DEFAULT_OFF:"default_off"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={NOT_STARTED:"not_started",STARTED:"started",SUCCESS:"success",FAILURE:"failure",CANCELLED:"cancelled"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={POSTED:"posted",POST_EDITED:"post_edited",POST_DELETED:"post_deleted",CHANNEL_CONVERTED:"channel_converted",CHANNEL_CREATED:"channel_created",CHANNEL_DELETED:"channel_deleted",CHANNEL_UPDATED:"channel_updated",CHANNEL_VIEWED:"channel_viewed",CHANNEL_MEMBER_UPDATED:"channel_member_updated",DIRECT_ADDED:"direct_added",ADDED_TO_TEAM:"added_to_team",LEAVE_TEAM:"leave_team",UPDATE_TEAM:"update_team",USER_ADDED:"user_added",USER_REMOVED:"user_removed",USER_UPDATED:"user_updated",ROLE_ADDED:"role_added",ROLE_REMOVED:"role_removed",ROLE_UPDATED:"role_updated",TYPING:"typing",STOP_TYPING:"stop_typing",PREFERENCE_CHANGED:"preference_changed",PREFERENCES_CHANGED:"preferences_changed",PREFERENCES_DELETED:"preferences_deleted",EPHEMERAL_MESSAGE:"ephemeral_message",STATUS_CHANGED:"status_change",HELLO:"hello",WEBRTC:"webrtc",REACTION_ADDED:"reaction_added",REACTION_REMOVED:"reaction_removed",EMOJI_ADDED:"emoji_added",LICENSE_CHANGED:"license_changed",CONFIG_CHANGED:"config_changed",PLUGIN_STATUSES_CHANGED:"plugin_statuses_changed",OPEN_DIALOG:"open_dialog"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={CATEGORY_CHANNEL_OPEN_TIME:"channel_open_time",CATEGORY_CHANNEL_APPROXIMATE_VIEW_TIME:"channel_approximate_view_time",CATEGORY_DIRECT_CHANNEL_SHOW:"direct_channel_show",CATEGORY_GROUP_CHANNEL_SHOW:"group_channel_show",CATEGORY_FLAGGED_POST:"flagged_post",CATEGORY_FAVORITE_CHANNEL:"favorite_channel",CATEGORY_AUTO_RESET_MANUAL_STATUS:"auto_reset_manual_status",CATEGORY_NOTIFICATIONS:"notifications",COMMENTS:"comments",COMMENTS_ANY:"any",COMMENTS_ROOT:"root",COMMENTS_NEVER:"never",EMAIL:"email",EMAIL_INTERVAL:"email_interval",INTERVAL_FIFTEEN_MINUTES:900,INTERVAL_HOUR:3600,INTERVAL_IMMEDIATE:30,INTERVAL_NEVER:0,INTERVAL_NOT_SET:-1,CATEGORY_DISPLAY_SETTINGS:"display_settings",NAME_NAME_FORMAT:"name_format",DISPLAY_PREFER_NICKNAME:"nickname_full_name",DISPLAY_PREFER_FULL_NAME:"full_name",MENTION_KEYS:"mention_keys",USE_MILITARY_TIME:"use_military_time",CATEGORY_SIDEBAR_SETTINGS:"sidebar_settings",CATEGORY_ADVANCED_SETTINGS:"advanced_settings",ADVANCED_FILTER_JOIN_LEAVE:"join_leave",ADVANCED_CODE_BLOCK_ON_CTRL_ENTER:"code_block_ctrl_enter",ADVANCED_SEND_ON_CTRL_ENTER:"send_on_ctrl_enter",CATEGORY_THEME:"theme",THEMES:{default:{type:"Mattermost",sidebarBg:"#145dbf",sidebarText:"#ffffff",sidebarUnreadText:"#ffffff",sidebarTextHoverBg:"#4578bf",sidebarTextActiveBorder:"#579eff",sidebarTextActiveColor:"#ffffff",sidebarHeaderBg:"#1153ab",sidebarHeaderTextColor:"#ffffff",onlineIndicator:"#06d6a0",awayIndicator:"#ffbc42",dndIndicator:"#f74343",mentionBg:"#ffffff",mentionBj:"#ffffff",mentionColor:"#145dbf",centerChannelBg:"#ffffff",centerChannelColor:"#3d3c40",newMessageSeparator:"#ff8800",linkColor:"#2389d7",buttonBg:"#166de0",buttonColor:"#ffffff",errorTextColor:"#fd5960",mentionHighlightBg:"#ffe577",mentionHighlightLink:"#166de0",codeTheme:"github"},organization:{type:"Organization",sidebarBg:"#2071a7",sidebarText:"#ffffff",sidebarUnreadText:"#ffffff",sidebarTextHoverBg:"#136197",sidebarTextActiveBorder:"#7ab0d6",sidebarTextActiveColor:"#ffffff",sidebarHeaderBg:"#2f81b7",sidebarHeaderTextColor:"#ffffff",onlineIndicator:"#7dbe00",awayIndicator:"#dcbd4e",dndIndicator:"#ff6a6a",mentionBg:"#fbfbfb",mentionBj:"#fbfbfb",mentionColor:"#2071f7",centerChannelBg:"#f2f4f8",centerChannelColor:"#333333",newMessageSeparator:"#ff8800",linkColor:"#2f81b7",buttonBg:"#1dacfc",buttonColor:"#ffffff",errorTextColor:"#a94442",mentionHighlightBg:"#f3e197",mentionHighlightLink:"#2f81b7",codeTheme:"github"},mattermostDark:{type:"Mattermost Dark",sidebarBg:"#1b2c3e",sidebarText:"#ffffff",sidebarUnreadText:"#ffffff",sidebarTextHoverBg:"#4a5664",sidebarTextActiveBorder:"#66b9a7",sidebarTextActiveColor:"#ffffff",sidebarHeaderBg:"#1b2c3e",sidebarHeaderTextColor:"#ffffff",onlineIndicator:"#65dcc8",awayIndicator:"#c1b966",dndIndicator:"#e81023",mentionBg:"#b74a4a",mentionBj:"#b74a4a",mentionColor:"#ffffff",centerChannelBg:"#2f3e4e",centerChannelColor:"#dddddd",newMessageSeparator:"#5de5da",linkColor:"#a4ffeb",buttonBg:"#4cbba4",buttonColor:"#ffffff",errorTextColor:"#ff6461",mentionHighlightBg:"#984063",mentionHighlightLink:"#a4ffeb",codeTheme:"solarized-dark"},windows10:{type:"Windows Dark",sidebarBg:"#171717",sidebarText:"#ffffff",sidebarUnreadText:"#ffffff",sidebarTextHoverBg:"#302e30",sidebarTextActiveBorder:"#196caf",sidebarTextActiveColor:"#ffffff",sidebarHeaderBg:"#1f1f1f",sidebarHeaderTextColor:"#ffffff",onlineIndicator:"#399fff",awayIndicator:"#c1b966",dndIndicator:"#e81023",mentionBg:"#0177e7",mentionBj:"#0177e7",mentionColor:"#ffffff",centerChannelBg:"#1f1f1f",centerChannelColor:"#dddddd",newMessageSeparator:"#cc992d",linkColor:"#0d93ff",buttonBg:"#0177e7",buttonColor:"#ffffff",errorTextColor:"#ff6461",mentionHighlightBg:"#784098",mentionHighlightLink:"#a4ffeb",codeTheme:"monokai"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostTypes={CHANNEL_DELETED:"system_channel_deleted",DISPLAYNAME_CHANGE:"system_displayname_change",CONVERT_CHANNEL:"system_convert_channel",EPHEMERAL:"system_ephemeral",EPHEMERAL_ADD_TO_CHANNEL:"system_ephemeral_add_to_channel",HEADER_CHANGE:"system_header_change",PURPOSE_CHANGE:"system_purpose_change",JOIN_LEAVE:"system_join_leave",JOIN_CHANNEL:"system_join_channel",GUEST_JOIN_CHANNEL:"system_guest_join_channel",LEAVE_CHANNEL:"system_leave_channel",ADD_REMOVE:"system_add_remove",ADD_TO_CHANNEL:"system_add_to_channel",ADD_GUEST_TO_CHANNEL:"system_add_guest_to_chan",REMOVE_FROM_CHANNEL:"system_remove_from_channel",JOIN_TEAM:"system_join_team",LEAVE_TEAM:"system_leave_team",ADD_TO_TEAM:"system_add_to_team",REMOVE_FROM_TEAM:"system_remove_from_team",COMBINED_USER_ACTIVITY:"system_combined_user_activity",ME:"me",ADD_BOT_TEAMS_CHANNELS:"add_bot_teams_channels"},t.default={POST_CHUNK_SIZE:60,POST_DELETED:"DELETED",SYSTEM_MESSAGE_PREFIX:"system_",SYSTEM_AUTO_RESPONDER:"system_auto_responder",POST_TYPES:t.PostTypes,MESSAGE_TYPES:{POST:"post",COMMENT:"comment"},MAX_PREV_MSGS:100,POST_COLLAPSE_TIMEOUT:3e5,IGNORE_POST_TYPES:[t.PostTypes.ADD_REMOVE,t.PostTypes.ADD_TO_CHANNEL,t.PostTypes.CHANNEL_DELETED,t.PostTypes.JOIN_LEAVE,t.PostTypes.JOIN_CHANNEL,t.PostTypes.LEAVE_CHANNEL,t.PostTypes.REMOVE_FROM_CHANNEL,t.PostTypes.JOIN_TEAM,t.PostTypes.LEAVE_TEAM,t.PostTypes.ADD_TO_TEAM,t.PostTypes.REMOVE_FROM_TEAM],USER_ACTIVITY_POST_TYPES:[t.PostTypes.ADD_TO_CHANNEL,t.PostTypes.JOIN_CHANNEL,t.PostTypes.LEAVE_CHANNEL,t.PostTypes.REMOVE_FROM_CHANNEL,t.PostTypes.ADD_TO_TEAM,t.PostTypes.JOIN_TEAM,t.PostTypes.LEAVE_TEAM,t.PostTypes.REMOVE_FROM_TEAM]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={AUDIO_TYPES:["mp3","wav","wma","m4a","flac","aac","ogg"],CODE_TYPES:["as","applescript","osascript","scpt","bash","sh","zsh","clj","boot","cl2","cljc","cljs","cljs.hl","cljscm","cljx","hic","coffee","_coffee","cake","cjsx","cson","iced","cpp","c","cc","h","c++","h++","hpp","cs","csharp","css","d","di","dart","delphi","dpr","dfm","pas","pascal","freepascal","lazarus","lpr","lfm","diff","django","jinja","dockerfile","docker","erl","f90","f95","fsharp","fs","gcode","nc","go","groovy","handlebars","hbs","html.hbs","html.handlebars","hs","hx","java","jsp","js","jsx","json","jl","kt","ktm","kts","less","lisp","lua","mk","mak","md","mkdown","mkd","matlab","m","mm","objc","obj-c","ml","perl","pl","php","php3","php4","php5","php6","ps","ps1","pp","py","gyp","r","ruby","rb","gemspec","podspec","thor","irb","rs","scala","scm","sld","scss","st","sql","swift","tex","txt","vbnet","vb","bas","vbs","v","veo","xml","html","xhtml","rss","atom","xsl","plist","yaml"],IMAGE_TYPES:["jpg","gif","bmp","png","jpeg","tiff","tif"],PATCH_TYPES:["patch"],PDF_TYPES:["pdf"],PRESENTATION_TYPES:["ppt","pptx"],SPREADSHEET_TYPES:["xlsx","csv"],VIDEO_TYPES:["mp4","avi","webm","mkv","wmv","mpg","mov","flv"],WORD_TYPES:["doc","docx"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={ALERT_NOTIFICATION:"notification",ALERT_DEVELOPER:"developer",ALERT_ERROR:"error"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TEAM_TYPE_OPEN:"O",TEAM_TYPE_INVITE:"I"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({TOTAL_USERS:null,TOTAL_INACTIVE_USERS:null,TOTAL_PUBLIC_CHANNELS:null,TOTAL_PRIVATE_GROUPS:null,TOTAL_POSTS:null,TOTAL_TEAMS:null,TOTAL_FILE_POSTS:null,TOTAL_HASHTAG_POSTS:null,TOTAL_IHOOKS:null,TOTAL_OHOOKS:null,TOTAL_COMMANDS:null,TOTAL_SESSIONS:null,POST_PER_DAY:null,BOT_POST_PER_DAY:null,USERS_WITH_POSTS_PER_DAY:null,RECENTLY_ACTIVE_USERS:null,NEWLY_CREATED_USERS:null,TOTAL_WEBSOCKET_CONNECTIONS:null,TOTAL_MASTER_DB_CONNECTIONS:null,TOTAL_READ_DB_CONNECTIONS:null,DAILY_ACTIVE_USERS:null,MONTHLY_ACTIVE_USERS:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INVITE_USER:"invite_user",ADD_USER_TO_TEAM:"add_user_to_team",USE_SLASH_COMMANDS:"use_slash_commands",MANAGE_SLASH_COMMANDS:"manage_slash_commands",MANAGE_OTHERS_SLASH_COMMANDS:"manage_others_slash_commands",CREATE_PUBLIC_CHANNEL:"create_public_channel",CREATE_PRIVATE_CHANNEL:"create_private_channel",MANAGE_PUBLIC_CHANNEL_MEMBERS:"manage_public_channel_members",MANAGE_PRIVATE_CHANNEL_MEMBERS:"manage_private_channel_members",ASSIGN_SYSTEM_ADMIN_ROLE:"assign_system_admin_role",MANAGE_ROLES:"manage_roles",MANAGE_TEAM_ROLES:"manage_team_roles",MANAGE_CHANNEL_ROLES:"manage_channel_roles",MANAGE_SYSTEM:"manage_system",CREATE_DIRECT_CHANNEL:"create_direct_channel",CREATE_GROUP_CHANNEL:"create_group_channel",MANAGE_PUBLIC_CHANNEL_PROPERTIES:"manage_public_channel_properties",MANAGE_PRIVATE_CHANNEL_PROPERTIES:"manage_private_channel_properties",LIST_PUBLIC_TEAMS:"list_public_teams",JOIN_PUBLIC_TEAMS:"join_public_teams",LIST_PRIVATE_TEAMS:"list_private_teams",JOIN_PRIVATE_TEAMS:"join_private_teams",LIST_TEAM_CHANNELS:"list_team_channels",JOIN_PUBLIC_CHANNELS:"join_public_channels",DELETE_PUBLIC_CHANNEL:"delete_public_channel",DELETE_PRIVATE_CHANNEL:"delete_private_channel",EDIT_OTHER_USERS:"edit_other_users",READ_CHANNEL:"read_channel",READ_PUBLIC_CHANNEL:"read_public_channel",ADD_REACTION:"add_reaction",REMOVE_REACTION:"remove_reaction",REMOVE_OTHERS_REACTIONS:"remove_others_reactions",PERMANENT_DELETE_USER:"permanent_delete_user",UPLOAD_FILE:"upload_file",GET_PUBLIC_LINK:"get_public_link",MANAGE_WEBHOOKS:"manage_webhooks",MANAGE_OTHERS_WEBHOOKS:"manage_others_webhooks",MANAGE_INCOMING_WEBHOOKS:"manage_incoming_webhooks",MANAGE_OTHERS_INCOMING_WEBHOOKS:"manage_others_incoming_webhooks",MANAGE_OUTGOING_WEBHOOKS:"manage_outgoing_webhooks",MANAGE_OTHERS_OUTGOING_WEBHOOKS:"manage_others_outgoing_webhooks",MANAGE_OAUTH:"manage_oauth",MANAGE_SYSTEM_WIDE_OAUTH:"manage_system_wide_oauth",CREATE_POST:"create_post",CREATE_POST_PUBLIC:"create_post_public",EDIT_POST:"edit_post",EDIT_OTHERS_POSTS:"edit_others_posts",DELETE_POST:"delete_post",DELETE_OTHERS_POSTS:"delete_others_posts",REMOVE_USER_FROM_TEAM:"remove_user_from_team",CREATE_TEAM:"create_team",MANAGE_TEAM:"manage_team",IMPORT_TEAM:"import_team",VIEW_TEAM:"view_team",LIST_USERS_WITHOUT_TEAM:"list_users_without_team",CREATE_USER_ACCESS_TOKEN:"create_user_access_token",READ_USER_ACCESS_TOKEN:"read_user_access_token",REVOKE_USER_ACCESS_TOKEN:"revoke_user_access_token",MANAGE_JOBS:"manage_jobs",MANAGE_EMOJIS:"manage_emojis",MANAGE_OTHERS_EMOJIS:"manage_others_emojis",CREATE_EMOJIS:"create_emojis",DELETE_EMOJIS:"delete_emojis",DELETE_OTHERS_EMOJIS:"delete_others_emojis",VIEW_MEMBERS:"view_members",INVITE_GUEST:"invite_guest",PROMOTE_GUEST:"promote_guest",DEMOTE_TO_GUEST:"demote_to_guest"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SORT_BY_NAME:"name"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PLUGIN_STATE_NOT_RUNNING:0,PLUGIN_STATE_STARTING:1,PLUGIN_STATE_RUNNING:2,PLUGIN_STATE_FAILED_TO_START:3,PLUGIN_STATE_FAILED_TO_STAY_RUNNING:4,PLUGIN_STATE_STOPPING:5,PREPACKAGED_PLUGINS:["zoom","jira","mattermost-autolink","com.mattermost.nps","com.mattermost.custom-attributes","github","com.mattermost.welcomebot","com.mattermost.aws-sns","com.github.manland.mattermost-plugin-gitlab","antivirus"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SYNCABLE_TYPE_TEAM:"team",SYNCABLE_TYPE_CHANNEL:"channel"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={IGNORE_CHANNEL_MENTIONS_ON:"on",IGNORE_CHANNEL_MENTIONS_OFF:"off",IGNORE_CHANNEL_MENTIONS_DEFAULT:"default"}},function(e,t){e.exports=function(e,t,n){if(null===e!=(null===t))return!1;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=typeof e;return o===typeof t&&(function(e){return"function"!==e&&"object"!==e}(o)?n?n(e,t):e===t:r?function(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1}else for(i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}(e,t,n):function(e,t,n){var r=0,i=0;if(n)for(var o in e){if(e.hasOwnProperty(o)&&!n(e[o],t[o]))return!1;r++}else for(var o in e){if(e.hasOwnProperty(o)&&e[o]!==t[o])return!1;r++}for(var o in t)t.hasOwnProperty(o)&&i++;return r===i}(e,t,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null;t.setLocalizeFunction=function(e){r=e},t.localizeMessage=function(e,t){return r?r(e,t):t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.teamListToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id]=e[n];return t},t.sortTeamsWithLocale=function(e){return function(t,n){return t.display_name!==n.display_name?t.display_name.toLowerCase().localeCompare(n.display_name.toLowerCase(),e||r.General.DEFAULT_LOCALE,{numeric:!0}):t.name.toLowerCase().localeCompare(n.name.toLowerCase(),e||r.General.DEFAULT_LOCALE,{numeric:!0})}}},function(e,t,n){"use strict";var r=n(45),i=n(54),o=n(114),s=n(48),a=n(117),u="".startsWith,c=Math.min;r({target:"String",proto:!0,forced:!a("startsWith")},{startsWith:function(e){var t=String(s(this));o(e);var n=i(c(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(15),i=n(23),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(5),i=n(64),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i.call(o))},function(e,t,n){var r=n(17),i=n(109),o=n(46),s=n(32);e.exports=function(e,t){for(var n=i(t),a=s.f,u=o.f,c=0;c<n.length;c++){var _=n[c];r(e,_)||a(e,_,u(t,_))}}},function(e,t,n){var r=n(39),i=n(110),o=n(113),s=n(10);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(67),i=n(55).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(35),i=n(54),o=n(112),s=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),_=o(s,c);if(e&&n!=n){for(;c>_;)if((a=u[_++])!=a)return!0}else for(;c>_;_++)if((e||_ in u)&&u[_]===n)return e||_||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){var r=n(68),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(115);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(16),i=n(23),o=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(15);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(36);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(39),i=n(32),o=n(6),s=n(22),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(10),i=n(122),o=n(54),s=n(71),a=n(123),u=n(125),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,_,l){var E,d,f,h,p,g,C=s(t,n,_?2:1);if(l)E=e;else{if("function"!=typeof(d=a(e)))throw TypeError("Target is not iterable");if(i(d)){for(f=0,h=o(e.length);h>f;f++)if((p=_?C(r(g=e[f])[0],g[1]):C(e[f]))&&p instanceof c)return p;return new c(!1)}E=d.call(e)}for(;!(g=E.next()).done;)if((p=u(E,C,g.value,_))&&p instanceof c)return p;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var r=n(6),i=n(33),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},function(e,t,n){var r=n(124),i=n(33),o=n(6)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(23),i=n(6)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(10);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(6)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var r=n(10),i=n(40),o=n(6)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s,a,u,c,_=n(5),l=n(46).f,E=n(23),d=n(72).set,f=n(74),h=_.MutationObserver||_.WebKitMutationObserver,p=_.process,g=_.Promise,C="process"==E(p),m=l(_,"queueMicrotask"),T=m&&m.value;T||(r=function(){var e,t;for(C&&(e=p.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():o=void 0,e}}o=void 0,e&&e.enter()},C?s=function(){p.nextTick(r)}:h&&!/(iphone|ipod|ipad).*applewebkit/i.test(f)?(a=!0,u=document.createTextNode(""),new h(r).observe(u,{characterData:!0}),s=function(){u.data=a=!a}):g&&g.resolve?(c=g.resolve(void 0),s=function(){c.then(r)}):s=function(){d.call(_,r)}),e.exports=T||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(e,t,n){var r=n(10),i=n(16),o=n(75);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(5);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(13),o=n(133),s=n(3),a=n(30),u=r.__importDefault(n(134)),c=n(135);t.HEADER_X_VERSION_ID="X-Version-Id";t.DEFAULT_LIMIT_BEFORE=30,t.DEFAULT_LIMIT_AFTER=30;var _=function(){function n(){var e=this;this.logToConsole=!1,this.serverVersion="",this.clusterId="",this.token="",this.csrf="",this.url="",this.urlVersion="/api/v4",this.userAgent=null,this.enableLogging=!1,this.defaultHeaders={},this.userId="",this.diagnosticId="",this.includeCookies=!0,this.translations={connectionError:"There appears to be a problem with your internet connection.",unknownError:"We received an unexpected status code from the server."},this.createUser=function(t,n,o){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_users_create"),e={},n&&(e.t=n),o&&(e.iid=o),[2,this.doFetch(""+this.getUsersRoute()+i.buildQueryString(e),{method:"post",body:JSON.stringify(t)})]}))}))},this.patchMe=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute("me")+"/patch",{method:"put",body:JSON.stringify(t)})]}))}))},this.patchUser=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_patch"),[2,this.doFetch(this.getUserRoute(t.id)+"/patch",{method:"put",body:JSON.stringify(t)})]}))}))},this.updateUser=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_update"),[2,this.doFetch(""+this.getUserRoute(t.id),{method:"put",body:JSON.stringify(t)})]}))}))},this.promoteGuestToUser=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_promote_guest_to_user"),[2,this.doFetch(this.getUserRoute(t)+"/promote",{method:"post"})]}))}))},this.demoteUserToGuest=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_demote_user_to_guest"),[2,this.doFetch(this.getUserRoute(t)+"/demote",{method:"post"})]}))}))},this.updateUserRoles=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_update_roles"),[2,this.doFetch(this.getUserRoute(t)+"/roles",{method:"put",body:JSON.stringify({roles:n})})]}))}))},this.updateUserMfa=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e={activate:n},n&&(e.code=i),[2,this.doFetch(this.getUserRoute(t)+"/mfa",{method:"put",body:JSON.stringify(e)})]}))}))},this.updateUserPassword=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_newpassword"),[2,this.doFetch(this.getUserRoute(t)+"/password",{method:"put",body:JSON.stringify({current_password:n,new_password:i})})]}))}))},this.resetUserPassword=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_reset_password"),[2,this.doFetch(this.getUsersRoute()+"/password/reset",{method:"post",body:JSON.stringify({token:t,new_password:n})})]}))}))},this.sendPasswordResetEmail=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_send_password_reset"),[2,this.doFetch(this.getUsersRoute()+"/password/reset/send",{method:"post",body:JSON.stringify({email:t})})]}))}))},this.updateUserActive=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_update_active"),[2,this.doFetch(this.getUserRoute(t)+"/active",{method:"put",body:JSON.stringify({active:n})})]}))}))},this.uploadProfileImage=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,i;return r.__generator(this,(function(r){return this.trackEvent("api","api_users_update_profile_picture"),(e=new c).append("image",n),i={method:"post",body:e},e.getBoundary&&(i.headers={"Content-Type":"multipart/form-data; boundary="+e.getBoundary()}),[2,this.doFetch(this.getUserRoute(t)+"/image",i)]}))}))},this.setDefaultProfileImage=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_set_default_profile_picture"),[2,this.doFetch(this.getUserRoute(t)+"/image",{method:"delete"})]}))}))},this.verifyUserEmail=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/email/verify",{method:"post",body:JSON.stringify({token:t})})]}))}))},this.updateMyTermsOfServiceStatus=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute("me")+"/terms_of_service",{method:"post",body:JSON.stringify({termsOfServiceId:t,accepted:n})})]}))}))},this.getTermsOfService=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/terms_of_service",{method:"get"})]}))}))},this.createTermsOfService=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/terms_of_service",{method:"post",body:JSON.stringify({text:t})})]}))}))},this.sendVerificationEmail=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/email/verify/send",{method:"post",body:JSON.stringify({email:t})})]}))}))},this.login=function(t,n,i,o,s){return void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s=!1),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return this.trackEvent("api","api_users_login"),s&&this.trackEvent("api","api_users_login_ldap"),e={device_id:o,login_id:t,password:n,token:i},s&&(e.ldap_only="true"),[4,this.doFetchWithResponse(this.getUsersRoute()+"/login",{method:"post",body:JSON.stringify(e)})];case 1:return[2,r.sent().data]}}))}))},this.loginById=function(t,n,i,o){return void 0===i&&(i=""),void 0===o&&(o=""),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return this.trackEvent("api","api_users_login"),e={device_id:o,id:t,password:n,token:i},[4,this.doFetchWithResponse(this.getUsersRoute()+"/login",{method:"post",body:JSON.stringify(e)})];case 1:return[2,r.sent().data]}}))}))},this.logout=function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return this.trackEvent("api","api_users_logout"),[4,this.doFetchWithResponse(this.getUsersRoute()+"/logout",{method:"post"})];case 1:return(e=t.sent().response).ok&&(this.token=""),this.serverVersion="",[2,e]}}))}))},this.getProfiles=function(t,n,o){return void 0===t&&(t=0),void 0===n&&(n=60),void 0===o&&(o={}),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_profiles_get"),[2,this.doFetch(""+this.getUsersRoute()+i.buildQueryString(r.__assign({page:t,per_page:n},o)),{method:"get"})]}))}))},this.getProfilesByIds=function(t,n){return void 0===n&&(n={}),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_profiles_get_by_ids"),[2,this.doFetch(this.getUsersRoute()+"/ids"+i.buildQueryString(n),{method:"post",body:JSON.stringify(t)})]}))}))},this.getProfilesByUsernames=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_profiles_get_by_usernames"),[2,this.doFetch(this.getUsersRoute()+"/usernames",{method:"post",body:JSON.stringify(t)})]}))}))},this.getProfilesInTeam=function(t,n,o,s,a){return void 0===n&&(n=0),void 0===o&&(o=60),void 0===s&&(s=""),void 0===a&&(a={}),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_profiles_get_in_team",{team_id:t,sort:s}),[2,this.doFetch(""+this.getUsersRoute()+i.buildQueryString(r.__assign(r.__assign({},a),{in_team:t,page:n,per_page:o,sort:s})),{method:"get"})]}))}))},this.getProfilesNotInTeam=function(t,n,o,s){return void 0===o&&(o=0),void 0===s&&(s=60),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_profiles_get_not_in_team",{team_id:t,group_constrained:n}),e={not_in_team:t,page:o,per_page:s},n&&(e.group_constrained=!0),[2,this.doFetch(""+this.getUsersRoute()+i.buildQueryString(e),{method:"get"})]}))}))},this.getProfilesWithoutTeam=function(t,n,o){return void 0===t&&(t=0),void 0===n&&(n=60),void 0===o&&(o={}),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_profiles_get_without_team"),[2,this.doFetch(""+this.getUsersRoute()+i.buildQueryString(r.__assign(r.__assign({},o),{without_team:1,page:t,per_page:n})),{method:"get"})]}))}))},this.getProfilesInChannel=function(t,n,o,s){return void 0===n&&(n=0),void 0===o&&(o=60),void 0===s&&(s=""),r.__awaiter(e,void 0,void 0,(function(){var e,a;return r.__generator(this,(function(r){return this.trackEvent("api","api_profiles_get_in_channel",{channel_id:t}),e=this.getServerVersion(),a=i.isMinimumServerVersion(e,4,7)?{in_channel:t,page:n,per_page:o,sort:s}:{in_channel:t,page:n,per_page:o},[2,this.doFetch(""+this.getUsersRoute()+i.buildQueryString(a),{method:"get"})]}))}))},this.getProfilesInGroupChannels=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_profiles_get_in_group_channels",{channelsIds:t}),[2,this.doFetch(this.getUsersRoute()+"/group_channels",{method:"post",body:JSON.stringify(t)})]}))}))},this.getProfilesNotInChannel=function(t,n,o,s,a){return void 0===s&&(s=0),void 0===a&&(a=60),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_profiles_get_not_in_channel",{team_id:t,channel_id:n,group_constrained:o}),e={in_team:t,not_in_channel:n,page:s,per_page:a},o&&(e.group_constrained=!0),[2,this.doFetch(""+this.getUsersRoute()+i.buildQueryString(e),{method:"get"})]}))}))},this.getMe=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getUserRoute("me"),{method:"get"})]}))}))},this.getUser=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getUserRoute(t),{method:"get"})]}))}))},this.getUserByUsername=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/username/"+t,{method:"get"})]}))}))},this.getUserByEmail=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/email/"+t,{method:"get"})]}))}))},this.getProfilePictureUrl=function(t,n){var r={};return n&&(r._=n),e.getUserRoute(t)+"/image"+i.buildQueryString(r)},this.getDefaultProfilePictureUrl=function(t){return e.getUserRoute(t)+"/image/default"},this.autocompleteUsers=function(t,n,o,a){return void 0===a&&(a={limit:s.General.AUTOCOMPLETE_LIMIT_DEFAULT}),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/autocomplete"+i.buildQueryString({in_team:n,in_channel:o,name:t,limit:a.limit}),{method:"get"})]}))}))},this.getSessions=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/sessions",{method:"get"})]}))}))},this.revokeSession=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/sessions/revoke",{method:"post",body:JSON.stringify({session_id:n})})]}))}))},this.revokeAllSessionsForUser=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/sessions/revoke/all",{method:"post"})]}))}))},this.revokeSessionsForAllUsers=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/sessions/revoke/all",{method:"post"})]}))}))},this.getUserAudits=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/audits"+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.checkUserMfa=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/mfa",{method:"post",body:JSON.stringify({login_id:t})})]}))}))},this.generateMfaSecret=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/mfa/generate",{method:"post"})]}))}))},this.attachDevice=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/sessions/device",{method:"put",body:JSON.stringify({device_id:t})})]}))}))},this.searchUsers=function(t,n){return e.trackEvent("api","api_search_users"),e.doFetch(e.getUsersRoute()+"/search",{method:"post",body:JSON.stringify(r.__assign({term:t},n))})},this.getStatusesByIds=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/status/ids",{method:"post",body:JSON.stringify(t)})]}))}))},this.getStatus=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/status",{method:"get"})]}))}))},this.updateStatus=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t.user_id)+"/status",{method:"put",body:JSON.stringify(t)})]}))}))},this.switchEmailToOAuth=function(t,n,i,o){return void 0===o&&(o=""),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_email_to_oauth"),[2,this.doFetch(this.getUsersRoute()+"/login/switch",{method:"post",body:JSON.stringify({current_service:"email",new_service:t,email:n,password:i,mfa_code:o})})]}))}))},this.switchOAuthToEmail=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_oauth_to_email"),[2,this.doFetch(this.getUsersRoute()+"/login/switch",{method:"post",body:JSON.stringify({current_service:t,new_service:"email",email:n,new_password:i})})]}))}))},this.switchEmailToLdap=function(t,n,i,o,s){return void 0===s&&(s=""),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_email_to_ldap"),[2,this.doFetch(this.getUsersRoute()+"/login/switch",{method:"post",body:JSON.stringify({current_service:"email",new_service:"ldap",email:t,password:n,ldap_id:i,new_password:o,mfa_code:s})})]}))}))},this.switchLdapToEmail=function(t,n,i,o){return void 0===o&&(o=""),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_ldap_to_email"),[2,this.doFetch(this.getUsersRoute()+"/login/switch",{method:"post",body:JSON.stringify({current_service:"ldap",new_service:"email",email:n,password:t,new_password:i,mfa_code:o})})]}))}))},this.getAuthorizedOAuthApps=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/oauth/apps/authorized",{method:"get"})]}))}))},this.authorizeOAuthApp=function(t,n,i,o,s){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.url+"/oauth/authorize",{method:"post",body:JSON.stringify({client_id:n,response_type:t,redirect_uri:i,state:o,scope:s})})]}))}))},this.deauthorizeOAuthApp=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.url+"/oauth/deauthorize",{method:"post",body:JSON.stringify({client_id:t})})]}))}))},this.createUserAccessToken=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_create_access_token"),[2,this.doFetch(this.getUserRoute(t)+"/tokens",{method:"post",body:JSON.stringify({description:n})})]}))}))},this.getUserAccessToken=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/tokens/"+t,{method:"get"})]}))}))},this.getUserAccessTokensForUser=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/tokens"+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.getUserAccessTokens=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/tokens"+i.buildQueryString({page:t,per_page:n}),{method:"get"})]}))}))},this.revokeUserAccessToken=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_revoke_access_token"),[2,this.doFetch(this.getUsersRoute()+"/tokens/revoke",{method:"post",body:JSON.stringify({token_id:t})})]}))}))},this.disableUserAccessToken=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/tokens/disable",{method:"post",body:JSON.stringify({token_id:t})})]}))}))},this.enableUserAccessToken=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/tokens/enable",{method:"post",body:JSON.stringify({token_id:t})})]}))}))},this.createTeam=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_create"),[2,this.doFetch(""+this.getTeamsRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.deleteTeam=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_delete"),[2,this.doFetch(""+this.getTeamRoute(t),{method:"delete"})]}))}))},this.updateTeam=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_update_name",{team_id:t.id}),[2,this.doFetch(""+this.getTeamRoute(t.id),{method:"put",body:JSON.stringify(t)})]}))}))},this.patchTeam=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_patch_name",{team_id:t.id}),[2,this.doFetch(this.getTeamRoute(t.id)+"/patch",{method:"put",body:JSON.stringify(t)})]}))}))},this.regenerateTeamInviteId=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_regenerate_invite_id",{team_id:t}),[2,this.doFetch(this.getTeamRoute(t)+"/regenerate_invite_id",{method:"post"})]}))}))},this.updateTeamScheme=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(i){return e={scheme_id:n},this.trackEvent("api","api_teams_update_scheme",r.__assign({team_id:t},e)),[2,this.doFetch(""+this.getTeamSchemeRoute(t),{method:"put",body:JSON.stringify(e)})]}))}))},this.checkIfTeamExists=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamNameRoute(t)+"/exists",{method:"get"})]}))}))},this.getTeams=function(t,n,o){return void 0===t&&(t=0),void 0===n&&(n=60),void 0===o&&(o=!1),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getTeamsRoute()+i.buildQueryString({page:t,per_page:n,include_total_count:o}),{method:"get"})]}))}))},this.searchTeams=function(t){return e.trackEvent("api","api_search_teams"),e.doFetch(e.getTeamsRoute()+"/search",{method:"post",body:JSON.stringify({term:t})})},this.getTeam=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamRoute(t),{method:"get"})]}))}))},this.getTeamByName=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_get_team_by_name"),[2,this.doFetch(this.getTeamNameRoute(t),{method:"get"})]}))}))},this.getMyTeams=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute("me")+"/teams",{method:"get"})]}))}))},this.getTeamsForUser=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/teams",{method:"get"})]}))}))},this.getMyTeamMembers=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute("me")+"/teams/members",{method:"get"})]}))}))},this.getMyTeamUnreads=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute("me")+"/teams/unread",{method:"get"})]}))}))},this.getTeamMembers=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getTeamMembersRoute(t)+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.getTeamMembersForUser=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(t)+"/teams/members",{method:"get"})]}))}))},this.getTeamMember=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getTeamMemberRoute(t,n),{method:"get"})]}))}))},this.getTeamMembersByIds=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamMembersRoute(t)+"/ids",{method:"post",body:JSON.stringify(n)})]}))}))},this.addToTeam=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_teams_invite_members",{team_id:t}),e={user_id:n,team_id:t},[2,this.doFetch(""+this.getTeamMembersRoute(t),{method:"post",body:JSON.stringify(e)})]}))}))},this.addToTeamFromInvite=function(t,n){return void 0===t&&(t=""),void 0===n&&(n=""),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_teams_invite_members"),e=i.buildQueryString({token:t,invite_id:n}),[2,this.doFetch(this.getTeamsRoute()+"/members/invite"+e,{method:"post"})]}))}))},this.addUsersToTeam=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_teams_batch_add_members",{team_id:t,count:n.length}),e=[],n.forEach((function(n){return e.push({team_id:t,user_id:n})})),[2,this.doFetch(this.getTeamMembersRoute(t)+"/batch",{method:"post",body:JSON.stringify(e)})]}))}))},this.joinTeam=function(t){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return e=i.buildQueryString({invite_id:t}),[2,this.doFetch(this.getTeamsRoute()+"/members/invite"+e,{method:"post"})]}))}))},this.removeFromTeam=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_remove_members",{team_id:t}),[2,this.doFetch(""+this.getTeamMemberRoute(t,n),{method:"delete"})]}))}))},this.getTeamStats=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamRoute(t)+"/stats",{method:"get"})]}))}))},this.getTotalUsersStats=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUsersRoute()+"/stats",{method:"get"})]}))}))},this.invalidateAllEmailInvites=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamsRoute()+"/invites/email",{method:"delete"})]}))}))},this.getTeamInviteInfo=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamsRoute()+"/invite/"+t,{method:"get"})]}))}))},this.updateTeamMemberRoles=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_update_member_roles",{team_id:t}),[2,this.doFetch(this.getTeamMemberRoute(t,n)+"/roles",{method:"put",body:JSON.stringify({roles:i})})]}))}))},this.sendEmailInvitesToTeam=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_invite_members",{team_id:t}),[2,this.doFetch(this.getTeamRoute(t)+"/invite/email",{method:"post",body:JSON.stringify(n)})]}))}))},this.sendEmailGuestInvitesToChannels=function(t,n,i,o){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_teams_invite_guests",{team_id:t,channel_ids:n}),[2,this.doFetch(this.getTeamRoute(t)+"/invite-guests/email",{method:"post",body:JSON.stringify({emails:i,channels:n,message:o})})]}))}))},this.importTeam=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){var e,o;return r.__generator(this,(function(r){return(e=new c).append("file",n,n.name),e.append("filesize",n.size),e.append("importFrom",i),o={method:"post",body:e},e.getBoundary&&(o.headers={"Content-Type":"multipart/form-data; boundary="+e.getBoundary()}),[2,this.doFetch(this.getTeamRoute(t)+"/import",o)]}))}))},this.getTeamIconUrl=function(t,n){var r={};return n&&(r._=n),e.getTeamRoute(t)+"/image"+i.buildQueryString(r)},this.setTeamIcon=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,i;return r.__generator(this,(function(r){return this.trackEvent("api","api_team_set_team_icon"),(e=new c).append("image",n),i={method:"post",body:e},e.getBoundary&&(i.headers={"Content-Type":"multipart/form-data; boundary="+e.getBoundary()}),[2,this.doFetch(this.getTeamRoute(t)+"/image",i)]}))}))},this.removeTeamIcon=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_team_remove_team_icon"),[2,this.doFetch(this.getTeamRoute(t)+"/image",{method:"delete"})]}))}))},this.updateTeamMemberSchemeRoles=function(t,n,i,o){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e={scheme_user:i,scheme_admin:o},[2,this.doFetch(this.getTeamRoute(t)+"/members/"+n+"/schemeRoles",{method:"put",body:JSON.stringify(e)})]}))}))},this.getAllChannels=function(t,n,o,s,a){return void 0===t&&(t=0),void 0===n&&(n=60),void 0===o&&(o=""),void 0===s&&(s=!1),void 0===a&&(a=!1),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e={page:t,per_page:n,not_associated_to_group:o,exclude_default_channels:s,include_total_count:a},[2,this.doFetch(""+this.getChannelsRoute()+i.buildQueryString(e),{method:"get"})]}))}))},this.createChannel=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_create",{team_id:t.team_id}),[2,this.doFetch(""+this.getChannelsRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.createDirectChannel=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_create_direct"),[2,this.doFetch(this.getChannelsRoute()+"/direct",{method:"post",body:JSON.stringify(t)})]}))}))},this.createGroupChannel=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_create_group"),[2,this.doFetch(this.getChannelsRoute()+"/group",{method:"post",body:JSON.stringify(t)})]}))}))},this.deleteChannel=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_delete",{channel_id:t}),[2,this.doFetch(""+this.getChannelRoute(t),{method:"delete"})]}))}))},this.updateChannel=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_update",{channel_id:t.id}),[2,this.doFetch(""+this.getChannelRoute(t.id),{method:"put",body:JSON.stringify(t)})]}))}))},this.convertChannelToPrivate=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_convert_to_private",{channel_id:t}),[2,this.doFetch(this.getChannelRoute(t)+"/convert",{method:"post"})]}))}))},this.updateChannelPrivacy=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_update_privacy",{channel_id:t,privacy:n}),[2,this.doFetch(this.getChannelRoute(t)+"/privacy",{method:"put",body:JSON.stringify({privacy:n})})]}))}))},this.patchChannel=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_patch",{channel_id:t}),[2,this.doFetch(this.getChannelRoute(t)+"/patch",{method:"put",body:JSON.stringify(n)})]}))}))},this.updateChannelNotifyProps=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_users_update_channel_notifcations",{channel_id:t.channel_id}),[2,this.doFetch(this.getChannelMemberRoute(t.channel_id,t.user_id)+"/notify_props",{method:"put",body:JSON.stringify(t)})]}))}))},this.updateChannelScheme=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(i){return e={scheme_id:n},this.trackEvent("api","api_channels_update_scheme",r.__assign({channel_id:t},e)),[2,this.doFetch(""+this.getChannelSchemeRoute(t),{method:"put",body:JSON.stringify(e)})]}))}))},this.getChannel=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channel_get",{channel_id:t}),[2,this.doFetch(""+this.getChannelRoute(t),{method:"get"})]}))}))},this.getChannelByName=function(t,n,i){return void 0===i&&(i=!1),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamRoute(t)+"/channels/name/"+n+"?include_deleted="+i,{method:"get"})]}))}))},this.getChannelByNameAndTeamName=function(t,n,i){return void 0===i&&(i=!1),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channel_get_by_name_and_teamName",{channel_name:n,team_name:t,include_deleted:i}),[2,this.doFetch(this.getTeamNameRoute(t)+"/channels/name/"+n+"?include_deleted="+i,{method:"get"})]}))}))},this.getChannels=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamRoute(t)+"/channels"+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.getMyChannels=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute("me")+"/teams/"+t+"/channels",{method:"get"})]}))}))},this.getMyChannelMember=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getChannelMemberRoute(t,"me"),{method:"get"})]}))}))},this.getMyChannelMembers=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute("me")+"/teams/"+t+"/channels/members",{method:"get"})]}))}))},this.getChannelMembers=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getChannelMembersRoute(t)+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.getChannelTimezones=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getChannelRoute(t)+"/timezones",{method:"get"})]}))}))},this.getChannelMember=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getChannelMemberRoute(t,n),{method:"get"})]}))}))},this.getChannelMembersByIds=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getChannelMembersRoute(t)+"/ids",{method:"post",body:JSON.stringify(n)})]}))}))},this.addToChannel=function(t,n,i){return void 0===i&&(i=""),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_channels_add_member",{channel_id:n}),e={user_id:t,channel_id:n,post_root_id:i},[2,this.doFetch(""+this.getChannelMembersRoute(n),{method:"post",body:JSON.stringify(e)})]}))}))},this.removeFromChannel=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_channels_remove_member",{channel_id:n}),[2,this.doFetch(""+this.getChannelMemberRoute(n,t),{method:"delete"})]}))}))},this.updateChannelMemberRoles=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getChannelMemberRoute(t,n)+"/roles",{method:"put",body:JSON.stringify({roles:i})})]}))}))},this.getChannelStats=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getChannelRoute(t)+"/stats",{method:"get"})]}))}))},this.viewMyChannel=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e={channel_id:t,prev_channel_id:n},[2,this.doFetch(this.getChannelsRoute()+"/members/me/view",{method:"post",body:JSON.stringify(e)})]}))}))},this.autocompleteChannels=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamRoute(t)+"/channels/autocomplete"+i.buildQueryString({name:n}),{method:"get"})]}))}))},this.autocompleteChannelsForSearch=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamRoute(t)+"/channels/search_autocomplete"+i.buildQueryString({name:n}),{method:"get"})]}))}))},this.searchChannels=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamRoute(t)+"/channels/search",{method:"post",body:JSON.stringify({term:n})})]}))}))},this.searchAllChannels=function(t,n,i){return void 0===n&&(n=""),void 0===i&&(i=!1),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e={term:t,not_associated_to_group:n,exclude_default_channels:i},[2,this.doFetch(this.getChannelsRoute()+"/search",{method:"post",body:JSON.stringify(e)})]}))}))},this.searchGroupChannels=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getChannelsRoute()+"/group/search",{method:"post",body:JSON.stringify({term:t})})]}))}))},this.updateChannelMemberSchemeRoles=function(t,n,i,o){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e={scheme_user:i,scheme_admin:o},[2,this.doFetch(this.getChannelRoute(t)+"/members/"+n+"/schemeRoles",{method:"put",body:JSON.stringify(e)})]}))}))},this.createPost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_create",{channel_id:t.channel_id}),null!=t.root_id&&""!==t.root_id&&this.trackEvent("api","api_posts_replied",{channel_id:t.channel_id}),[2,this.doFetch(""+this.getPostsRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.updatePost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_update",{channel_id:t.channel_id}),[2,this.doFetch(""+this.getPostRoute(t.id),{method:"put",body:JSON.stringify(t)})]}))}))},this.getPost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getPostRoute(t),{method:"get"})]}))}))},this.patchPost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_patch",{channel_id:t.channel_id}),[2,this.doFetch(this.getPostRoute(t.id)+"/patch",{method:"put",body:JSON.stringify(t)})]}))}))},this.deletePost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_delete"),[2,this.doFetch(""+this.getPostRoute(t),{method:"delete"})]}))}))},this.getPostThread=function(t,n){return void 0===n&&(n=!0),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPostRoute(t)+"/thread"+i.buildQueryString({fetchThreads:n}),{method:"get"})]}))}))},this.getPosts=function(t,n,o,s){return void 0===n&&(n=0),void 0===o&&(o=60),void 0===s&&(s=!0),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getChannelRoute(t)+"/posts"+i.buildQueryString({page:n,per_page:o,fetchThreads:s}),{method:"get"})]}))}))},this.getPostsUnread=function(n,o,s,a,u){return void 0===s&&(s=t.DEFAULT_LIMIT_AFTER),void 0===a&&(a=t.DEFAULT_LIMIT_BEFORE),void 0===u&&(u=!0),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getUserRoute(o)+"/channels/"+n+"/posts/unread"+i.buildQueryString({limit_after:s,limit_before:a,fetchThreads:u}),{method:"get"})]}))}))},this.getPostsSince=function(t,n,o){return void 0===o&&(o=!0),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getChannelRoute(t)+"/posts"+i.buildQueryString({since:n,fetchThreads:o}),{method:"get"})]}))}))},this.getPostsBefore=function(t,n,o,s,a){return void 0===o&&(o=0),void 0===s&&(s=60),void 0===a&&(a=!0),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_get_before",{channel_id:t}),[2,this.doFetch(this.getChannelRoute(t)+"/posts"+i.buildQueryString({before:n,page:o,per_page:s,fetchThreads:a}),{method:"get"})]}))}))},this.getPostsAfter=function(t,n,o,s,a){return void 0===o&&(o=0),void 0===s&&(s=60),void 0===a&&(a=!0),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_get_after",{channel_id:t}),[2,this.doFetch(this.getChannelRoute(t)+"/posts"+i.buildQueryString({after:n,page:o,per_page:s,fetchThreads:a}),{method:"get"})]}))}))},this.getFileInfosForPost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPostRoute(t)+"/files/info",{method:"get"})]}))}))},this.getFlaggedPosts=function(t,n,o,s,a){return void 0===n&&(n=""),void 0===o&&(o=""),void 0===s&&(s=0),void 0===a&&(a=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_get_flagged",{team_id:o}),[2,this.doFetch(this.getUserRoute(t)+"/posts/flagged"+i.buildQueryString({channel_id:n,team_id:o,page:s,per_page:a}),{method:"get"})]}))}))},this.getPinnedPosts=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_get_pinned",{channel_id:t}),[2,this.doFetch(this.getChannelRoute(t)+"/pinned",{method:"get"})]}))}))},this.pinPost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_pin"),[2,this.doFetch(this.getPostRoute(t)+"/pin",{method:"post"})]}))}))},this.unpinPost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_unpin"),[2,this.doFetch(this.getPostRoute(t)+"/unpin",{method:"post"})]}))}))},this.addReaction=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_reactions_save",{post_id:n}),[2,this.doFetch(""+this.getReactionsRoute(),{method:"post",body:JSON.stringify({user_id:t,post_id:n,emoji_name:i})})]}))}))},this.removeReaction=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_reactions_delete",{post_id:n}),[2,this.doFetch(this.getUserRoute(t)+"/posts/"+n+"/reactions/"+i,{method:"delete"})]}))}))},this.getReactionsForPost=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPostRoute(t)+"/reactions",{method:"get"})]}))}))},this.searchPostsWithParams=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_posts_search",{team_id:t}),[2,this.doFetch(this.getTeamRoute(t)+"/posts/search",{method:"post",body:JSON.stringify(n)})]}))}))},this.searchPosts=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.searchPostsWithParams(t,{terms:n,is_or_search:i})]}))}))},this.getOpenGraphMetadata=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/opengraph",{method:"post",body:JSON.stringify({url:t})})]}))}))},this.doPostAction=function(t,n,i){return void 0===i&&(i=""),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doPostActionWithCookie(t,n,"",i)]}))}))},this.doPostActionWithCookie=function(t,n,i,o){return void 0===o&&(o=""),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return o?this.trackEvent("api","api_interactive_messages_menu_selected"):this.trackEvent("api","api_interactive_messages_button_clicked"),e={selected_option:o},""!==i&&(e.cookie=i),[2,this.doFetch(this.getPostRoute(t)+"/actions/"+encodeURIComponent(n),{method:"post",body:JSON.stringify(e)})]}))}))},this.uploadFile=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_files_upload"),e={method:"post",body:t},n&&(e.headers={"Content-Type":"multipart/form-data; boundary="+n}),[2,this.doFetch(""+this.getFilesRoute(),e)]}))}))},this.getFilePublicLink=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getFileRoute(t)+"/link",{method:"get"})]}))}))},this.savePreferences=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getPreferencesRoute(t),{method:"put",body:JSON.stringify(n)})]}))}))},this.getMyPreferences=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getPreferencesRoute("me"),{method:"get"})]}))}))},this.deletePreferences=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPreferencesRoute(t)+"/delete",{method:"post",body:JSON.stringify(n)})]}))}))},this.ping=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/system/ping?time="+Date.now(),{method:"get"})]}))}))},this.logClientError=function(t,n){return void 0===n&&(n="ERROR"),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){if(e=this.getBaseRoute()+"/logs",!this.enableLogging)throw new l(this.getUrl(),{message:"Logging disabled.",url:e});return[2,this.doFetch(e,{method:"post",body:JSON.stringify({message:t,level:n})})]}))}))},this.getClientConfigOld=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/config/client?format=old",{method:"get"})]}))}))},this.getClientLicenseOld=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/license/client?format=old",{method:"get"})]}))}))},this.getTranslations=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(t,{method:"get"})]}))}))},this.getWebSocketUrl=function(){return e.getBaseRoute()+"/websocket"},this.webrtcToken=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/webrtc/token",{method:"get"})]}))}))},this.createIncomingWebhook=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_created",{team_id:t.team_id}),[2,this.doFetch(""+this.getIncomingHooksRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.getIncomingWebhook=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getIncomingHookRoute(t),{method:"get"})]}))}))},this.getIncomingWebhooks=function(t,n,o){return void 0===t&&(t=""),void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e={page:n,per_page:o},t&&(e.team_id=t),[2,this.doFetch(""+this.getIncomingHooksRoute()+i.buildQueryString(e),{method:"get"})]}))}))},this.removeIncomingWebhook=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_deleted"),[2,this.doFetch(""+this.getIncomingHookRoute(t),{method:"delete"})]}))}))},this.updateIncomingWebhook=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_updated",{team_id:t.team_id}),[2,this.doFetch(""+this.getIncomingHookRoute(t.id),{method:"put",body:JSON.stringify(t)})]}))}))},this.createOutgoingWebhook=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_created",{team_id:t.team_id}),[2,this.doFetch(""+this.getOutgoingHooksRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.getOutgoingWebhook=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getOutgoingHookRoute(t),{method:"get"})]}))}))},this.getOutgoingWebhooks=function(t,n,o,s){return void 0===t&&(t=""),void 0===n&&(n=""),void 0===o&&(o=0),void 0===s&&(s=60),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e={page:o,per_page:s},t&&(e.channel_id=t),n&&(e.team_id=n),[2,this.doFetch(""+this.getOutgoingHooksRoute()+i.buildQueryString(e),{method:"get"})]}))}))},this.removeOutgoingWebhook=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_deleted"),[2,this.doFetch(""+this.getOutgoingHookRoute(t),{method:"delete"})]}))}))},this.updateOutgoingWebhook=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_updated",{team_id:t.team_id}),[2,this.doFetch(""+this.getOutgoingHookRoute(t.id),{method:"put",body:JSON.stringify(t)})]}))}))},this.regenOutgoingHookToken=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getOutgoingHookRoute(t)+"/regen_token",{method:"post"})]}))}))},this.getCommandsList=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getCommandsRoute()+"?team_id="+t,{method:"get"})]}))}))},this.getAutocompleteCommandsList=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getTeamRoute(t)+"/commands/autocomplete"+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.getCustomTeamCommands=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getCommandsRoute()+"?team_id="+t+"&custom_only=true",{method:"get"})]}))}))},this.executeCommand=function(t,n){return void 0===n&&(n={}),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_used"),[2,this.doFetch(this.getCommandsRoute()+"/execute",{method:"post",body:JSON.stringify(r.__assign({command:t},n))})]}))}))},this.addCommand=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_created"),[2,this.doFetch(""+this.getCommandsRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.editCommand=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_created"),[2,this.doFetch(this.getCommandsRoute()+"/"+t.id,{method:"put",body:JSON.stringify(t)})]}))}))},this.regenCommandToken=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getCommandsRoute()+"/"+t+"/regen_token",{method:"put"})]}))}))},this.deleteCommand=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_integrations_deleted"),[2,this.doFetch(this.getCommandsRoute()+"/"+t,{method:"delete"})]}))}))},this.createOAuthApp=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_apps_register"),[2,this.doFetch(""+this.getOAuthAppsRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.editOAuthApp=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getOAuthAppsRoute()+"/"+t.id,{method:"put",body:JSON.stringify(t)})]}))}))},this.getOAuthApps=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getOAuthAppsRoute()+i.buildQueryString({page:t,per_page:n}),{method:"get"})]}))}))},this.getOAuthApp=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getOAuthAppRoute(t),{method:"get"})]}))}))},this.getOAuthAppInfo=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getOAuthAppRoute(t)+"/info",{method:"get"})]}))}))},this.deleteOAuthApp=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_apps_delete"),[2,this.doFetch(""+this.getOAuthAppRoute(t),{method:"delete"})]}))}))},this.regenOAuthAppSecret=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getOAuthAppRoute(t)+"/regen_secret",{method:"post"})]}))}))},this.submitInteractiveDialog=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_interactive_messages_dialog_submitted"),[2,this.doFetch(this.getBaseRoute()+"/actions/dialogs/submit",{method:"post",body:JSON.stringify(t)})]}))}))},this.createCustomEmoji=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,i;return r.__generator(this,(function(r){return this.trackEvent("api","api_emoji_custom_add"),(e=new c).append("image",n),e.append("emoji",JSON.stringify(t)),i={method:"post",body:e},e.getBoundary&&(i.headers={"Content-Type":"multipart/form-data; boundary="+e.getBoundary()}),[2,this.doFetch(""+this.getEmojisRoute(),i)]}))}))},this.getCustomEmoji=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getEmojisRoute()+"/"+t,{method:"get"})]}))}))},this.getCustomEmojiByName=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getEmojisRoute()+"/name/"+t,{method:"get"})]}))}))},this.getCustomEmojis=function(t,n,o){return void 0===t&&(t=0),void 0===n&&(n=60),void 0===o&&(o=""),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getEmojisRoute()+i.buildQueryString({page:t,per_page:n,sort:o}),{method:"get"})]}))}))},this.deleteCustomEmoji=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_emoji_custom_delete"),[2,this.doFetch(""+this.getEmojiRoute(t),{method:"delete"})]}))}))},this.getSystemEmojiImageUrl=function(t){return e.url+"/static/emoji/"+t+".png"},this.getCustomEmojiImageUrl=function(t){return e.getEmojiRoute(t)+"/image"},this.searchCustomEmoji=function(t,n){return void 0===n&&(n={}),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getEmojisRoute()+"/search",{method:"post",body:JSON.stringify(r.__assign({term:t},n))})]}))}))},this.autocompleteCustomEmoji=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getEmojisRoute()+"/autocomplete"+i.buildQueryString({name:t}),{method:"get"})]}))}))},this.getTimezones=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getTimezonesRoute(),{method:"get"})]}))}))},this.getDataRetentionPolicy=function(){return e.doFetch(e.getDataRetentionRoute()+"/policy",{method:"get"})},this.getJob=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getJobsRoute()+"/"+t,{method:"get"})]}))}))},this.getJobs=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getJobsRoute()+i.buildQueryString({page:t,per_page:n}),{method:"get"})]}))}))},this.getJobsByType=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getJobsRoute()+"/type/"+t+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.createJob=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getJobsRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.cancelJob=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getJobsRoute()+"/"+t+"/cancel",{method:"post"})]}))}))},this.getLogs=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=1e4),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/logs"+i.buildQueryString({page:t,logs_per_page:n}),{method:"get"})]}))}))},this.getAudits=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/audits"+i.buildQueryString({page:t,per_page:n}),{method:"get"})]}))}))},this.getConfig=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/config",{method:"get"})]}))}))},this.updateConfig=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/config",{method:"put",body:JSON.stringify(t)})]}))}))},this.reloadConfig=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/config/reload",{method:"post"})]}))}))},this.getEnvironmentConfig=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/config/environment",{method:"get"})]}))}))},this.testEmail=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/email/test",{method:"post",body:JSON.stringify(t)})]}))}))},this.testSiteURL=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/site_url/test",{method:"post",body:JSON.stringify({site_url:t})})]}))}))},this.testS3Connection=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/file/s3_test",{method:"post",body:JSON.stringify(t)})]}))}))},this.invalidateCaches=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/caches/invalidate",{method:"post"})]}))}))},this.recycleDatabase=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/database/recycle",{method:"post"})]}))}))},this.createComplianceReport=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/compliance/reports",{method:"post",body:JSON.stringify(t)})]}))}))},this.getComplianceReport=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/compliance/reports/"+t,{method:"get"})]}))}))},this.getComplianceReports=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/compliance/reports"+i.buildQueryString({page:t,per_page:n}),{method:"get"})]}))}))},this.uploadBrandImage=function(t){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){return(e=new c).append("image",t),n={method:"post",body:e},e.getBoundary&&(n.headers={"Content-Type":"multipart/form-data; boundary="+e.getBoundary()}),[2,this.doFetch(this.getBrandRoute()+"/image",n)]}))}))},this.deleteBrandImage=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBrandRoute()+"/image",{method:"delete"})]}))}))},this.getClusterStatus=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/cluster/status",{method:"get"})]}))}))},this.testLdap=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/ldap/test",{method:"post"})]}))}))},this.syncLdap=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/ldap/sync",{method:"post"})]}))}))},this.getLdapGroups=function(t,n,o){return void 0===t&&(t=0),void 0===n&&(n=60),void 0===o&&(o={}),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(s){return e=r.__assign({page:t,per_page:n},o),[2,this.doFetch(this.getBaseRoute()+"/ldap/groups"+i.buildQueryString(e),{method:"get"})]}))}))},this.linkLdapGroup=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/ldap/groups/"+encodeURI(t)+"/link",{method:"post"})]}))}))},this.unlinkLdapGroup=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/ldap/groups/"+encodeURI(t)+"/link",{method:"delete"})]}))}))},this.getSamlCertificateStatus=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/saml/certificate/status",{method:"get"})]}))}))},this.uploadPublicSamlCertificate=function(t){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return(e=new c).append("certificate",t),[2,this.doFetch(this.getBaseRoute()+"/saml/certificate/public",{method:"post",body:e})]}))}))},this.uploadPrivateSamlCertificate=function(t){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return(e=new c).append("certificate",t),[2,this.doFetch(this.getBaseRoute()+"/saml/certificate/private",{method:"post",body:e})]}))}))},this.uploadIdpSamlCertificate=function(t){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return(e=new c).append("certificate",t),[2,this.doFetch(this.getBaseRoute()+"/saml/certificate/idp",{method:"post",body:e})]}))}))},this.deletePublicSamlCertificate=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/saml/certificate/public",{method:"delete"})]}))}))},this.deletePrivateSamlCertificate=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/saml/certificate/private",{method:"delete"})]}))}))},this.deleteIdpSamlCertificate=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/saml/certificate/idp",{method:"delete"})]}))}))},this.testElasticsearch=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/elasticsearch/test",{method:"post",body:JSON.stringify(t)})]}))}))},this.purgeElasticsearchIndexes=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/elasticsearch/purge_indexes",{method:"post"})]}))}))},this.uploadLicense=function(t){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){return this.trackEvent("api","api_license_upload"),(e=new c).append("license",t),n={method:"post",body:e},e.getBoundary&&(n.headers={"Content-Type":"multipart/form-data; boundary="+e.getBoundary()}),[2,this.doFetch(this.getBaseRoute()+"/license",n)]}))}))},this.removeLicense=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/license",{method:"delete"})]}))}))},this.getAnalytics=function(t,n){return void 0===t&&(t="standard"),void 0===n&&(n=""),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/analytics/old"+i.buildQueryString({name:t,team_id:n}),{method:"get"})]}))}))},this.getRole=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getRolesRoute()+"/"+t,{method:"get"})]}))}))},this.getRoleByName=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getRolesRoute()+"/name/"+t,{method:"get"})]}))}))},this.getRolesByNames=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getRolesRoute()+"/names",{method:"post",body:JSON.stringify(t)})]}))}))},this.patchRole=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getRolesRoute()+"/"+t+"/patch",{method:"put",body:JSON.stringify(n)})]}))}))},this.getSchemes=function(t,n,o){return void 0===t&&(t=""),void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getSchemesRoute()+i.buildQueryString({scope:t,page:n,per_page:o}),{method:"get"})]}))}))},this.createScheme=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_schemes_create"),[2,this.doFetch(""+this.getSchemesRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.getScheme=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getSchemesRoute()+"/"+t,{method:"get"})]}))}))},this.deleteScheme=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_schemes_delete"),[2,this.doFetch(this.getSchemesRoute()+"/"+t,{method:"delete"})]}))}))},this.patchScheme=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_schemes_patch",{scheme_id:t}),[2,this.doFetch(this.getSchemesRoute()+"/"+t+"/patch",{method:"put",body:JSON.stringify(n)})]}))}))},this.getSchemeTeams=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getSchemesRoute()+"/"+t+"/teams"+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.getSchemeChannels=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getSchemesRoute()+"/"+t+"/channels"+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.uploadPlugin=function(t,n){return void 0===n&&(n=!1),r.__awaiter(e,void 0,void 0,(function(){var e,i;return r.__generator(this,(function(r){return this.trackEvent("api","api_plugin_upload"),e=new c,n&&e.append("force","true"),e.append("plugin",t),i={method:"post",body:e},e.getBoundary&&(i.headers={"Content-Type":"multipart/form-data; boundary="+e.getBoundary()}),[2,this.doFetch(this.getPluginsRoute(),i)]}))}))},this.installPluginFromUrl=function(t,n){return void 0===n&&(n=!1),r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return this.trackEvent("api","api_install_plugin"),e={plugin_download_url:t,force:n},[2,this.doFetch(this.getPluginsRoute()+"/install_from_url"+i.buildQueryString(e),{method:"post"})]}))}))},this.getPlugins=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPluginsRoute(),{method:"get"})]}))}))},this.getMarketplacePlugins=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getPluginsMarketplaceRoute()+i.buildQueryString({filter:t||""}),{method:"get"})]}))}))},this.getPluginStatuses=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPluginsRoute()+"/statuses",{method:"get"})]}))}))},this.removePlugin=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPluginRoute(t),{method:"delete"})]}))}))},this.getWebappPlugins=function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPluginsRoute()+"/webapp",{method:"get"})]}))}))},this.enablePlugin=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPluginRoute(t)+"/enable",{method:"post"})]}))}))},this.disablePlugin=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getPluginRoute(t)+"/disable",{method:"post"})]}))}))},this.linkGroupSyncable=function(t,n,i,o){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/groups/"+t+"/"+i+"s/"+n+"/link",{method:"post",body:JSON.stringify(o)})]}))}))},this.unlinkGroupSyncable=function(t,n,i){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/groups/"+t+"/"+i+"s/"+n+"/link",{method:"delete"})]}))}))},this.getGroupSyncables=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/groups/"+t+"/"+n+"s",{method:"get"})]}))}))},this.getGroupMembers=function(t,n,o){return void 0===n&&(n=0),void 0===o&&(o=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/groups/"+t+"/members"+i.buildQueryString({page:n,per_page:o}),{method:"get"})]}))}))},this.getGroup=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/groups/"+t,{method:"get"})]}))}))},this.getGroupsNotAssociatedToTeam=function(t,n,o,s){return void 0===n&&(n=""),void 0===o&&(o=0),void 0===s&&(s=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_groups_get_not_associated_to_team",{team_id:t}),[2,this.doFetch(this.getBaseRoute()+"/groups"+i.buildQueryString({not_associated_to_team:t,page:o,per_page:s,q:n,include_member_count:!0}),{method:"get"})]}))}))},this.getGroupsNotAssociatedToChannel=function(t,n,o,s){return void 0===n&&(n=""),void 0===o&&(o=0),void 0===s&&(s=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_groups_get_not_associated_to_channel",{channel_id:t}),[2,this.doFetch(this.getBaseRoute()+"/groups"+i.buildQueryString({not_associated_to_channel:t,page:o,per_page:s,q:n,include_member_count:!0}),{method:"get"})]}))}))},this.getGroupsAssociatedToTeam=function(t,n,o,s){return void 0===n&&(n=""),void 0===o&&(o=0),void 0===s&&(s=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_groups_get_associated_to_team",{team_id:t}),[2,this.doFetch(this.getBaseRoute()+"/teams/"+t+"/groups"+i.buildQueryString({page:o,per_page:s,q:n,include_member_count:!0}),{method:"get"})]}))}))},this.getGroupsAssociatedToChannel=function(t,n,o,s){return void 0===n&&(n=""),void 0===o&&(o=0),void 0===s&&(s=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.trackEvent("api","api_groups_get_associated_to_channel",{channel_id:t}),[2,this.doFetch(this.getBaseRoute()+"/channels/"+t+"/groups"+i.buildQueryString({page:o,per_page:s,q:n,include_member_count:!0}),{method:"get"})]}))}))},this.getAllGroupsAssociatedToTeam=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/teams/"+t+"/groups?paginate=false",{method:"get"})]}))}))},this.getAllGroupsAssociatedToChannel=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBaseRoute()+"/channels/"+t+"/groups?paginate=false",{method:"get"})]}))}))},this.getRedirectLocation=function(t){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return t.length?(e=""+this.getRedirectLocationRoute()+i.buildQueryString({url:t}),[2,this.doFetch(e,{method:"get"})]):[2,Promise.resolve()]}))}))},this.createBot=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getBotsRoute(),{method:"post",body:JSON.stringify(t)})]}))}))},this.patchBot=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getBotRoute(t),{method:"put",body:JSON.stringify(n)})]}))}))},this.getBot=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getBotRoute(t),{method:"get"})]}))}))},this.getBots=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getBotsRoute()+i.buildQueryString({page:t,per_page:n}),{method:"get"})]}))}))},this.getBotsIncludeDeleted=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getBotsRoute()+i.buildQueryString({include_deleted:!0,page:t,per_page:n}),{method:"get"})]}))}))},this.getBotsOrphaned=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=60),r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(""+this.getBotsRoute()+i.buildQueryString({only_orphaned:!0,page:t,per_page:n}),{method:"get"})]}))}))},this.disableBot=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBotRoute(t)+"/disable",{method:"post"})]}))}))},this.enableBot=function(t){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBotRoute(t)+"/enable",{method:"post"})]}))}))},this.assignBot=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.doFetch(this.getBotRoute(t)+"/assign/"+n,{method:"post"})]}))}))},this.teamMembersMinusGroupMembers=function(t,n,i,o){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e="group_ids="+n.join(",")+"&page="+i+"&per_page="+o,[2,this.doFetch(this.getTeamRoute(t)+"/members_minus_group_members?"+e,{method:"get"})]}))}))},this.channelMembersMinusGroupMembers=function(t,n,i,o){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e="group_ids="+n.join(",")+"&page="+i+"&per_page="+o,[2,this.doFetch(this.getChannelRoute(t)+"/members_minus_group_members?"+e,{method:"get"})]}))}))},this.doFetch=function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.doFetchWithResponse(t,n)];case 1:return[2,e.sent().data]}}))}))},this.doFetchWithResponse=function(n,i){return r.__awaiter(e,void 0,void 0,(function(){var e,o,s,a,c,_;return r.__generator(this,(function(E){switch(E.label){case 0:return[4,u.default(n,this.getOptions(i))];case 1:e=E.sent(),o=function(e){var t=new Map,n=new Map;return e.forEach((function(e,i){var o=i.replace(/\b[a-z]/g,(function(e){return e.toUpperCase()})),s=e;if(e&&e.match(/\n\S+:\s\S+/)){var a=e.split("\n");s=a.shift();var u=new Map(a.map((function(e){return e.split(/:\s/)})));n=new Map(r.__spread(n,u))}t.set(o,s)})),new Map(r.__spread(t,n))}(e.headers),E.label=2;case 2:return E.trys.push([2,4,,5]),[4,e.json()];case 3:return s=E.sent(),[3,5];case 4:throw E.sent(),new l(this.getUrl(),{message:"Received invalid response from the server.",intl:{id:"mobile.request.invalid_response",defaultMessage:"Received invalid response from the server."},url:n});case 5:if(o.has(t.HEADER_X_VERSION_ID)&&!o.get("Cache-Control")&&(a=o.get(t.HEADER_X_VERSION_ID))&&this.serverVersion!==a&&(this.serverVersion=a),o.has("X-Cluster-Id")&&(c=o.get("X-Cluster-Id"))&&this.clusterId!==c&&(this.clusterId=c),e.ok)return[2,{response:e,headers:o,data:s}];throw _=s.message||"",this.logToConsole&&console.error(_),new l(this.getUrl(),{message:_,server_error_id:s.id,status_code:s.status_code,url:n})}}))}))}}return n.prototype.getUrl=function(){return this.url},n.prototype.getAbsoluteUrl=function(e){return"string"==typeof e&&e.startsWith("/")?this.getUrl()+e:e},n.prototype.setUrl=function(e){this.url=e},n.prototype.setUserAgent=function(e){this.userAgent=e},n.prototype.getToken=function(){return this.token},n.prototype.setToken=function(e){this.token=e},n.prototype.setCSRF=function(e){this.csrf=e},n.prototype.setAcceptLanguage=function(e){this.defaultHeaders["Accept-Language"]=e},n.prototype.setEnableLogging=function(e){this.enableLogging=e},n.prototype.setIncludeCookies=function(e){this.includeCookies=e},n.prototype.setUserId=function(e){this.userId=e},n.prototype.setUserRoles=function(e){this.userRoles=e},n.prototype.setDiagnosticId=function(e){this.diagnosticId=e},n.prototype.getServerVersion=function(){return this.serverVersion},n.prototype.getUrlVersion=function(){return this.urlVersion},n.prototype.getBaseRoute=function(){return""+this.url+this.urlVersion},n.prototype.getUsersRoute=function(){return this.getBaseRoute()+"/users"},n.prototype.getUserRoute=function(e){return this.getUsersRoute()+"/"+e},n.prototype.getTeamsRoute=function(){return this.getBaseRoute()+"/teams"},n.prototype.getTeamRoute=function(e){return this.getTeamsRoute()+"/"+e},n.prototype.getTeamSchemeRoute=function(e){return this.getTeamRoute(e)+"/scheme"},n.prototype.getTeamNameRoute=function(e){return this.getTeamsRoute()+"/name/"+e},n.prototype.getTeamMembersRoute=function(e){return this.getTeamRoute(e)+"/members"},n.prototype.getTeamMemberRoute=function(e,t){return this.getTeamMembersRoute(e)+"/"+t},n.prototype.getChannelsRoute=function(){return this.getBaseRoute()+"/channels"},n.prototype.getChannelRoute=function(e){return this.getChannelsRoute()+"/"+e},n.prototype.getChannelMembersRoute=function(e){return this.getChannelRoute(e)+"/members"},n.prototype.getChannelMemberRoute=function(e,t){return this.getChannelMembersRoute(e)+"/"+t},n.prototype.getChannelSchemeRoute=function(e){return this.getChannelRoute(e)+"/scheme"},n.prototype.getPostsRoute=function(){return this.getBaseRoute()+"/posts"},n.prototype.getPostRoute=function(e){return this.getPostsRoute()+"/"+e},n.prototype.getReactionsRoute=function(){return this.getBaseRoute()+"/reactions"},n.prototype.getCommandsRoute=function(){return this.getBaseRoute()+"/commands"},n.prototype.getFilesRoute=function(){return this.getBaseRoute()+"/files"},n.prototype.getFileRoute=function(e){return this.getFilesRoute()+"/"+e},n.prototype.getPreferencesRoute=function(e){return this.getUserRoute(e)+"/preferences"},n.prototype.getIncomingHooksRoute=function(){return this.getBaseRoute()+"/hooks/incoming"},n.prototype.getIncomingHookRoute=function(e){return this.getBaseRoute()+"/hooks/incoming/"+e},n.prototype.getOutgoingHooksRoute=function(){return this.getBaseRoute()+"/hooks/outgoing"},n.prototype.getOutgoingHookRoute=function(e){return this.getBaseRoute()+"/hooks/outgoing/"+e},n.prototype.getOAuthRoute=function(){return this.url+"/oauth"},n.prototype.getOAuthAppsRoute=function(){return this.getBaseRoute()+"/oauth/apps"},n.prototype.getOAuthAppRoute=function(e){return this.getOAuthAppsRoute()+"/"+e},n.prototype.getEmojisRoute=function(){return this.getBaseRoute()+"/emoji"},n.prototype.getEmojiRoute=function(e){return this.getEmojisRoute()+"/"+e},n.prototype.getBrandRoute=function(){return this.getBaseRoute()+"/brand"},n.prototype.getBrandImageUrl=function(e){return this.getBrandRoute()+"/image?t="+e},n.prototype.getDataRetentionRoute=function(){return this.getBaseRoute()+"/data_retention"},n.prototype.getJobsRoute=function(){return this.getBaseRoute()+"/jobs"},n.prototype.getPluginsRoute=function(){return this.getBaseRoute()+"/plugins"},n.prototype.getPluginRoute=function(e){return this.getPluginsRoute()+"/"+e},n.prototype.getPluginsMarketplaceRoute=function(){return this.getPluginsRoute()+"/marketplace"},n.prototype.getRolesRoute=function(){return this.getBaseRoute()+"/roles"},n.prototype.getTimezonesRoute=function(){return this.getBaseRoute()+"/system/timezones"},n.prototype.getSchemesRoute=function(){return this.getBaseRoute()+"/schemes"},n.prototype.getRedirectLocationRoute=function(){return this.getBaseRoute()+"/redirect_location"},n.prototype.getBotsRoute=function(){return this.getBaseRoute()+"/bots"},n.prototype.getBotRoute=function(e){return this.getBotsRoute()+"/"+e},n.prototype.getCSRFFromCookie=function(){if("undefined"!=typeof document&&void 0!==document.cookie)for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t].trim();if(n.startsWith("MMCSRF="))return n.replace("MMCSRF=","")}return""},n.prototype.getOptions=function(e){var t,n=r.__assign({},e),i=r.__assign(((t={})["X-Requested-With"]="XMLHttpRequest",t),this.defaultHeaders);this.token&&(i.Authorization="BEARER "+this.token);var o=this.csrf||this.getCSRFFromCookie();return e.method&&"get"!==e.method.toLowerCase()&&o&&(i["X-CSRF-Token"]=o),this.includeCookies&&(n.credentials="include"),this.userAgent&&(i["User-Agent"]=this.userAgent),n.headers&&Object.assign(i,n.headers),r.__assign(r.__assign({},n),{headers:i})},n.prototype.getFileUrl=function(e,t){var n=""+this.getFileRoute(e);return t&&(n+="?"+t),n},n.prototype.getFileThumbnailUrl=function(e,t){var n=this.getFileRoute(e)+"/thumbnail";return t&&(n+="?"+t),n},n.prototype.getFilePreviewUrl=function(e,t){var n=this.getFileRoute(e)+"/preview";return t&&(n+="?"+t),n},n.prototype.trackEvent=function(t,n,r){if(["api_posts_create","api_interactive_messages_button_clicked","api_interactive_messages_menu_selected","api_interactive_messages_dialog_submitted","ui_marketplace_download","ui_marketplace_configure","ui_marketplace_opened","ui_marketplace_closed","ui_marketplace_search"].includes(n)){var i=Object.assign({category:t,type:n,user_actual_role:this.userRoles&&a.isSystemAdmin(this.userRoles)?"system_admin, system_user":"system_user",user_actual_id:this.userId},r),o={context:{ip:"0.0.0.0"},page:{path:"",referrer:"",search:"",title:"",url:""},anonymousId:"00000000000000000000000000"},s=e;s&&s.window&&s.window.analytics&&s.window.analytics.initialized?s.window.analytics.track("event",i,o):s&&s.analytics&&(s.analytics_context&&(o.context=s.analytics_context),s.analytics.track(Object.assign({event:"event",userId:this.diagnosticId},{properties:i},o)))}},n}();t.default=_;var l=function(e){function t(t,n){var r=e.call(this,n.message+": "+o.cleanUrlForLogging(t,n.url))||this;return r.message=n.message,r.url=n.url,r.intl=n.intl,r.server_error_id=n.server_error_id,r.status_code=n.status_code,Object.defineProperty(r,"message",{enumerable:!0}),r}return r.__extends(t,e),t}(Error);t.ClientError=l}).call(this,n(61))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanUrlForLogging=function(e,t){var n=t,r=(n=n.substring(e.length)).indexOf("?");-1!==r&&(n=n.substring(0,r));var i=["api","v4","users","teams","scheme","name","members","channels","posts","reactions","commands","files","preferences","hooks","incoming","outgoing","oauth","apps","emoji","brand","image","data_retention","jobs","plugins","roles","system","timezones","schemes","redirect_location","patch","mfa","password","reset","send","active","verify","terms_of_service","login","logout","ids","usernames","me","username","email","default","sessions","revoke","all","audits","device","status","search","switch","authorized","authorize","deauthorize","tokens","disable","enable","exists","unread","invite","batch","stats","import","schemeRoles","direct","group","convert","view","search_autocomplete","thread","info","flagged","pinned","pin","unpin","opengraph","actions","thumbnail","preview","link","delete","logs","ping","config","client","license","websocket","webrtc","token","regen_token","autocomplete","execute","regen_secret","policy","type","cancel","reload","environment","s3_test","file","caches","invalidate","database","recycle","compliance","reports","cluster","ldap","test","sync","saml","certificate","public","private","idp","elasticsearch","purge_indexes","analytics","old","webapp","fake"];return n=n.split("/").map((function(e){return""!==e&&-1===i.indexOf(e)?"<filtered>":e})).join("/"),-1!==r&&(n+="?<filtered>"),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i={};t.default=function(e,t){if(void 0===t&&(t={headers:{}}),e=e||t.url,"GET"===t.method||!t.method){var n=i[e],o=r[""+e+n];return n&&(t.headers["If-None-Match"]=n),fetch(e,t).then((function(t){if(304===t.status)return o.clone();if(200===t.status){var n=t.headers.get("Etag");n&&(r[""+e+n]=t.clone(),i[e]=n)}return t}))}return Reflect.apply(fetch,void 0,[e,t])}},function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(35),i=n(138),o=n(33),s=n(51),a=n(141),u=s.set,c=s.getterFor("Array Iterator");e.exports=a(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(6),i=n(77),o=n(18),s=r("unscopables"),a=Array.prototype;null==a[s]&&o(a,s,i(null)),e.exports=function(e){a[s][e]=!0}},function(e,t,n){var r=n(22),i=n(32),o=n(10),s=n(140);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=r.length,u=0;a>u;)i.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(67),i=n(55);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(45),i=n(142),o=n(79),s=n(145),a=n(56),u=n(18),c=n(36),_=n(6),l=n(38),E=n(33),d=n(78),f=d.IteratorPrototype,h=d.BUGGY_SAFARI_ITERATORS,p=_("iterator"),g=function(){return this};e.exports=function(e,t,n,_,d,C,m){i(n,t,_);var T,S,v,y=function(e){if(e===d&&O)return O;if(!h&&e in I)return I[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",A=!1,I=e.prototype,N=I[p]||I["@@iterator"]||d&&I[d],O=!h&&N||y(d),L="Array"==t&&I.entries||N;if(L&&(T=o(L.call(new e)),f!==Object.prototype&&T.next&&(l||o(T)===f||(s?s(T,f):"function"!=typeof T[p]&&u(T,p,g)),a(T,R,!0,!0),l&&(E[R]=g))),"values"==d&&N&&"values"!==N.name&&(A=!0,O=function(){return N.call(this)}),l&&!m||I[p]===O||u(I,p,O),E[t]=O,d)if(S={values:y("values"),keys:C?O:y("keys"),entries:y("entries")},m)for(v in S)(h||A||!(v in I))&&c(I,v,S[v]);else r({target:t,proto:!0,forced:h||A},S);return S}},function(e,t,n){"use strict";var r=n(78).IteratorPrototype,i=n(77),o=n(47),s=n(56),a=n(33),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,c,!1,!0),a[c]=u,e}},function(e,t,n){var r=n(48);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(15);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(10),i=n(146);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){var r=n(16);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({CHANNEL_REQUEST:null,CHANNEL_SUCCESS:null,CHANNEL_FAILURE:null,CHANNELS_REQUEST:null,CHANNELS_SUCCESS:null,CHANNELS_FAILURE:null,CREATE_CHANNEL_REQUEST:null,CREATE_CHANNEL_SUCCESS:null,CREATE_CHANNEL_FAILURE:null,UPDATE_CHANNEL_REQUEST:null,UPDATE_CHANNEL_SUCCESS:null,UPDATE_CHANNEL_FAILURE:null,DELETE_CHANNEL_SUCCESS:null,GET_CHANNELS_REQUEST:null,GET_CHANNELS_SUCCESS:null,GET_CHANNELS_FAILURE:null,GET_ALL_CHANNELS_REQUEST:null,GET_ALL_CHANNELS_SUCCESS:null,GET_ALL_CHANNELS_FAILURE:null,GET_CHANNELS_TIMEZONE_REQUEST:null,GET_CHANNELS_TIMEZONE_SUCCESS:null,GET_CHANNELS_TIMEZONE_FAILURE:null,CHANNEL_STATS_REQUEST:null,CHANNEL_STATS_SUCCESS:null,CHANNEL_STATS_FAILURE:null,ADD_CHANNEL_MEMBER_REQUEST:null,ADD_CHANNEL_MEMBER_SUCCESS:null,REMOVE_CHANNEL_MEMBER_SUCCESS:null,SELECT_CHANNEL:null,LEAVE_CHANNEL:null,REMOVE_MEMBER_FROM_CHANNEL:null,RECEIVED_CHANNEL:null,RECEIVED_CHANNELS:null,RECEIVED_ALL_CHANNELS:null,RECEIVED_CHANNELS_LIST:null,RECEIVED_MY_CHANNEL_MEMBERS:null,RECEIVED_MY_CHANNEL_MEMBER:null,RECEIVED_CHANNEL_MEMBERS:null,RECEIVED_CHANNEL_MEMBER:null,RECEIVED_CHANNEL_STATS:null,RECEIVED_CHANNEL_PROPS:null,RECEIVED_CHANNEL_DELETED:null,RECEIVED_LAST_VIEWED_AT:null,UPDATE_CHANNEL_HEADER:null,UPDATE_CHANNEL_PURPOSE:null,CHANNEL_MEMBER_ADDED:null,CHANNEL_MEMBER_REMOVED:null,INCREMENT_TOTAL_MSG_COUNT:null,INCREMENT_UNREAD_MSG_COUNT:null,DECREMENT_UNREAD_MSG_COUNT:null,INCREMENT_UNREAD_MENTION_COUNT:null,DECREMENT_UNREAD_MENTION_COUNT:null,UPDATED_CHANNEL_SCHEME:null,UPDATED_CHANNEL_MEMBER_SCHEME_ROLES:null,RECEIVED_CHANNEL_MEMBERS_MINUS_GROUP_MEMBERS:null,RECEIVED_TOTAL_CHANNEL_COUNT:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({DISMISS_ERROR:null,LOG_ERROR:null,CLEAR_ERRORS:null,RESTORE_ERRORS:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({RECEIVED_APP_STATE:null,RECEIVED_APP_CREDENTIALS:null,REMOVED_APP_CREDENTIALS:null,RECEIVED_APP_DEVICE_TOKEN:null,PING_RESET:null,RECEIVED_SERVER_VERSION:null,CLIENT_CONFIG_RECEIVED:null,CLIENT_CONFIG_RESET:null,CLIENT_LICENSE_RECEIVED:null,CLIENT_LICENSE_RESET:null,RECEIVED_DATA_RETENTION_POLICY:null,LOG_CLIENT_ERROR_REQUEST:null,LOG_CLIENT_ERROR_SUCCESS:null,LOG_CLIENT_ERROR_FAILURE:null,SUPPORTED_TIMEZONES_REQUEST:null,SUPPORTED_TIMEZONES_SUCCESS:null,SUPPORTED_TIMEZONES_FAILURE:null,SUPPORTED_TIMEZONES_RECEIVED:null,WEBSOCKET_REQUEST:null,WEBSOCKET_SUCCESS:null,WEBSOCKET_FAILURE:null,WEBSOCKET_CLOSED:null,REDIRECT_LOCATION_SUCCESS:null,REDIRECT_LOCATION_FAILURE:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({CREATE_USER_REQUEST:null,CREATE_USER_SUCCESS:null,CREATE_USER_FAILURE:null,LOGIN_REQUEST:null,LOGIN_SUCCESS:null,LOGIN_FAILURE:null,LOGOUT_REQUEST:null,LOGOUT_SUCCESS:null,LOGOUT_FAILURE:null,REVOKE_ALL_USER_SESSIONS_SUCCESS:null,REVOKE_SESSIONS_FOR_ALL_USERS_SUCCESS:null,CHECK_MFA_REQUEST:null,CHECK_MFA_SUCCESS:null,CHECK_MFA_FAILURE:null,AUTOCOMPLETE_USERS_REQUEST:null,AUTOCOMPLETE_USERS_SUCCESS:null,AUTOCOMPLETE_USERS_FAILURE:null,UPDATE_ME_REQUEST:null,UPDATE_ME_SUCCESS:null,UPDATE_ME_FAILURE:null,RECEIVED_ME:null,RECEIVED_TERMS_OF_SERVICE_STATUS:null,RECEIVED_PROFILE:null,RECEIVED_PROFILES:null,RECEIVED_PROFILES_LIST:null,RECEIVED_PROFILES_IN_TEAM:null,RECEIVED_PROFILE_IN_TEAM:null,RECEIVED_PROFILES_LIST_IN_TEAM:null,RECEIVED_PROFILE_NOT_IN_TEAM:null,RECEIVED_PROFILES_LIST_NOT_IN_TEAM:null,RECEIVED_PROFILES_LIST_NOT_IN_TEAM_AND_REPLACE:null,RECEIVED_PROFILE_WITHOUT_TEAM:null,RECEIVED_PROFILES_LIST_WITHOUT_TEAM:null,RECEIVED_PROFILES_IN_CHANNEL:null,RECEIVED_PROFILES_LIST_IN_CHANNEL:null,RECEIVED_PROFILE_IN_CHANNEL:null,RECEIVED_PROFILES_NOT_IN_CHANNEL:null,RECEIVED_PROFILES_LIST_NOT_IN_CHANNEL:null,RECEIVED_PROFILES_LIST_NOT_IN_CHANNEL_AND_REPLACE:null,RECEIVED_PROFILE_NOT_IN_CHANNEL:null,RECEIVED_SESSIONS:null,RECEIVED_REVOKED_SESSION:null,RECEIVED_AUDITS:null,RECEIVED_STATUS:null,RECEIVED_STATUSES:null,RECEIVED_AUTOCOMPLETE_IN_CHANNEL:null,RESET_LOGOUT_STATE:null,RECEIVED_MY_USER_ACCESS_TOKEN:null,RECEIVED_MY_USER_ACCESS_TOKENS:null,CLEAR_MY_USER_ACCESS_TOKENS:null,REVOKED_USER_ACCESS_TOKEN:null,DISABLED_USER_ACCESS_TOKEN:null,ENABLED_USER_ACCESS_TOKEN:null,RECEIVED_USER_STATS:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({GET_TEAMS_REQUEST:null,GET_TEAMS_SUCCESS:null,GET_TEAMS_FAILURE:null,MY_TEAMS_REQUEST:null,MY_TEAMS_SUCCESS:null,MY_TEAMS_FAILURE:null,CREATE_TEAM_REQUEST:null,CREATE_TEAM_SUCCESS:null,CREATE_TEAM_FAILURE:null,GET_TEAM_MEMBERS_REQUEST:null,GET_TEAM_MEMBERS_SUCCESS:null,GET_TEAM_MEMBERS_FAILURE:null,JOIN_TEAM_REQUEST:null,JOIN_TEAM_SUCCESS:null,JOIN_TEAM_FAILURE:null,TEAM_INVITE_INFO_REQUEST:null,TEAM_INVITE_INFO_SUCCESS:null,TEAM_INVITE_INFO_FAILURE:null,ADD_TO_TEAM_FROM_INVITE_REQUEST:null,ADD_TO_TEAM_FROM_INVITE_SUCCESS:null,ADD_TO_TEAM_FROM_INVITE_FAILURE:null,CREATED_TEAM:null,SELECT_TEAM:null,UPDATED_TEAM:null,PATCHED_TEAM:null,REGENERATED_TEAM_INVITE_ID:null,RECEIVED_TEAM:null,RECEIVED_TEAMS:null,RECEIVED_TEAM_DELETED:null,RECEIVED_TEAMS_LIST:null,RECEIVED_MY_TEAM_MEMBERS:null,RECEIVED_MY_TEAM_MEMBER:null,RECEIVED_TEAM_MEMBERS:null,RECEIVED_MEMBERS_IN_TEAM:null,RECEIVED_MEMBER_IN_TEAM:null,REMOVE_MEMBER_FROM_TEAM:null,RECEIVED_TEAM_STATS:null,RECEIVED_MY_TEAM_UNREADS:null,LEAVE_TEAM:null,UPDATED_TEAM_SCHEME:null,UPDATED_TEAM_MEMBER_SCHEME_ROLES:null,RECEIVED_TEAM_MEMBERS_MINUS_GROUP_MEMBERS:null,RECEIVED_TOTAL_TEAM_COUNT:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({CREATE_POST_REQUEST:null,CREATE_POST_SUCCESS:null,CREATE_POST_FAILURE:null,CREATE_POST_RESET_REQUEST:null,EDIT_POST_REQUEST:null,EDIT_POST_SUCCESS:null,EDIT_POST_FAILURE:null,GET_POST_THREAD_REQUEST:null,GET_POST_THREAD_SUCCESS:null,GET_POST_THREAD_FAILURE:null,GET_POSTS_SUCCESS:null,GET_POSTS_FAILURE:null,GET_POSTS_SINCE_SUCCESS:null,GET_POST_THREAD_WITH_RETRY_ATTEMPT:null,GET_POSTS_WITH_RETRY_ATTEMPT:null,GET_POSTS_SINCE_WITH_RETRY_ATTEMPT:null,GET_POSTS_BEFORE_WITH_RETRY_ATTEMPT:null,GET_POSTS_AFTER_WITH_RETRY_ATTEMPT:null,RECEIVED_POST:null,RECEIVED_NEW_POST:null,RECEIVED_POSTS:null,RECEIVED_POSTS_AFTER:null,RECEIVED_POSTS_BEFORE:null,RECEIVED_POSTS_IN_CHANNEL:null,RECEIVED_POSTS_IN_THREAD:null,RECEIVED_POSTS_SINCE:null,POST_DELETED:null,POST_REMOVED:null,RECEIVED_FOCUSED_POST:null,RECEIVED_POST_SELECTED:null,RECEIVED_EDIT_POST:null,RECEIVED_REACTION:null,RECEIVED_REACTIONS:null,REACTION_DELETED:null,RECEIVED_OPEN_GRAPH_METADATA:null,ADD_MESSAGE_INTO_HISTORY:null,RESET_HISTORY_INDEX:null,MOVE_HISTORY_INDEX_BACK:null,MOVE_HISTORY_INDEX_FORWARD:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({UPLOAD_FILES_REQUEST:null,UPLOAD_FILES_SUCCESS:null,UPLOAD_FILES_FAILURE:null,UPLOAD_FILES_CANCEL:null,RECEIVED_FILES_FOR_POST:null,RECEIVED_UPLOAD_FILES:null,RECEIVED_FILE_PUBLIC_LINK:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({MY_PREFERENCES_REQUEST:null,MY_PREFERENCES_SUCCESS:null,MY_PREFERENCES_FAILURE:null,SAVE_PREFERENCES_REQUEST:null,SAVE_PREFERENCES_SUCCESS:null,SAVE_PREFERENCES_FAILURE:null,DELETE_PREFERENCES_REQUEST:null,DELETE_PREFERENCES_SUCCESS:null,DELETE_PREFERENCES_FAILURE:null,RECEIVED_PREFERENCES:null,RECEIVED_ALL_PREFERENCES:null,DELETED_PREFERENCES:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({GET_INCOMING_HOOKS_REQUEST:null,GET_INCOMING_HOOKS_SUCCESS:null,GET_INCOMING_HOOKS_FAILURE:null,CREATE_INCOMING_HOOK_REQUEST:null,CREATE_INCOMING_HOOK_SUCCESS:null,CREATE_INCOMING_HOOK_FAILURE:null,DELETE_INCOMING_HOOK_REQUEST:null,DELETE_INCOMING_HOOK_SUCCESS:null,DELETE_INCOMING_HOOK_FAILURE:null,UPDATE_INCOMING_HOOK_REQUEST:null,UPDATE_INCOMING_HOOK_SUCCESS:null,UPDATE_INCOMING_HOOK_FAILURE:null,GET_OUTGOING_HOOKS_REQUEST:null,GET_OUTGOING_HOOKS_SUCCESS:null,GET_OUTGOING_HOOKS_FAILURE:null,CREATE_OUTGOING_HOOK_REQUEST:null,CREATE_OUTGOING_HOOK_SUCCESS:null,CREATE_OUTGOING_HOOK_FAILURE:null,DELETE_OUTGOING_HOOK_REQUEST:null,DELETE_OUTGOING_HOOK_SUCCESS:null,DELETE_OUTGOING_HOOK_FAILURE:null,UPDATE_OUTGOING_HOOK_REQUEST:null,UPDATE_OUTGOING_HOOK_SUCCESS:null,UPDATE_OUTGOING_HOOK_FAILURE:null,GET_CUSTOM_TEAM_COMMANDS_REQUEST:null,GET_CUSTOM_TEAM_COMMANDS_SUCCESS:null,GET_CUSTOM_TEAM_COMMANDS_FAILURE:null,GET_AUTOCOMPLETE_COMMANDS_REQUEST:null,GET_AUTOCOMPLETE_COMMANDS_SUCCESS:null,GET_AUTOCOMPLETE_COMMANDS_FAILURE:null,GET_COMMANDS_REQUEST:null,GET_COMMANDS_SUCCESS:null,GET_COMMANDS_FAILURE:null,ADD_COMMAND_REQUEST:null,ADD_COMMAND_SUCCESS:null,ADD_COMMAND_FAILURE:null,EDIT_COMMAND_REQUEST:null,EDIT_COMMAND_SUCCESS:null,EDIT_COMMAND_FAILURE:null,DELETE_COMMAND_REQUEST:null,DELETE_COMMAND_SUCCESS:null,DELETE_COMMAND_FAILURE:null,REGEN_COMMAND_TOKEN_REQUEST:null,REGEN_COMMAND_TOKEN_SUCCESS:null,REGEN_COMMAND_TOKEN_FAILURE:null,ADD_OAUTH_APP_REQUEST:null,ADD_OAUTH_APP_SUCCESS:null,ADD_OAUTH_APP_FAILURE:null,GET_OAUTH_APPS_REQUEST:null,GET_OAUTH_APPS_SUCCESS:null,GET_OAUTH_APPS_FAILURE:null,GET_OAUTH_APP_REQUEST:null,GET_OAUTH_APP_SUCCESS:null,GET_OAUTH_APP_FAILURE:null,GET_AUTHORIZED_OAUTH_APPS_REQUEST:null,GET_AUTHORIZED_OAUTH_APPS_SUCCESS:null,GET_AUTHORIZED_OAUTH_APPS_FAILURE:null,DELETE_OAUTH_APP_REQUEST:null,DELETE_OAUTH_APP_SUCCESS:null,DELETE_OAUTH_APP_FAILURE:null,UPDATE_OAUTH_APP_REQUEST:null,UPDATE_OAUTH_APP_SUCCESS:null,UPDATE_OAUTH_APP_FAILURE:null,DEAUTHORIZE_OAUTH_APP_REQUEST:null,DEAUTHORIZE_OAUTH_APP_SUCCESS:null,DEAUTHORIZE_OAUTH_APP_FAILURE:null,EXECUTE_COMMAND_REQUEST:null,EXECUTE_COMMAND_SUCCESS:null,EXECUTE_COMMAND_FAILURE:null,RECEIVED_INCOMING_HOOK:null,RECEIVED_INCOMING_HOOKS:null,DELETED_INCOMING_HOOK:null,RECEIVED_OUTGOING_HOOK:null,RECEIVED_OUTGOING_HOOKS:null,DELETED_OUTGOING_HOOK:null,RECEIVED_CUSTOM_TEAM_COMMANDS:null,RECEIVED_COMMAND:null,RECEIVED_COMMANDS:null,RECEIVED_COMMAND_TOKEN:null,DELETED_COMMAND:null,RECEIVED_OAUTH_APP:null,RECEIVED_OAUTH_APPS:null,DELETED_OAUTH_APP:null,SUBMIT_INTERACTIVE_DIALOG_REQUEST:null,SUBMIT_INTERACTIVE_DIALOG_SUCCESS:null,SUBMIT_INTERACTIVE_DIALOG_FAILURE:null,RECEIVED_DIALOG_TRIGGER_ID:null,RECEIVED_DIALOG:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({CLEAR_CUSTOM_EMOJIS:null,RECEIVED_CUSTOM_EMOJI:null,RECEIVED_CUSTOM_EMOJIS:null,DELETED_CUSTOM_EMOJI:null,CUSTOM_EMOJI_DOES_NOT_EXIST:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({SAVE_APP_PROPS:null,SEARCH_REQUEST:null,SEARCH_FAILURE:null,SEARCH_SUCCESS:null,SEARCH_BY_ID_REQUEST:null,SEARCH_BY_ID_FAILURE:null,SEARCH_BY_ID_SUCCESS:null,SELECT_SEARCH_TEXT:null,INVALIDATE_SEARCH_TEXT:null,REQUEST_SEARCH:null,RECEIVE_SEARCH:null,RECEIVE_SEARCH_END:null,RECEIVE_CATEGORY_SEARCH:null,CLEAR_SEARCH_RESULTS:null,SAVE_SEARCH_SCROLL_POSITION:null,SAVE_SEARCH_PRIOR_LOCATION:null,UPDATE_SEARCH_TEXT:null,SAVE_SEARCH_BAR_TEXT:null,REQUEST_CATEGORIES_LIST:null,CATEGORIES_LIST_RECEIVED:null,CATEGORIES_LIST_FAILURE:null,CACHE_GIFS:null,CACHE_REQUEST:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({GET_LOGS_REQUEST:null,GET_LOGS_SUCCESS:null,GET_LOGS_FAILURE:null,GET_AUDITS_REQUEST:null,GET_AUDITS_SUCCESS:null,GET_AUDITS_FAILURE:null,GET_CONFIG_REQUEST:null,GET_CONFIG_SUCCESS:null,GET_CONFIG_FAILURE:null,UPDATE_CONFIG_REQUEST:null,UPDATE_CONFIG_SUCCESS:null,UPDATE_CONFIG_FAILURE:null,RELOAD_CONFIG_REQUEST:null,RELOAD_CONFIG_SUCCESS:null,RELOAD_CONFIG_FAILURE:null,GET_ENVIRONMENT_CONFIG_REQUEST:null,GET_ENVIRONMENT_CONFIG_SUCCESS:null,GET_ENVIRONMENT_CONFIG_FAILURE:null,TEST_EMAIL_REQUEST:null,TEST_EMAIL_SUCCESS:null,TEST_EMAIL_FAILURE:null,TEST_SITE_URL_REQUEST:null,TEST_SITE_URL_SUCCESS:null,TEST_SITE_URL_FAILURE:null,TEST_S3_REQUEST:null,TEST_S3_SUCCESS:null,TEST_S3_FAILURE:null,INVALIDATE_CACHES_REQUEST:null,INVALIDATE_CACHES_SUCCESS:null,INVALIDATE_CACHES_FAILURE:null,RECYCLE_DATABASE_REQUEST:null,RECYCLE_DATABASE_SUCCESS:null,RECYCLE_DATABASE_FAILURE:null,CREATE_COMPLIANCE_REQUEST:null,CREATE_COMPLIANCE_SUCCESS:null,CREATE_COMPLIANCE_FAILURE:null,GET_COMPLIANCE_REQUEST:null,GET_COMPLIANCE_SUCCESS:null,GET_COMPLIANCE_FAILURE:null,UPLOAD_BRAND_IMAGE_REQUEST:null,UPLOAD_BRAND_IMAGE_SUCCESS:null,UPLOAD_BRAND_IMAGE_FAILURE:null,DELETE_BRAND_IMAGE_REQUEST:null,DELETE_BRAND_IMAGE_SUCCESS:null,DELETE_BRAND_IMAGE_FAILURE:null,GET_CLUSTER_STATUS_REQUEST:null,GET_CLUSTER_STATUS_SUCCESS:null,GET_CLUSTER_STATUS_FAILURE:null,TEST_LDAP_REQUEST:null,TEST_LDAP_SUCCESS:null,TEST_LDAP_FAILURE:null,SYNC_LDAP_REQUEST:null,SYNC_LDAP_SUCCESS:null,SYNC_LDAP_FAILURE:null,GET_LDAP_GROUPS_REQUEST:null,GET_LDAP_GROUPS_SUCCESS:null,GET_LDAP_GROUPS_FAILURE:null,LINK_LDAP_GROUP_REQUEST:null,LINK_LDAP_GROUP_SUCCESS:null,LINK_LDAP_GROUP_FAILURE:null,UNLINK_LDAP_GROUP_REQUEST:null,UNLINK_LDAP_GROUP_SUCCESS:null,UNLINK_LDAP_GROUP_FAILURE:null,SAML_CERT_STATUS_REQUEST:null,SAML_CERT_STATUS_SUCCESS:null,SAML_CERT_STATUS_FAILURE:null,UPLOAD_SAML_PUBLIC_REQUEST:null,UPLOAD_SAML_PUBLIC_SUCCESS:null,UPLOAD_SAML_PUBLIC_FAILURE:null,UPLOAD_SAML_PRIVATE_REQUEST:null,UPLOAD_SAML_PRIVATE_SUCCESS:null,UPLOAD_SAML_PRIVATE_FAILURE:null,UPLOAD_SAML_IDP_REQUEST:null,UPLOAD_SAML_IDP_SUCCESS:null,UPLOAD_SAML_IDP_FAILURE:null,DELETE_SAML_PUBLIC_REQUEST:null,DELETE_SAML_PUBLIC_SUCCESS:null,DELETE_SAML_PUBLIC_FAILURE:null,DELETE_SAML_PRIVATE_REQUEST:null,DELETE_SAML_PRIVATE_SUCCESS:null,DELETE_SAML_PRIVATE_FAILURE:null,DELETE_SAML_IDP_REQUEST:null,DELETE_SAML_IDP_SUCCESS:null,DELETE_SAML_IDP_FAILURE:null,UPLOAD_LICENSE_REQUEST:null,UPLOAD_LICENSE_SUCCESS:null,UPLOAD_LICENSE_FAILURE:null,REMOVE_LICENSE_REQUEST:null,REMOVE_LICENSE_SUCCESS:null,REMOVE_LICENSE_FAILURE:null,GET_ANALYTICS_REQUEST:null,GET_ANALYTICS_SUCCESS:null,GET_ANALYTICS_FAILURE:null,TEST_ELASTICSEARCH_REQUEST:null,TEST_ELASTICSEARCH_SUCCESS:null,TEST_ELASTICSEARCH_FAILURE:null,PURGE_ELASTICSEARCH_INDEXES_REQUEST:null,PURGE_ELASTICSEARCH_INDEXES_SUCCESS:null,PURGE_ELASTICSEARCH_INDEXES_FAILURE:null,UPLOAD_PLUGIN_REQUEST:null,UPLOAD_PLUGIN_SUCCESS:null,UPLOAD_PLUGIN_FAILURE:null,INSTALL_PLUGIN_FROM_URL_REQUEST:null,INSTALL_PLUGIN_FROM_URL_SUCCESS:null,INSTALL_PLUGIN_FROM_URL_FAILURE:null,GET_PLUGIN_REQUEST:null,GET_PLUGIN_SUCCESS:null,GET_PLUGIN_FAILURE:null,GET_PLUGIN_STATUSES_REQUEST:null,GET_PLUGIN_STATUSES_SUCCESS:null,GET_PLUGIN_STATUSES_FAILURE:null,REMOVE_PLUGIN_REQUEST:null,REMOVE_PLUGIN_SUCCESS:null,REMOVE_PLUGIN_FAILURE:null,ENABLE_PLUGIN_REQUEST:null,ENABLE_PLUGIN_SUCCESS:null,ENABLE_PLUGIN_FAILURE:null,DISABLE_PLUGIN_REQUEST:null,DISABLE_PLUGIN_SUCCESS:null,DISABLE_PLUGIN_FAILURE:null,RECEIVED_LOGS:null,RECEIVED_AUDITS:null,RECEIVED_CONFIG:null,RECEIVED_ENVIRONMENT_CONFIG:null,RECEIVED_COMPLIANCE_REPORT:null,RECEIVED_COMPLIANCE_REPORTS:null,RECEIVED_CLUSTER_STATUS:null,RECEIVED_SAML_CERT_STATUS:null,RECEIVED_SYSTEM_ANALYTICS:null,RECEIVED_TEAM_ANALYTICS:null,RECEIVED_USER_ACCESS_TOKEN:null,RECEIVED_USER_ACCESS_TOKENS:null,RECEIVED_USER_ACCESS_TOKENS_FOR_USER:null,RECEIVED_PLUGINS:null,RECEIVED_PLUGIN_STATUSES:null,RECEIVED_LDAP_GROUPS:null,LINKED_LDAP_GROUP:null,UNLINKED_LDAP_GROUP:null,REMOVED_PLUGIN:null,ENABLED_PLUGIN:null,DISABLED_PLUGIN:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({PUSH_ALERT:null,CLEAR_ALERT:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({CREATE_JOB_REQUEST:null,CREATE_JOB_SUCCESS:null,CREATE_JOB_FAILURE:null,CANCEL_JOB_REQUEST:null,CANCEL_JOB_SUCCESS:null,CANCEL_JOB_FAILURE:null,GET_JOB_REQUEST:null,GET_JOB_SUCCESS:null,GET_JOB_FAILURE:null,GET_JOBS_REQUEST:null,GET_JOBS_SUCCESS:null,GET_JOBS_FAILURE:null,RECEIVED_JOB:null,RECEIVED_JOBS:null,RECEIVED_JOBS_BY_TYPE:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({SEARCH_POSTS_REQUEST:null,SEARCH_POSTS_SUCCESS:null,SEARCH_POSTS_FAILURE:null,SEARCH_FLAGGED_POSTS_REQUEST:null,SEARCH_FLAGGED_POSTS_SUCCESS:null,SEARCH_FLAGGED_POSTS_FAILURE:null,SEARCH_PINNED_POSTS_REQUEST:null,SEARCH_PINNED_POSTS_SUCCESS:null,SEARCH_PINNED_POSTS_FAILURE:null,REMOVE_SEARCH_PINNED_POSTS:null,SEARCH_RECENT_MENTIONS_REQUEST:null,SEARCH_RECENT_MENTIONS_SUCCESS:null,SEARCH_RECENT_MENTIONS_FAILURE:null,RECEIVED_SEARCH_POSTS:null,RECEIVED_SEARCH_FLAGGED_POSTS:null,RECEIVED_SEARCH_PINNED_POSTS:null,RECEIVED_SEARCH_TERM:null,REMOVE_SEARCH_POSTS:null,REMOVE_SEARCH_TERM:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({ROLES_BY_NAMES_REQUEST:null,ROLES_BY_NAMES_SUCCESS:null,ROLES_BY_NAMES_FAILURE:null,ROLE_BY_NAME_REQUEST:null,ROLE_BY_NAME_SUCCESS:null,ROLE_BY_NAME_FAILURE:null,ROLE_BY_ID_REQUEST:null,ROLE_BY_ID_SUCCESS:null,ROLE_BY_ID_FAILURE:null,EDIT_ROLE_REQUEST:null,EDIT_ROLE_SUCCESS:null,EDIT_ROLE_FAILURE:null,RECEIVED_ROLES:null,RECEIVED_ROLE:null,ROLE_DELETED:null,SET_PENDING_ROLES:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({GET_SCHEME_REQUEST:null,GET_SCHEME_SUCCESS:null,GET_SCHEME_FAILURE:null,RECEIVED_SCHEME:null,GET_SCHEMES_REQUEST:null,GET_SCHEMES_SUCCESS:null,GET_SCHEMES_FAILURE:null,RECEIVED_SCHEMES:null,CREATE_SCHEME_REQUEST:null,CREATE_SCHEME_SUCCESS:null,CREATE_SCHEME_FAILURE:null,CREATED_SCHEME:null,DELETE_SCHEME_REQUEST:null,DELETE_SCHEME_SUCCESS:null,DELETE_SCHEME_FAILURE:null,DELETED_SCHEME:null,PATCH_SCHEME_REQUEST:null,PATCH_SCHEME_SUCCESS:null,PATCH_SCHEME_FAILURE:null,PATCHED_SCHEME:null,GET_SCHEME_TEAMS_REQUEST:null,GET_SCHEME_TEAMS_SUCCESS:null,GET_SCHEME_TEAMS_FAILURE:null,RECEIVED_SCHEME_TEAMS:null,GET_SCHEME_CHANNELS_REQUEST:null,GET_SCHEME_CHANNELS_SUCCESS:null,GET_SCHEME_CHANNELS_FAILURE:null,RECEIVED_SCHEME_CHANNELS:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({LINK_GROUP_SYNCABLE_REQUEST:null,LINK_GROUP_SYNCABLE_SUCCESS:null,LINK_GROUP_SYNCABLE_FAILURE:null,LINKED_GROUP_TEAM:null,LINKED_GROUP_CHANNEL:null,UNLINK_GROUP_SYNCABLE_REQUEST:null,UNLINK_GROUP_SYNCABLE_SUCCESS:null,UNLINK_GROUP_SYNCABLE_FAILURE:null,UNLINKED_GROUP_TEAM:null,UNLINKED_GROUP_CHANNEL:null,GET_GROUP_SYNCABLES_REQUEST:null,GET_GROUP_SYNCABLES_SUCCESS:null,GET_GROUP_SYNCABLES_FAILURE:null,RECEIVED_GROUP_TEAMS:null,RECEIVED_GROUP_CHANNELS:null,GET_GROUP_MEMBERS_REQUEST:null,GET_GROUP_MEMBERS_SUCCESS:null,GET_GROUP_MEMBERS_FAILURE:null,RECEIVED_GROUP_MEMBERS:null,GET_GROUP_REQUEST:null,GET_GROUP_SUCCESS:null,GET_GROUP_FAILURE:null,RECEIVED_GROUP:null,RECEIVED_GROUPS:null,GET_GROUPS_ASSOCIATED_TO_TEAM_REQUEST:null,GET_GROUPS_ASSOCIATED_TO_TEAM_SUCCESS:null,GET_GROUPS_ASSOCIATED_TO_TEAM_FAILURE:null,RECEIVED_GROUPS_ASSOCIATED_TO_TEAM:null,GET_GROUPS_ASSOCIATED_TO_CHANNEL_REQUEST:null,GET_GROUPS_ASSOCIATED_TO_CHANNEL_SUCCESS:null,GET_GROUPS_ASSOCIATED_TO_CHANNEL_FAILURE:null,RECEIVED_GROUPS_ASSOCIATED_TO_CHANNEL:null,GET_ALL_GROUPS_ASSOCIATED_TO_TEAM_REQUEST:null,GET_ALL_GROUPS_ASSOCIATED_TO_TEAM_SUCCESS:null,GET_ALL_GROUPS_ASSOCIATED_TO_TEAM_FAILURE:null,RECEIVED_ALL_GROUPS_ASSOCIATED_TO_TEAM:null,GET_ALL_GROUPS_ASSOCIATED_TO_CHANNEL_REQUEST:null,GET_ALL_GROUPS_ASSOCIATED_TO_CHANNEL_SUCCESS:null,GET_ALL_GROUPS_ASSOCIATED_TO_CHANNEL_FAILURE:null,RECEIVED_ALL_GROUPS_ASSOCIATED_TO_CHANNEL:null,GET_GROUPS_NOT_ASSOCIATED_TO_TEAM_REQUEST:null,GET_GROUPS_NOT_ASSOCIATED_TO_TEAM_SUCCESS:null,GET_GROUPS_NOT_ASSOCIATED_TO_TEAM_FAILURE:null,RECEIVED_GROUPS_NOT_ASSOCIATED_TO_TEAM:null,GET_GROUPS_NOT_ASSOCIATED_TO_CHANNEL_REQUEST:null,GET_GROUPS_NOT_ASSOCIATED_TO_CHANNEL_SUCCESS:null,GET_GROUPS_NOT_ASSOCIATED_TO_CHANNEL_FAILURE:null,RECEIVED_GROUPS_NOT_ASSOCIATED_TO_CHANNEL:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({RECEIVED_BOT_ACCOUNTS:null,RECEIVED_BOT_ACCOUNT:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(2));t.default=r.default({RECEIVED_MARKETPLACE_PLUGINS:null,GET_MARKETPLACE_PLUGINS_FAILURE:null})},function(e,t,n){"use strict";const{inspect:r}=n(168);class i extends Error{constructor(e){super(r(e)),this.name="NonError",Error.captureStackTrace(this,i)}}const o=["name","message","stack","code"],s=(e,t,n)=>{const r=n||(Array.isArray(e)?[]:{});t.push(e);for(const[n,i]of Object.entries(e))"function"!=typeof i&&(i&&"object"==typeof i?t.includes(e[n])?r[n]="[Circular]":r[n]=s(e[n],t.slice()):r[n]=i);for(const t of o)"string"==typeof e[t]&&(r[t]=e[t]);return r};e.exports={serializeError:e=>"object"==typeof e&&null!==e?s(e,[]):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e,deserializeError:e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=new Error;return s(e,[],t),t}return new i(e)}}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])h(u)||!T(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),_(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function _(e,n,r){if(e.customInspect&&n&&y(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=_(e,i,r)),i}var o=function(e,t){if(C(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(p(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(h(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),v(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(y(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(m(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(v(n))return l(n)}var c,T="",R=!1,A=["{","}"];(d(n)&&(R=!0,A=["[","]"]),y(n))&&(T=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(T=" "+RegExp.prototype.toString.call(n)),S(n)&&(T=" "+Date.prototype.toUTCString.call(n)),v(n)&&(T=" "+l(n)),0!==s.length||R&&0!=n.length?r<0?m(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=R?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)O(t,String(s))?o.push(E(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(E(e,t,n,r,i,!0))})),o}(e,n,r,a,s):s.map((function(t){return E(e,n,r,a,t,R)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,T,A)):A[0]+T+A[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function E(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),O(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=h(n)?_(e,u.value,null):_(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),C(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function h(e){return null===e}function p(e){return"number"==typeof e}function g(e){return"string"==typeof e}function C(e){return void 0===e}function m(e){return T(e)&&"[object RegExp]"===R(e)}function T(e){return"object"==typeof e&&null!==e}function S(e){return T(e)&&"[object Date]"===R(e)}function v(e){return T(e)&&("[object Error]"===R(e)||e instanceof Error)}function y(e){return"function"==typeof e}function R(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(C(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=f,t.isNull=h,t.isNullOrUndefined=function(e){return null==e},t.isNumber=p,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=C,t.isRegExp=m,t.isObject=T,t.isDate=S,t.isError=v,t.isFunction=y,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(170);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=n(171),t._extend=function(e,t){if(!t||!T(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function U(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(L&&e[L]){var t;if("function"!=typeof(t=e[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),L&&Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=L,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(U,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(169))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],_=!1,l=-1;function E(){_&&u&&(_=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!_){var e=a(E);_=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,_=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||_||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),o=n(12),s=n(9),a=n(13),u=n(24),c=n(21),_=n(41),l=n(25),E=n(19);function d(){var e=this;return function(){return r.__awaiter(e,void 0,void 0,(function(){var e,t,n;return r.__generator(this,(function(r){switch(r.label){case 0:t=new E.FormattedError("mobile.server_ping_failed","Cannot connect to the server. Please check your server URL and internet connection."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.ping()];case 2:return"OK"!==(e=r.sent()).status?[2,{error:t}]:[3,4];case 3:return 401===(n=r.sent()).status_code&&(t=n),[2,{error:t}];case 4:return[2,{data:e}]}}))}))}}function f(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getClientConfigOld()];case 1:return e=r.sent(),[3,3];case 2:return s=r.sent(),E.forceLogoutIfNecessary(s,t,n),[2,{error:s}];case 3:return i.Client4.setEnableLogging("true"===e.EnableDeveloper),i.Client4.setDiagnosticId(e.DiagnosticId),t(u.batchActions([{type:o.GeneralTypes.CLIENT_CONFIG_RECEIVED,data:e}])),[2,{data:e}]}}))}))}}function h(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.getDataRetentionPolicy()];case 1:return e=r.sent(),[3,3];case 2:return s=r.sent(),E.forceLogoutIfNecessary(s,t,n),t(u.batchActions([{type:o.GeneralTypes.RECEIVED_DATA_RETENTION_POLICY,error:s},c.logError(s)]),n),[2,{error:s}];case 3:return t(u.batchActions([{type:o.GeneralTypes.RECEIVED_DATA_RETENTION_POLICY,data:e}])),[2,{data:e}]}}))}))}}function p(){return E.bindClientFunc({clientFunc:i.Client4.getClientLicenseOld,onSuccess:[o.GeneralTypes.CLIENT_LICENSE_RECEIVED]})}function g(e,t){return void 0===t&&(t="ERROR"),E.bindClientFunc({clientFunc:i.Client4.logClientError,onRequest:o.GeneralTypes.LOG_CLIENT_ERROR_REQUEST,onSuccess:o.GeneralTypes.LOG_CLIENT_ERROR_SUCCESS,onFailure:o.GeneralTypes.LOG_CLIENT_ERROR_FAILURE,params:[e,t]})}function C(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:o.GeneralTypes.RECEIVED_APP_STATE,data:e},i),[2,{data:!0}]}))}))}}function m(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:o.GeneralTypes.RECEIVED_APP_DEVICE_TOKEN,data:e},i),[2,{data:!0}]}))}))}}function T(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:o.GeneralTypes.RECEIVED_SERVER_VERSION,data:e},i),n(_.loadRolesIfNeeded([])),[2,{data:!0}]}))}))}}function S(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return i.Client4.setToken(e.token),i.Client4.setUrl(e.url),[2,l.loadMe()(n,o)]}))}))}}function v(){return E.bindClientFunc({clientFunc:i.Client4.getTimezones,onRequest:o.GeneralTypes.SUPPORTED_TIMEZONES_REQUEST,onSuccess:[o.GeneralTypes.SUPPORTED_TIMEZONES_RECEIVED,o.GeneralTypes.SUPPORTED_TIMEZONES_SUCCESS],onFailure:o.GeneralTypes.SUPPORTED_TIMEZONES_FAILURE})}function y(e){return i.Client4.setUrl(e),!0}function R(e){var t=this;return function(n,u){return r.__awaiter(t,void 0,void 0,(function(){var t,c,_;return r.__generator(this,(function(l){switch(l.label){case 0:t=a.isMinimumServerVersion(s.getServerVersion(u()),5,3)?i.Client4.getRedirectLocation(e):Promise.resolve({location:e}),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t];case 2:return c=l.sent(),[3,4];case 3:return _=l.sent(),E.forceLogoutIfNecessary(_,n,u),n({type:o.GeneralTypes.REDIRECT_LOCATION_FAILURE,data:{error:_,url:e}},u),[2,{error:_}];case 4:return n({type:o.GeneralTypes.REDIRECT_LOCATION_SUCCESS,data:r.__assign(r.__assign({},c),{url:e})},u),[2,{data:c}]}}))}))}}t.getPing=d,t.resetPing=function(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return t({type:o.GeneralTypes.PING_RESET,data:{}},n),[2,{data:!0}]}))}))}},t.getClientConfig=f,t.getDataRetentionPolicy=h,t.getLicenseConfig=p,t.logClientError=g,t.setAppState=C,t.setDeviceToken=m,t.setServerVersion=T,t.setStoreFromLocalData=S,t.getSupportedTimezones=v,t.setUrl=y,t.getRedirectLocation=R,t.default={getPing:d,getClientConfig:f,getDataRetentionPolicy:h,getSupportedTimezones:v,getLicenseConfig:p,logClientError:g,setAppState:C,setDeviceToken:m,setServerVersion:T,setStoreFromLocalData:S,setUrl:y,getRedirectLocation:R}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),o=n(3),s=n(12),a=r.__importDefault(n(82)),u=n(9),c=n(14),_=n(11),l=n(24),E=n(57),d=n(21),f=n(19),h=n(25),p=n(41);function g(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:return i=n().entities.users,o=i.currentUserId,s=i.profiles,a=i.statuses,u=[],c=[],e.forEach((function(e){s[e]||u.includes(e)||e===o||u.push(e),a[e]||c.includes(e)||e===o||c.push(e)})),_=[],u.length&&_.push(h.getProfilesByIds(u)(t,n)),c.length&&_.push(h.getStatusesByIds(c)(t,n)),[4,Promise.all(_)];case 1:return r.sent(),[2]}}))}))}function C(){return f.bindClientFunc({clientFunc:i.Client4.getMyTeamUnreads,onSuccess:s.TeamTypes.RECEIVED_MY_TEAM_UNREADS})}function m(e){return f.bindClientFunc({clientFunc:i.Client4.getTeam,onSuccess:s.TeamTypes.RECEIVED_TEAM,params:[e]})}function T(){var e=this;return function(t,n){return r.__awaiter(e,void 0,void 0,(function(){var e,o,a,u,c,_,l,E,d,h,g,C;return r.__generator(this,(function(m){switch(m.label){case 0:return[4,f.bindClientFunc({clientFunc:i.Client4.getMyTeamMembers,onSuccess:s.TeamTypes.RECEIVED_MY_TEAM_MEMBERS})(t,n)];case 1:if("data"in(e=m.sent())&&e.data){o=new Set;try{for(a=r.__values(e.data),u=a.next();!u.done;u=a.next()){c=u.value;try{for(g=void 0,_=r.__values(c.roles.split(" ")),l=_.next();!l.done;l=_.next())E=l.value,o.add(E)}catch(e){g={error:e}}finally{try{l&&!l.done&&(C=_.return)&&C.call(_)}finally{if(g)throw g.error}}}}catch(e){d={error:e}}finally{try{u&&!u.done&&(h=a.return)&&h.call(a)}finally{if(d)throw d.error}}o.size>0&&t(p.loadRolesIfNeeded(r.__spread(o)))}return[2,e]}}))}))}}t.selectTeam=function(e){var t=this;return function(n,i){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return n({type:s.TeamTypes.SELECT_TEAM,data:e.id},i),[2,{data:!0}]}))}))}},t.getMyTeams=function(){return f.bindClientFunc({clientFunc:i.Client4.getMyTeams,onRequest:s.TeamTypes.MY_TEAMS_REQUEST,onSuccess:[s.TeamTypes.RECEIVED_TEAMS_LIST,s.TeamTypes.MY_TEAMS_SUCCESS],onFailure:s.TeamTypes.MY_TEAMS_FAILURE})},t.getMyTeamUnreads=C,t.getTeam=m,t.getTeamByName=function(e){return f.bindClientFunc({clientFunc:i.Client4.getTeamByName,onSuccess:s.TeamTypes.RECEIVED_TEAM,params:[e]})},t.getTeams=function(e,t,n){var a=this;return void 0===e&&(e=0),void 0===t&&(t=o.General.TEAMS_CHUNK_SIZE),void 0===n&&(n=!1),function(o,u){return r.__awaiter(a,void 0,void 0,(function(){var a,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.TeamTypes.GET_TEAMS_REQUEST,data:a},u),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.Client4.getTeams(e,t,n)];case 2:return a=r.sent(),[3,4];case 3:return c=r.sent(),f.forceLogoutIfNecessary(c,o,u),o({type:s.TeamTypes.GET_TEAMS_FAILURE,data:a},u),o(d.logError(c)),[2,{error:c}];case 4:return _=[{type:s.TeamTypes.RECEIVED_TEAMS_LIST,data:n?a.teams:a},{type:s.TeamTypes.GET_TEAMS_SUCCESS,data:a}],n&&_.push({type:s.TeamTypes.RECEIVED_TOTAL_TEAM_COUNT,data:a.total_count}),o(l.batchActions(_),u),[2,{data:a}]}}))}))}},t.searchTeams=function(e){return f.bindClientFunc({clientFunc:i.Client4.searchTeams,onRequest:s.TeamTypes.GET_TEAMS_REQUEST,onSuccess:[s.TeamTypes.RECEIVED_TEAMS_LIST,s.TeamTypes.GET_TEAMS_SUCCESS],onFailure:s.TeamTypes.GET_TEAMS_FAILURE,params:[e]})},t.createTeam=function(e){var t=this;return function(n,a){return r.__awaiter(t,void 0,void 0,(function(){var t,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.createTeam(e)];case 1:return t=r.sent(),[3,3];case 2:return u=r.sent(),f.forceLogoutIfNecessary(u,n,a),n(d.logError(u)),[2,{error:u}];case 3:return c={team_id:t.id,user_id:a().entities.users.currentUserId,roles:o.General.TEAM_ADMIN_ROLE+" "+o.General.TEAM_USER_ROLE,delete_at:0,msg_count:0,mention_count:0},n(l.batchActions([{type:s.TeamTypes.CREATED_TEAM,data:t},{type:s.TeamTypes.RECEIVED_MY_TEAM_MEMBER,data:c},{type:s.TeamTypes.SELECT_TEAM,data:t.id}]),a),n(p.loadRolesIfNeeded(c.roles.split(" "))),[2,{data:t}]}}))}))}},t.deleteTeam=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,u,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.deleteTeam(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),f.forceLogoutIfNecessary(t,n,o),n(d.logError(t)),[2,{error:t}];case 3:return u=o().entities,c=u.teams.currentTeamId,_=[],e===c&&(a.default.emit("leave_team"),_.push({type:s.ChannelTypes.SELECT_CHANNEL,data:""})),_.push({type:s.TeamTypes.RECEIVED_TEAM_DELETED,data:{id:e}}),n(l.batchActions(_),o),[2,{data:!0}]}}))}))}},t.updateTeam=function(e){return f.bindClientFunc({clientFunc:i.Client4.updateTeam,onSuccess:s.TeamTypes.UPDATED_TEAM,params:[e]})},t.patchTeam=function(e){return f.bindClientFunc({clientFunc:i.Client4.patchTeam,onSuccess:s.TeamTypes.PATCHED_TEAM,params:[e]})},t.regenerateTeamInviteId=function(e){return f.bindClientFunc({clientFunc:i.Client4.regenerateTeamInviteId,onSuccess:s.TeamTypes.REGENERATED_TEAM_INVITE_ID,params:[e]})},t.getMyTeamMembers=T,t.getTeamMembers=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=o.General.TEAMS_CHUNK_SIZE),f.bindClientFunc({clientFunc:i.Client4.getTeamMembers,onRequest:s.TeamTypes.GET_TEAM_MEMBERS_REQUEST,onSuccess:[s.TeamTypes.RECEIVED_MEMBERS_IN_TEAM,s.TeamTypes.GET_TEAM_MEMBERS_SUCCESS],onFailure:s.TeamTypes.GET_TEAM_MEMBERS_FAILURE,params:[e,t,n]})},t.getTeamMember=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),u=i.Client4.getTeamMember(e,t),g([t],o,a),[4,u];case 1:return n=r.sent(),[3,3];case 2:return c=r.sent(),f.forceLogoutIfNecessary(c,o,a),o(d.logError(c)),[2,{error:c}];case 3:return o({type:s.TeamTypes.RECEIVED_MEMBERS_IN_TEAM,data:[n]}),[2,{data:n}]}}))}))}},t.getTeamMembersByIds=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),u=i.Client4.getTeamMembersByIds(e,t),g(t,o,a),[4,u];case 1:return n=r.sent(),[3,3];case 2:return c=r.sent(),f.forceLogoutIfNecessary(c,o,a),o(d.logError(c)),[2,{error:c}];case 3:return o({type:s.TeamTypes.RECEIVED_MEMBERS_IN_TEAM,data:n}),[2,{data:n}]}}))}))}},t.getTeamsForUser=function(e){return f.bindClientFunc({clientFunc:i.Client4.getTeamsForUser,onRequest:s.TeamTypes.GET_TEAMS_REQUEST,onSuccess:[s.TeamTypes.RECEIVED_TEAMS_LIST,s.TeamTypes.GET_TEAMS_SUCCESS],onFailure:s.TeamTypes.GET_TEAMS_FAILURE,params:[e]})},t.getTeamMembersForUser=function(e){return f.bindClientFunc({clientFunc:i.Client4.getTeamMembersForUser,onSuccess:s.TeamTypes.RECEIVED_TEAM_MEMBERS,params:[e]})},t.getTeamStats=function(e){return f.bindClientFunc({clientFunc:i.Client4.getTeamStats,onSuccess:s.TeamTypes.RECEIVED_TEAM_STATS,params:[e]})},t.addUserToTeamFromInvite=function(e,t){return f.bindClientFunc({clientFunc:i.Client4.addToTeamFromInvite,onRequest:s.TeamTypes.ADD_TO_TEAM_FROM_INVITE_REQUEST,onSuccess:s.TeamTypes.ADD_TO_TEAM_FROM_INVITE_SUCCESS,onFailure:s.TeamTypes.ADD_TO_TEAM_FROM_INVITE_FAILURE,params:[e,t]})},t.addUserToTeam=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.addToTeam(e,t)];case 1:return n=r.sent(),[3,3];case 2:return u=r.sent(),f.forceLogoutIfNecessary(u,o,a),o(d.logError(u)),[2,{error:u}];case 3:return o(l.batchActions([{type:s.UserTypes.RECEIVED_PROFILE_IN_TEAM,data:{id:e,user_id:t}},{type:s.TeamTypes.RECEIVED_MEMBER_IN_TEAM,data:n}]),a),[2,{data:n}]}}))}))}},t.addUsersToTeam=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.addUsersToTeam(e,t)];case 1:return n=r.sent(),[3,3];case 2:return u=r.sent(),f.forceLogoutIfNecessary(u,o,a),o(d.logError(u)),[2,{error:u}];case 3:return c=[],n.forEach((function(e){return c.push({id:e.user_id})})),o(l.batchActions([{type:s.UserTypes.RECEIVED_PROFILES_LIST_IN_TEAM,data:c,id:e},{type:s.TeamTypes.RECEIVED_MEMBERS_IN_TEAM,data:n}]),a),[2,{data:n}]}}))}))}},t.removeUserFromTeam=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,u,h,p,g,C,m,T,S,v,y,R,A,I;return r.__generator(this,(function(N){switch(N.label){case 0:return N.trys.push([0,2,,3]),[4,i.Client4.removeFromTeam(e,t)];case 1:return N.sent(),[3,3];case 2:return n=N.sent(),f.forceLogoutIfNecessary(n,o,a),o(d.logError(n)),[2,{error:n}];case 3:if(u={team_id:e,user_id:t},h=[{type:s.UserTypes.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:e,user_id:t}},{type:s.TeamTypes.REMOVE_MEMBER_FROM_TEAM,data:u}],p=a(),g=_.getCurrentUserId(p),t===g){C=p.entities.channels,m=C.channels,T=C.myMembers;try{for(S=r.__values(Object.values(T)),v=S.next();!v.done;v=S.next())y=v.value,(R=m[y.channel_id])&&R.team_id===e&&h.push({type:s.ChannelTypes.LEAVE_CHANNEL,data:R})}catch(e){A={error:e}}finally{try{v&&!v.done&&(I=S.return)&&I.call(S)}finally{if(A)throw A.error}}e===c.getCurrentTeamId(p)&&h.push(E.selectChannel(""))}return o(l.batchActions(h),a),[2,{data:!0}]}}))}))}},t.updateTeamMemberRoles=function(e,t,n){var o=this;return function(a,u){return r.__awaiter(o,void 0,void 0,(function(){var o,c;return r.__generator(this,(function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,i.Client4.updateTeamMemberRoles(e,t,n)];case 1:return _.sent(),[3,3];case 2:return o=_.sent(),f.forceLogoutIfNecessary(o,a,u),a(d.logError(o)),[2,{error:o}];case 3:return(c=u().entities.teams.membersInTeam[e])&&c[t]&&a({type:s.TeamTypes.RECEIVED_MEMBER_IN_TEAM,data:r.__assign(r.__assign({},c[t]),{roles:n})}),[2,{data:!0}]}}))}))}},t.sendEmailInvitesToTeam=function(e,t){return f.bindClientFunc({clientFunc:i.Client4.sendEmailInvitesToTeam,params:[e,t]})},t.sendEmailGuestInvitesToChannels=function(e,t,n,r){return f.bindClientFunc({clientFunc:i.Client4.sendEmailGuestInvitesToChannels,params:[e,t,n,r]})},t.getTeamInviteInfo=function(e){return f.bindClientFunc({clientFunc:i.Client4.getTeamInviteInfo,onRequest:s.TeamTypes.TEAM_INVITE_INFO_REQUEST,onSuccess:s.TeamTypes.TEAM_INVITE_INFO_SUCCESS,onFailure:s.TeamTypes.TEAM_INVITE_INFO_FAILURE,params:[e]})},t.checkIfTeamExists=function(e){var t=this;return function(n,o){return r.__awaiter(t,void 0,void 0,(function(){var t,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.Client4.checkIfTeamExists(e)];case 1:return t=r.sent(),[3,3];case 2:return s=r.sent(),f.forceLogoutIfNecessary(s,n,o),n(d.logError(s)),[2,{error:s}];case 3:return[2,{data:t.exists}]}}))}))}},t.joinTeam=function(e,t){var n=this;return function(o,a){return r.__awaiter(n,void 0,void 0,(function(){var n,c,_;return r.__generator(this,(function(r){switch(r.label){case 0:o({type:s.TeamTypes.JOIN_TEAM_REQUEST,data:null},a),n=a(),r.label=1;case 1:return r.trys.push([1,6,,7]),u.isCompatibleWithJoinViewTeamPermissions(n)?(c=n.entities.users.currentUserId,[4,i.Client4.addToTeam(t,c)]):[3,3];case 2:return r.sent(),[3,5];case 3:return[4,i.Client4.joinTeam(e)];case 4:r.sent(),r.label=5;case 5:return[3,7];case 6:return _=r.sent(),f.forceLogoutIfNecessary(_,o,a),o(l.batchActions([{type:s.TeamTypes.JOIN_TEAM_FAILURE,error:_},d.logError(_)])),[2,{error:_}];case 7:return C()(o,a),[4,Promise.all([m(t)(o,a),T()(o,a)])];case 8:return r.sent(),o({type:s.TeamTypes.JOIN_TEAM_SUCCESS,data:null},a),[2,{data:!0}]}}))}))}},t.setTeamIcon=function(e,t){return f.bindClientFunc({clientFunc:i.Client4.setTeamIcon,params:[e,t]})},t.removeTeamIcon=function(e){return f.bindClientFunc({clientFunc:i.Client4.removeTeamIcon,params:[e]})},t.updateTeamScheme=function(e,t){var n=this;return f.bindClientFunc({clientFunc:function(){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,i.Client4.updateTeamScheme(e,t)];case 1:return n.sent(),[2,{teamId:e,schemeId:t}]}}))}))},onSuccess:s.TeamTypes.UPDATED_TEAM_SCHEME})},t.updateTeamMemberSchemeRoles=function(e,t,n,o){var a=this;return f.bindClientFunc({clientFunc:function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,i.Client4.updateTeamMemberSchemeRoles(e,t,n,o)];case 1:return r.sent(),[2,{teamId:e,userId:t,isSchemeUser:n,isSchemeAdmin:o}]}}))}))},onSuccess:s.TeamTypes.UPDATED_TEAM_MEMBER_SCHEME_ROLES})},t.invalidateAllEmailInvites=function(){return f.bindClientFunc({clientFunc:i.Client4.invalidateAllEmailInvites})},t.membersMinusGroupMembers=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.General.PROFILE_CHUNK_SIZE),f.bindClientFunc({clientFunc:i.Client4.teamMembersMinusGroupMembers,onSuccess:s.TeamTypes.RECEIVED_TEAM_MEMBERS_MINUS_GROUP_MEMBERS,params:[e,t,n,r]})}},function(e,t,n){"use strict";var r=n(36),i=n(10),o=n(15),s=n(175),a=RegExp.prototype,u=a.toString,c=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),_="toString"!=u.name;(c||_)&&r(RegExp.prototype,"toString",(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in a)?s.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";var r=n(10);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var r=n(27),i=n(14),o=n(11);n(104);const s=window.WebappUtils,a=(e,t)=>{const n=e.startsWith("/")?e.slice(1):e;var r;r="/".concat(n,"/channels/").concat(t),s.browserHistory.push(r)};n(70);var u=n(8);const c="com.mattermost.nps";function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(){_(this,"connected",()=>this.doFetch("".concat(this.url,"/connected"),{method:"POST"})),_(this,"userWantsToGiveFeedback",()=>this.doFetch("".concat(this.url,"/give_feedback"),{method:"POST"})),_(this,"doFetch",async(e,t)=>{t.headers||(t.headers={});const n=u.Client4.getOptions(t);try{const t=await fetch(e,n);return{data:await t.json()}}catch(e){return{error:e}}}),this.url="/plugins/".concat(c,"/api/v1")}}var E=n(3);class d{constructor(e){var t,n,i;i=e=>{const t=Object(r.makeGetChannel)()(this.store.getState(),{id:e.channel_id});return t.type!==E.General.DM_CHANNEL||"feedbackbot"!==Object(o.getUser)(this.store.getState(),t.teammate_id).username?Promise.resolve({post:e}):new Promise(t=>{this.store.dispatch(function(e,t){return{type:"com.mattermost.nps/SHOW_CONFIRMATION_MODAL",onCancel:t,onConfirm:e}}(()=>t({post:e}),()=>t({error:{message:"Feedback not sent."}})))})},(n="messageWillBePosted")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.store=e}}var f=n(84);var h=Object(f.combineReducers)({confirmationModal:function(e={show:!1},t){switch(t.type){case"com.mattermost.nps/SHOW_CONFIRMATION_MODAL":return{show:!0,onConfirm:t.onConfirm,onCancel:t.onCancel};case"com.mattermost.nps/HIDE_CONFIRMATION_MODAL":return{show:!1,onConfirm:null,onCancel:null};default:return e}},windowWidth:function(e=0,t){switch(t.type){case"com.mattermost.nps/WINDOW_RESIZED":return t.windowWidth;default:return e}}}),p=n(7),g=n(26);function C(e){return e["plugins-"+c]||{}}function m(e){return C(e).windowWidth}function T(e,t){return t||!I(e)}function S(e){return"compact"===Object(g.get)(e,E.Preferences.CATEGORY_DISPLAY_SETTINGS,"message_display","clean")}function v(e){return e.views.rhs.isSidebarOpen}function y(e){return Object(i.getMyTeams)(e).length>1}const R=[{compactView:!1,sidebarOpen:!1,fullWidth:856,smallWidth:769},{compactView:!1,sidebarOpen:!0,fullWidth:1260,smallWidth:1090},{compactView:!0,sidebarOpen:!1,fullWidth:898,smallWidth:769},{compactView:!0,sidebarOpen:!0,fullWidth:1298,smallWidth:1130}],A=Object(p.createSelector)(S,v,y,m,(e,t,n,r)=>{let{smallWidth:i}=R.find(n=>n.compactView===e&&n.sidebarOpen===t);return n||(i-=65),r>=i&&r>768}),I=Object(p.createSelector)(S,v,y,m,(e,t,n,r)=>{let{fullWidth:i}=R.find(n=>n.compactView===e&&n.sidebarOpen===t);return n||(i-=65),r>=i&&r>768});var N=n(1),O=n.n(N),L=n(42),U=(n(76),n(4)),P=n.n(U),M=n(28);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends O.a.PureComponent{constructor(...e){super(...e),b(this,"onCancel",()=>{this.props.onCancel&&this.props.onCancel(),this.props.hideConfirmationModal()}),b(this,"onConfirm",()=>{this.props.onConfirm&&this.props.onConfirm(),this.props.hideConfirmationModal()})}render(){return O.a.createElement(M.Modal,{className:"modal-confirm",show:this.props.show,onHide:this.onCancel},O.a.createElement(M.Modal.Header,null,O.a.createElement(M.Modal.Title,null,"Send Feedback")),O.a.createElement(M.Modal.Body,null,"You are about to send feedback about Mattermost. Are you sure?"),O.a.createElement(M.Modal.Footer,null,O.a.createElement("button",{type:"button",className:"btn btn-link btn-cancel",onClick:this.onCancel},"Cancel"),O.a.createElement("button",{autoFocus:!0,type:"button",className:"btn btn-primary",onClick:this.onConfirm},"Yes")))}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}b(D,"propTypes",{onCancel:P.a.func,onConfirm:P.a.func,hideConfirmationModal:P.a.func.isRequired,show:P.a.bool.isRequired});const F={hideConfirmationModal:function(){return{type:"com.mattermost.nps/HIDE_CONFIRMATION_MODAL"}}};var G=Object(L.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},function(e){return C(e).confirmationModal||{}}(e))}),F)(D);class H extends O.a.PureComponent{render(){return O.a.createElement(O.a.Fragment,null,O.a.createElement(G,null))}}var V=n(85),k=(n(174),n(20));function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends O.a.PureComponent{constructor(e){super(e),j(this,"handleClick",()=>{this.props.selectScore(this.props.score)}),j(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),j(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),this.state={hovered:!1}}render(){const e=B({},Y.container);10===this.props.score||this.props.isSmall||(e.marginRight=8);const t=this.props.isSmall?B({},Y.bubbleSmall):B({},Y.bubble);return this.props.selected?(t.backgroundColor=this.props.theme.buttonBg,t.color=this.props.theme.buttonColor):this.state.hovered&&(t.backgroundColor=Object(k.changeOpacity)(this.props.theme.buttonBg,.3)),O.a.createElement("div",{style:e,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,role:"button"},O.a.createElement("div",{style:t},this.props.score))}}j(x,"propTypes",{isSmall:P.a.bool.isRequired,score:P.a.number.isRequired,selected:P.a.bool.isRequired,selectScore:P.a.func.isRequired,theme:P.a.object.isRequired});const Y={bubble:{borderRadius:"100%",height:32,width:32},bubbleSmall:{borderRadius:"100%",height:24,marginTop:4,width:24},container:{cursor:"pointer",display:"inline-block",height:"100%"}};function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class J extends O.a.PureComponent{constructor(...e){super(...e),Q(this,"state",{disabled:!1}),Q(this,"selectScore",e=>{const t=this.getAction();this.props.doPostActionWithCookie(this.props.post.id,t.id,t.cookie,e.toString())}),Q(this,"getAction",(e=0)=>{const{post:t}=this.props;if(!t||!t.props||!t.props.attachments)return null;const n=t.props.attachments[0];return n&&n.actions?n.actions[e]:null}),Q(this,"getSelectedScore",()=>{const e=this.getAction();if(!e||!e.default_option)return-1;try{return parseInt(e.default_option,10)}catch(e){return-1}}),Q(this,"renderScores",e=>{const t=this.getSelectedScore(),n=[];for(let e=0;e<=10;e++)n.push(O.a.createElement(x,{key:e,isSmall:this.props.isSmall,selectScore:this.selectScore,score:e,selected:e===t,theme:this.props.theme}));return O.a.createElement("div",{style:this.props.isSmall?e.scoreContainerSmall:e.scoreContainer},O.a.createElement("div",{style:e.scoreLabels},O.a.createElement("span",null,"Not Likely"),O.a.createElement("span",{style:e.scoreLabelRight},"Very Likely")),O.a.createElement("div",{style:this.props.isSmall?e.scoresSmall:e.scores},n))})}render(){const e=W(this.props.theme),t=O.a.createElement("div",null,O.a.createElement("span",null,"You won't receive any more surveys but you can submit feedback about Mattermost by typing here at anytime.")),n=O.a.createElement("div",null,O.a.createElement("span",null,"Don't want to see this survey? "),O.a.createElement("a",{href:"#",onClick:()=>{const e=this.getAction(1);this.props.doPostActionWithCookie(this.props.post.id,e.id,e.cookie).then(()=>this.setState({disabled:!0}))}},"Click here"),O.a.createElement("span",null," to disable it.")),r=this.state.disabled?t:n;return O.a.createElement(O.a.Fragment,null,window.PostUtils.messageHtmlToComponent(window.PostUtils.formatText(this.props.post.message,{atMentions:!0})),O.a.createElement("div",{style:e.container},O.a.createElement("h1",{style:e.title},"How likely are you to recommend Mattermost?"),this.renderScores(e)),r)}}Q(J,"propTypes",{doPostActionWithCookie:P.a.func.isRequired,isSmall:P.a.bool.isRequired,post:P.a.object.isRequired,theme:P.a.object.isRequired});const W=Object(k.makeStyleFromTheme)(e=>({container:{backgroundColor:e.centerChannelBg,borderBottomRightRadius:4,borderColor:Object(k.changeOpacity)(e.centerChannelColor,.3),borderWidth:1,borderLeftColor:Object(k.changeOpacity)(e.linkColor,.5),borderLeftWidth:4,borderStyle:"solid",borderTopRightRadius:4,marginBottom:5,marginTop:5,padding:12},scoreContainer:{display:"flex",flexDirection:"column",lineHeight:32,marginBottom:4,width:432},scoreContainerSmall:{display:"flex",flexDirection:"column",marginBottom:4,width:264},scoreLabels:{display:"flex",flexGrow:1,fontSize:12,fontWeight:600,justifyContent:"space-between",lineHeight:"17px",opacity:.5},scores:{backgroundColor:Object(k.changeOpacity)(e.linkColor,.08),borderRadius:"16px",height:32,lineHeight:"32px",textAlign:"center"},scoresSmall:{backgroundColor:Object(k.changeOpacity)(e.linkColor,.08),borderRadius:"16px",height:32,lineHeight:"24px",textAlign:"center"},title:{fontSize:16,fontWeight:600,lineHeight:"22px",marginBottom:5,marginTop:5}}));const K={doPostActionWithCookie:V.doPostActionWithCookie};var z=Object(L.connect)((function(e,t){return{isSmall:T(e,t.isRHS)}}),K)(J);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class q{constructor(){Z(this,"onStateChange",()=>{this.registerSurveyPost(this.store.getState())}),Z(this,"onWindowResize",()=>{this.store.dispatch({type:"com.mattermost.nps/WINDOW_RESIZED",windowWidth:window.innerWidth})}),Z(this,"registerSurveyPost",e=>{const t=A(e);t&&!this.overrideSurveyPost?(this.overrideSurveyPost=!0,this.surveyPostComponentId=this.registry.registerPostTypeComponent("custom_nps_survey",z)):!t&&this.overrideSurveyPost&&(this.overrideSurveyPost=!1,this.registry.unregisterPostTypeComponent(this.surveyPostComponentId),this.surveyPostComponentId="")}),Z(this,"onGiveFeedbackClick",()=>{var e;this.store.dispatch((e=this.client,(t,n)=>{Object(o.getCurrentUserId)(n())&&e.userWantsToGiveFeedback().then(({data:e})=>{const t=Object(r.getChannel)(n(),e.channel_id);a(Object(i.getCurrentRelativeTeamUrl)(n()),t.name)})}))}),this.registry=null,this.store=null,this.unsubscribe=null,this.client=null,this.overrideSurveyPost=!1,this.surveyPostComponentId=""}initialize(e,t){this.registry=e,this.store=t,this.unsubscribe=t.subscribe(this.onStateChange),e.registerReducer(h);const n=new d(t);var r;e.registerMessageWillBePostedHook(n.messageWillBePosted),e.registerRootComponent(H),e.registerUserGuideDropdownMenuAction("Give Feedback",this.onGiveFeedbackClick),window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.client=new l,t.dispatch((r=this.client,(e,t)=>{Object(o.getCurrentUserId)(t())&&r.connected()}))}uninitialize(){window.removeEventListener("resize",this.onWindowResize),this.unsubscribe&&this.unsubscribe()}}window.registerPlugin(c,new q)}]);